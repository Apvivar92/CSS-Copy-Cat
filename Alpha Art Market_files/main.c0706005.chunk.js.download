(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{137:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return b}));var s=n(3),r=n.n(s),i=n(5),a=n(27),c=n(25),o=n(34),l=n(8);function d(e){return u.apply(this,arguments)}function u(){return(u=Object(i.a)(r.a.mark((function e(t){var n,s,i,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=(new TextEncoder).encode(t),i=l.b.getState().wallet){e.next=4;break}throw new Error("valid wallet not found");case 4:return e.next=6,null===(n=i.signMessage)||void 0===n?void 0:n.call(i,s);case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){var t=e.adapter;if(t){var n;null===(n=l.b.dispatch)||void 0===n||n.call(l.b,{type:"SetWallet",wallet:e});var s=l.b.getState().connection;t.publicKey&&function(e,t){t&&(Object(c.a)("Connected to your wallet",t.toBase58()),e.getBalance(t).then((function(e){var t;console.log("Balance",e),null===(t=l.b.dispatch)||void 0===t||t.call(l.b,{type:"SetBalance",balance:e})})).catch(console.error),Object(o.j)(e,t).then((function(e){var t,n;null===(t=l.b.dispatch)||void 0===t||t.call(l.b,{type:"SetEscrowAccounts",accounts:e.escrows}),null===(n=l.b.dispatch)||void 0===n||n.call(l.b,{type:"SetOfferAccounts",accounts:e.offers})})),e.getParsedTokenAccountsByOwner(t,{programId:a.c},"singleGossip").then((function(e){var t,n=e.value.filter((function(e){if("spl-token"!==e.account.data.program)return!1;var t=e.account.data.parsed;return"account"===t.type&&0===t.info.tokenAmount.decimals&&1===t.info.tokenAmount.uiAmount}));console.log(n.length);var s=n.map((function(e){return e.account.data.parsed.info.mint}));null===(t=l.b.dispatch)||void 0===t||t.call(l.b,{type:"SetUserNFTs",nfts:s})})).catch((function(e){var t;console.error(e),null===(t=l.b.dispatch)||void 0===t||t.call(l.b,{type:"SetError",where:"SetUserNFTs",error:e})})))}(s,t.publicKey),t.on("disconnect",(function(){var e;null===(e=l.b.dispatch)||void 0===e||e.call(l.b,{type:"SetWallet",wallet:void 0}),null===t||void 0===t||t.removeAllListeners()})),t.connect().then((function(){console.log("User Wallet connect end")})).catch(console.error)}return t}},24:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"f",(function(){return c})),n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"a",(function(){return b}));var s,r=n(12),i=new r.d("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),a=(new r.d("Be6ak57YfM2SVqa6Ra6f928RQp8ZzaCqcMB32kjxRZyk"),new r.d("HZaWndaNWHFDd9Dhk5pqUUtsmoBCqzb1MLu3NAh1VX6B")),c=new r.d("PigQb15gjToiDCr9HeEhTTXSc5yY22pJ9TF4nUrRw2z"),o=new r.d("2GBc4Qko5iCMoDUnS2Fquh9AmxtjDEewrrXzmWBUA8M9"),l=new r.d("D3wgcpWjAWR3GREbkyuGr3bNLHfdQsLr5hN2AvSP8pBi");var d=i;function u(){return"https://alpha-art.genesysgo.net"}var b=null!==(s="https://apis.alpha.art")?s:"https://canary.alpha.art"},247:function(e,t,n){},248:function(e,t){},25:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var s=n(8);function r(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"success",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5e3,a=Math.random().toString(10).substring(2);null===(n=s.b.dispatch)||void 0===n||n.call(s.b,{type:"AddNotification",alert:{id:a,title:e,subtitle:t,type:r}}),setTimeout((function(){var e;null===(e=s.b.dispatch)||void 0===e||e.call(s.b,{type:"RemoveNotification",id:a})}),i)}},252:function(e,t){},277:function(e,t){},278:function(e,t){},30:function(e,t,n){"use strict";(function(e){n.d(t,"e",(function(){return b})),n.d(t,"s",(function(){return f})),n.d(t,"g",(function(){return h})),n.d(t,"c",(function(){return p})),n.d(t,"t",(function(){return v})),n.d(t,"h",(function(){return O})),n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return C})),n.d(t,"i",(function(){return I})),n.d(t,"j",(function(){return W})),n.d(t,"w",(function(){return B})),n.d(t,"n",(function(){return M})),n.d(t,"o",(function(){return R})),n.d(t,"p",(function(){return _})),n.d(t,"l",(function(){return H})),n.d(t,"r",(function(){return q})),n.d(t,"u",(function(){return G})),n.d(t,"m",(function(){return Q})),n.d(t,"q",(function(){return X})),n.d(t,"f",(function(){return ee})),n.d(t,"k",(function(){return ne})),n.d(t,"d",(function(){return re})),n.d(t,"v",(function(){return ae}));var s=n(3),r=n.n(s),i=n(5),a=n(12),c=n(24),o=n(8),l=n(34),d=n(137);var u=new Map;function b(e){return m.apply(this,arguments)}function m(){return(m=Object(i.a)(r.a.mark((function e(t){var n,s,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u.has(t)||!u.get(t)){e.next=2;break}return e.abrupt("return");case 2:return u.set(t,!0),e.prev=3,e.next=6,fetch("".concat(c.a,"/api/v1/collection/").concat(t));case 6:return s=e.sent,e.next=9,s.json();case 9:i=e.sent,null===(n=o.b.dispatch)||void 0===n||n.call(o.b,{type:"AddCollectionMeta",data:i}),u.set(t,!1),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),u.delete(t);case 17:case"end":return e.stop()}}),e,null,[[3,14]])})))).apply(this,arguments)}function f(e){return j.apply(this,arguments)}function j(){return(j=Object(i.a)(r.a.mark((function e(t){var n,s,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(c.a,"/api/v1/token/").concat(t,"/refresh"));case 2:return s=e.sent,e.next=5,s.json();case 5:return i=e.sent,e.abrupt("return",null!==(n=i.history)&&void 0!==n?n:[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,t){return x.apply(this,arguments)}function x(){return(x=Object(i.a)(r.a.mark((function e(t,n){var s,i,d,u,b;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(c.a,"/api/v1/token/").concat(t));case 2:return s=e.sent,e.next=5,s.json();case 5:return i=e.sent,null===n||void 0===n||n(i),d=o.b.getState().connection,u=new a.d(t),e.next=11,Object(l.g)(d,u,"singleGossip");case 11:return b=e.sent,!1,"undefined"===typeof b&&"undefined"!==typeof i.listing&&(i.listing=void 0,!0,f(t).then((function(e){})).catch((function(e){}))),e.abrupt("return",[i,b]);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return g.apply(this,arguments)}function g(){return(g=Object(i.a)(r.a.mark((function e(t){var n,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(c.a,"/api/v1/collection"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,e.next=5,n.json();case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return y.apply(this,arguments)}function y(){return(y=Object(i.a)(r.a.mark((function e(t){var n,s,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(c.a,"/api/v1/activity"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return s=e.sent,e.next=5,s.json();case 5:return i=e.sent,e.abrupt("return",null!==(n=i.history)&&void 0!==n?n:[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e,t,n){return w.apply(this,arguments)}function w(){return(w=Object(i.a)(r.a.mark((function e(t,n,s){var i,a,l,d;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(c.a,"/api/v1/token/list"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({owner:t,tokens:n})});case 2:return i=e.sent,e.next=5,i.json();case 5:return a=e.sent,!0!==s&&(null===(l=o.b.dispatch)||void 0===l||l.call(o.b,{type:"SetUserTokens",tokens:null!==(d=a.tokens)&&void 0!==d?d:[]})),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return N.apply(this,arguments)}function N(){return(N=Object(i.a)(r.a.mark((function e(t){var n,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(c.a,"/api/v1/token/controlPrice"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pubkey:t.toBase58()})});case 2:return n=e.sent,e.next=5,n.json();case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S=new Map;function C(e){return T.apply(this,arguments)}function T(){return(T=Object(i.a)(r.a.mark((function e(t){var n,s,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"===typeof t){e.next=2;break}return e.abrupt("return");case 2:if(!S.has(t)){e.next=4;break}return e.abrupt("return");case 4:return S.set(t,!0),e.next=7,fetch("".concat(c.a,"/api/v1/user/").concat(t));case 7:if(!(n=e.sent).ok){e.next=15;break}return e.next=11,n.json();case 11:i=e.sent,null===(s=o.b.dispatch)||void 0===s||s.call(o.b,{type:"AddUser",user:i}),e.next=19;break;case 15:return S.set(t,!1),e.next=18,n.json();case 18:throw e.sent;case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e,t){return A.apply(this,arguments)}function A(){return(A=Object(i.a)(r.a.mark((function e(t,n){var s,i,a,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S.set(t,!0),s="".concat(c.a,"/api/v1/user/").concat(t),!0===n&&(s+="?isAdmin=1"),e.next=5,fetch(s);case 5:if(!(i=e.sent).ok){e.next=14;break}return e.next=9,i.json();case 9:return l=e.sent,null===(a=o.b.dispatch)||void 0===a||a.call(o.b,{type:"AddUser",user:l}),e.abrupt("return",l);case 14:return S.set(t,!1),e.next=17,i.json();case 17:throw e.sent;case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e){return window.btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function F(e,t,n){return E.apply(this,arguments)}function E(){return(E=Object(i.a)(r.a.mark((function t(n,s,i){var a,c,l,u,b,m,f,j,h,x,p;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={},s.email&&(a.email=s.email),s.username&&(a.username=s.username),s.exp&&(a.exp=s.exp),s.iat&&(a.iat=s.iat),s.admin&&(a.admin=s.admin),s.annotations&&(a.annotations=s.annotations),"number"===typeof s.minimumOffer&&(a.minimumOffer=s.minimumOffer),s.minimumCollectionOffers&&(a.minimumCollectionOffers=s.minimumCollectionOffers),s.notifications&&(a.notifications=s.notifications),c={alg:"ed25519",kid:n},l=JSON.stringify(c),u=JSON.stringify(a),b=P(l)+"."+P(u),t.next=16,Object(d.b)(b);case 16:return m=t.sent,f=e.from(m),j=f.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""),h=b+"."+j,i&&s.exp&&(null===(x=o.b.dispatch)||void 0===x||x.call(o.b,{type:"SetAccessToken",expAt:null!==(p=s.exp)&&void 0!==p?p:0,of:n,token:h,admin:s.admin})),t.abrupt("return",{jws:h});case 22:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function W(e){return L.apply(this,arguments)}function L(){return(L=Object(i.a)(r.a.mark((function e(t){var n,s,i,a,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Math.round(Date.now()/1e3),s=n+3600,e.next=4,F(t,{exp:s,iat:n});case 4:return i=e.sent,e.next=7,fetch("".concat(c.a,"/api/v1/user/me"),{method:"GET",headers:{"Content-Type":"application/json",authorization:"Bearer "+i.jws}});case 7:if(!(a=e.sent).ok){e.next=15;break}return e.next=11,a.json();case 11:return o=e.sent,e.abrupt("return",o);case 15:return e.next=17,a.json();case 17:throw e.sent;case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e,t){return D.apply(this,arguments)}function D(){return(D=Object(i.a)(r.a.mark((function e(t,n){var s,i,a,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(t,n);case 2:return s=e.sent,e.next=5,fetch("".concat(c.a,"/api/v1/user/update"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});case 5:if(!(i=e.sent).ok){e.next=14;break}return e.next=9,i.json();case 9:return l=e.sent,null===(a=o.b.dispatch)||void 0===a||a.call(o.b,{type:"AddUser",user:l}),e.abrupt("return",l);case 14:return e.next=16,i.json();case 16:throw e.sent;case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e,t){return z.apply(this,arguments)}function z(){return(z=Object(i.a)(r.a.mark((function e(t,n){var s,i,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(t,n);case 2:return s=e.sent,e.next=5,fetch("".concat(c.a,"/api/v1/user/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});case 5:if(!(i=e.sent).ok){e.next=13;break}return e.next=9,i.json();case 9:return a=e.sent,e.abrupt("return",a);case 13:return e.next=15,i.json();case 15:throw e.sent;case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e){return U.apply(this,arguments)}function U(){return(U=Object(i.a)(r.a.mark((function e(t){var n,s,i,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(s=new URLSearchParams).set("q",t),s.set("t","c"),e.next=5,fetch("".concat(c.a,"/api/v1/search?").concat(s.toString()));case 5:return i=e.sent,e.next=8,i.json();case 8:return a=e.sent,e.abrupt("return",null!==(n=a.entities)&&void 0!==n?n:[]);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e,t){return K.apply(this,arguments)}function K(){return(K=Object(i.a)(r.a.mark((function e(t,n){var s,i,a,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=new URLSearchParams).set("q",t),i.set("t","nft"),i.set("i",n),e.next=6,fetch("".concat(c.a,"/api/v1/search?").concat(i.toString()));case 6:return a=e.sent,e.next=9,a.json();case 9:return o=e.sent,e.abrupt("return",null!==(s=o.entities)&&void 0!==s?s:[]);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e){return V.apply(this,arguments)}function V(){return(V=Object(i.a)(r.a.mark((function e(t){var n,s,i,a,o,l,d=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=d.length>1&&void 0!==d[1]?d[1]:0,i=!(d.length>2&&void 0!==d[2])||d[2],(a=new URLSearchParams).set("order",t),i&&a.set("strip","1"),s>0&&a.set("n",s.toString()),e.next=8,fetch("".concat(c.a,"/api/v1/collections?").concat(a.toString()));case 8:return o=e.sent,e.next=11,o.json();case 11:return l=e.sent,e.abrupt("return",null!==(n=l.collections)&&void 0!==n?n:[]);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e){return Y.apply(this,arguments)}function Y(){return(Y=Object(i.a)(r.a.mark((function e(t){var n,s,i,a,c,l,d;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Math.round(Date.now()/1e3),s="",(i=o.b.getState().accessToken)&&i.expAt>=n&&i.of===t&&(s=i.token),""!==s){e.next=14;break}return a={iat:n,exp:n+720},!0===(null===(c=o.b.getState().user)||void 0===c?void 0:c.isAdmin)&&(null===c||void 0===c?void 0:c.pubkey)===t&&(a.admin=!0),e.next=11,F(t,a,!0);case 11:l=e.sent,d=l.jws,s=d;case 14:return e.abrupt("return",s);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e,t,n){return J.apply(this,arguments)}function J(){return(J=Object(i.a)(r.a.mark((function e(t,n,s){var i,a,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q(t);case 2:return i=e.sent,e.next=5,fetch("".concat(c.a,"/api/v1/collection/update"),{method:"POST",headers:{"Content-Type":"application/json",authorization:i},body:JSON.stringify({collection:s,fields:{paths:n}})});case 5:if(!(a=e.sent).ok){e.next=13;break}return e.next=9,a.json();case 9:return o=e.sent,e.abrupt("return",o);case 13:return e.next=15,a.json();case 15:throw e.sent;case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(){return Z.apply(this,arguments)}function Z(){return(Z=Object(i.a)(r.a.mark((function e(){var t,n,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(c.a,"/api/v1/listingapp/list_featured"));case 2:return n=e.sent,e.next=5,n.json();case 5:return s=e.sent,e.abrupt("return",null!==(t=s.featuredList)&&void 0!==t?t:[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e,t){return $.apply(this,arguments)}function $(){return($=Object(i.a)(r.a.mark((function e(t,n){var s,i,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.ownerPubkey=t,e.next=3,q(t);case 3:return s=e.sent,e.next=6,fetch("".concat(c.a,"/api/v1/listingapp/add"),{method:"POST",headers:{"Content-Type":"application/json",authorization:s},body:JSON.stringify(n)});case 6:if(!(i=e.sent).ok){e.next=14;break}return e.next=10,i.json();case 10:return a=e.sent,e.abrupt("return",a.id);case 14:return e.next=16,i.json();case 16:throw e.sent;case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(e,t){return te.apply(this,arguments)}function te(){return(te=Object(i.a)(r.a.mark((function e(t,n){var s,i,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q(t);case 2:return s=e.sent,e.next=5,fetch("".concat(c.a,"/api/v1/listingapp/").concat(n),{method:"GET",headers:{"Content-Type":"application/json",authorization:s}});case 5:if(!(i=e.sent).ok){e.next=13;break}return e.next=9,i.json();case 9:return a=e.sent,e.abrupt("return",a);case 13:return e.next=15,i.json();case 15:throw e.sent;case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e){return se.apply(this,arguments)}function se(){return(se=Object(i.a)(r.a.mark((function e(t){var n,s,i,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q(t);case 2:return n=e.sent,e.next=5,fetch("".concat(c.a,"/api/v1/listingapp/list"),{method:"GET",headers:{authorization:n}});case 5:if(!(s=e.sent).ok){e.next=13;break}return e.next=9,s.json();case 9:return a=e.sent,e.abrupt("return",null!==(i=a.listingapps)&&void 0!==i?i:[]);case 13:return e.next=15,s.json();case 15:throw e.sent;case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(e,t){return ie.apply(this,arguments)}function ie(){return(ie=Object(i.a)(r.a.mark((function e(t,n){var s,i,a,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q(t);case 2:return s=e.sent,e.next=5,fetch("".concat(c.a,"/api/v1/listingapp/list"),{method:"POST",headers:{"Content-Type":"application/json",authorization:s},body:JSON.stringify(n)});case 5:if(!(i=e.sent).ok){e.next=13;break}return e.next=9,i.json();case 9:return o=e.sent,e.abrupt("return",null!==(a=o.listingapps)&&void 0!==a?a:[]);case 13:return e.next=15,i.json();case 15:throw e.sent;case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e,t,n){return ce.apply(this,arguments)}function ce(){return(ce=Object(i.a)(r.a.mark((function e(t,n,s){var i,a,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q(t);case 2:return i=e.sent,e.next=5,fetch("".concat(c.a,"/api/v1/listingapp/update"),{method:"POST",headers:{"Content-Type":"application/json",authorization:i},body:JSON.stringify({listingapp:s,fields:{paths:n}})});case 5:if(!(a=e.sent).ok){e.next=13;break}return e.next=9,a.json();case 9:return o=e.sent,e.abrupt("return",o);case 13:return e.next=15,a.json();case 15:throw e.sent;case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}).call(this,n(13).Buffer)},302:function(e,t){},303:function(e,t){},307:function(e,t){},309:function(e,t){},34:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return m})),n.d(t,"c",(function(){return j})),n.d(t,"f",(function(){return p})),n.d(t,"a",(function(){return k})),n.d(t,"j",(function(){return S})),n.d(t,"g",(function(){return T})),n.d(t,"h",(function(){return A})),n.d(t,"i",(function(){return F}));var s=n(3),r=n.n(s),i=n(5),a=n(12),c=n(24),o=n(38);function l(e){return d.apply(this,arguments)}function d(){return(d=Object(i.a)(r.a.mark((function t(n){var s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.d.findProgramAddress([e.from("metadata"),c.c.toBuffer(),n.toBuffer()],c.c);case 2:return s=t.sent,t.abrupt("return",s[0]);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function u(){return b.apply(this,arguments)}function b(){return(b=Object(i.a)(r.a.mark((function t(){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.d.findProgramAddress([e.from("piggy")],c.d);case 2:return n=t.sent,t.abrupt("return",n[0]);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function m(e){return f.apply(this,arguments)}function f(){return(f=Object(i.a)(r.a.mark((function t(n){var s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.d.findProgramAddress([e.from("stake"),n.toBuffer()],c.f);case 2:return s=t.sent,t.abrupt("return",s[0]);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function j(e,t){return h.apply(this,arguments)}function h(){return(h=Object(i.a)(r.a.mark((function t(n,s){var i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.d.findProgramAddress([e.from("offer"),n.toBuffer(),e.from(s)],c.d);case 2:return i=t.sent,t.abrupt("return",i[0]);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function x(e){return new Promise((function(t){return setTimeout(t,e)}))}function p(e){return g.apply(this,arguments)}function g(){return(g=Object(i.a)(r.a.mark((function e(t){var n,s,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._rpcRequest("getFees",t._buildArgs([],"max"));case 2:return n=e.sent,s=n.result.value,i=s.lastValidBlockHeight,e.abrupt("return",{blockhash:s.blockhash,lastValidBlockHeight:i});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e,t){return y.apply(this,arguments)}function y(){return(y=Object(i.a)(r.a.mark((function e(t,n){var s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._rpcRequest("getBlockHeight",t._buildArgs([],null!==n&&void 0!==n?n:"processed"));case 2:return s=e.sent,e.abrupt("return",s.result);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e,t,n,s){return w.apply(this,arguments)}function w(){return(w=Object(i.a)(r.a.mark((function e(t,n,s,i){var a,c,o,l,d,u,b,m;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=null!==(a=null===i||void 0===i?void 0:i.commitment)&&void 0!==a?a:"confirmed",l=null!==(c=null===i||void 0===i?void 0:i.maxRetry)&&void 0!==c?c:10,d=0;case 3:if(!(d<l)){e.next=28;break}return e.prev=4,e.next=7,t.getConfirmedTransaction(n,o);case 7:if(!(null===(b=e.sent)||void 0===b||null===(u=b.meta)||void 0===u?void 0:u.err)){e.next=11;break}return console.error(null===b||void 0===b?void 0:b.meta.err),e.abrupt("return",!1);case 11:if("undefined"===typeof(null===b||void 0===b?void 0:b.blockTime)||"undefined"===typeof(null===b||void 0===b?void 0:b.transaction.recentBlockhash)){e.next=13;break}return e.abrupt("return",!0);case 13:e.next=17;break;case 15:e.prev=15,e.t0=e.catch(4);case 17:return e.next=19,v(t,"processed");case 19:if(!((m=e.sent)>s)){e.next=23;break}return console.error("current blockHeight=".concat(m," is lareger than lastValidBlockHeight=").concat(s)),e.abrupt("return",!1);case 23:return e.next=25,x(1e3+750*d);case 25:d+=1,e.next=3;break;case 28:return e.abrupt("return",!1);case 29:case"end":return e.stop()}}),e,null,[[4,15]])})))).apply(this,arguments)}function k(e,t,n,s){return N.apply(this,arguments)}function N(){return(N=Object(i.a)(r.a.mark((function e(t,n,s,i){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t,n,s,i);case 2:if(!e.sent){e.next=5;break}return e.abrupt("return",!0);case 5:return e.abrupt("return",Promise.reject(new Error("failed to confirm")));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e,t){return C.apply(this,arguments)}function C(){return(C=Object(i.a)(r.a.mark((function e(t,n){var s,i,a,l,d=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=d.length>2&&void 0!==d[2]?d[2]:"singleGossip",e.next=3,t.getProgramAccounts(c.d,{commitment:s,filters:[{memcmp:{offset:1,bytes:n.toBase58()}}]});case 3:return i=e.sent,a=[],l=[],i.forEach((function(e){if(e.account.data.length===o.a||e.account.data.length===o.b){var t=Object(o.h)(e.account.data),n=e.pubkey;a.push({escrow:t,pubkey:n})}else{var s=Object(o.j)(e.account.data),r=e.pubkey;l.push({offer:s,pubkey:r})}})),e.abrupt("return",{escrows:a,offers:l});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e,t){return I.apply(this,arguments)}function I(){return(I=Object(i.a)(r.a.mark((function e(t,n){var s,i,a,l=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=l.length>2&&void 0!==l[2]?l[2]:"singleGossip",e.next=3,t.getProgramAccounts(c.d,{commitment:s,filters:[{memcmp:{offset:65,bytes:n.toBase58()}}]});case 3:return i=e.sent,a=[],i.forEach((function(e){if(e.account.data.length===o.a||e.account.data.length===o.b){var t=Object(o.h)(e.account.data),n=e.pubkey;a.push({escrow:t,pubkey:n})}})),e.abrupt("return",a[0]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e,t){return P.apply(this,arguments)}function P(){return(P=Object(i.a)(r.a.mark((function e(t,n){var s,i,a,l=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=l.length>2&&void 0!==l[2]?l[2]:"singleGossip",e.next=3,t.getProgramAccounts(c.d,{commitment:s,filters:[{memcmp:{offset:33,bytes:n}}]});case 3:return i=e.sent,a=[],i.forEach((function(e){try{var t=Object(o.j)(e.account.data),n=e.pubkey;a.push({offer:t,pubkey:n})}catch(s){}})),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e,t){return E.apply(this,arguments)}function E(){return(E=Object(i.a)(r.a.mark((function e(t,n){var s,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(n);case 2:return s=e.sent,e.next=5,t.getAccountInfo(s,"processed");case 5:if(i=e.sent){e.next=8;break}throw new Error("stake account could not found");case 8:return e.abrupt("return",Object(o.k)(i.data));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}).call(this,n(13).Buffer)},38:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return T})),n.d(t,"b",(function(){return I})),n.d(t,"c",(function(){return A})),n.d(t,"j",(function(){return P})),n.d(t,"h",(function(){return F})),n.d(t,"i",(function(){return E})),n.d(t,"k",(function(){return W})),n.d(t,"m",(function(){return L})),n.d(t,"l",(function(){return B})),n.d(t,"q",(function(){return D})),n.d(t,"s",(function(){return M})),n.d(t,"o",(function(){return z})),n.d(t,"f",(function(){return R})),n.d(t,"g",(function(){return U})),n.d(t,"e",(function(){return _})),n.d(t,"p",(function(){return K})),n.d(t,"r",(function(){return H})),n.d(t,"n",(function(){return V})),n.d(t,"d",(function(){return q}));var s=n(18),r=n(10),i=n(15),a=n(12),c=n(27),o=n(44),l=n(33),d=n.n(l),u=n(24);o.BinaryReader.prototype.readPubkey=function(){var e=this.readFixedArray(32);return new a.d(e)},o.BinaryWriter.prototype.writePubkey=function(e){this.writeFixedArray(e.toBuffer())},o.BinaryReader.prototype.readPubkeyAsString=function(){var e=this.readFixedArray(32);return d.a.encode(e)},o.BinaryWriter.prototype.writePubkeyAsString=function(e){this.writeFixedArray(d.a.decode(e))},o.BinaryReader.prototype.readBool=function(){return 1==this.readFixedArray(1)[0]},o.BinaryWriter.prototype.writeBool=function(e){e?this.writeFixedArray(new Uint8Array([1])):this.writeFixedArray(new Uint8Array([0]))};var b,m=function(){function e(t){var n;Object(r.a)(this,e),this.isInitialized=void 0,this.initializerPubkey=void 0,this.tempTokenAccountPubkey=void 0,this.mintId=void 0,this.price=void 0,this.updatedAt=void 0,this.isInitialized=t.isInitialized,this.price=t.price,this.initializerPubkey=t.initializerPubkey,this.tempTokenAccountPubkey=t.tempTokenAccountPubkey,this.mintId=t.mintId,this.updatedAt=null!==(n=t.updatedAt)&&void 0!==n?n:0}return Object(i.a)(e,[{key:"toString",value:function(){var e;return JSON.stringify({isInitialized:this.isInitialized,initializerPubkey:this.initializerPubkey.toBase58(),tempTokenAccountPubkey:this.tempTokenAccountPubkey.toBase58(),mintId:this.mintId.toBase58(),price:this.price.toString(10),updatedAt:null===(e=this.updatedAt)||void 0===e?void 0:e.toString(10)},null,"  ")}}]),e}(),f=function(){function e(t){Object(r.a)(this,e),this.isInitialized=void 0,this.initializerPubkey=void 0,this.tempTokenAccountPubkey=void 0,this.mintId=void 0,this.price=void 0,this.isInitialized=t.isInitialized,this.price=t.price,this.initializerPubkey=t.initializerPubkey,this.tempTokenAccountPubkey=t.tempTokenAccountPubkey,this.mintId=t.mintId}return Object(i.a)(e,[{key:"toString",value:function(){return JSON.stringify({isInitialized:this.isInitialized,initializerPubkey:this.initializerPubkey.toBase58(),tempTokenAccountPubkey:this.tempTokenAccountPubkey.toBase58(),mintId:this.mintId.toBase58(),price:this.price.toString(10)},null,"  ")}}]),e}(),j=function(){function e(t){var n;Object(r.a)(this,e),this.state=void 0,this.initializerPubkey=void 0,this.mintId=void 0,this.price=void 0,this.expiresAt=void 0,this.tokens=void 0,this.state=t.state,this.price=t.price,this.initializerPubkey=t.initializerPubkey,this.expiresAt=t.expiresAt,this.mintId=t.mintId,this.tokens=null!==(n=t.tokens)&&void 0!==n?n:[]}return Object(i.a)(e,[{key:"toString",value:function(){return JSON.stringify({state:this.state,initializerPubkey:this.initializerPubkey.toBase58(),mintId:this.mintId.toBase58(),price:this.price.toString(10),expiresAt:this.expiresAt.toString(10),tokens:this.tokens.map((function(e){return e.toBase58()}))},null,"  ")}},{key:"isNFTOffer",get:function(){return 2===this.state}}]),e}(),h=function e(t){Object(r.a)(this,e),this.instruction=void 0,this.instruction=t},x=function e(t,n){Object(r.a)(this,e),this.instruction=void 0,this.price=void 0,this.instruction=t,this.price=n},p=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;Object(r.a)(this,e),this.instruction=void 0,this.slots=void 0,this.instruction=0,this.slots=t},g=function e(t,n,s){Object(r.a)(this,e),this.instruction=void 0,this.price=void 0,this.expiresAt=void 0,this.instruction=t,this.price=n,this.expiresAt=s},v=function e(t,n){Object(r.a)(this,e),this.instruction=void 0,this.expiresAt=void 0,this.seed=void 0,this.instruction=11,this.expiresAt=t,this.seed=n},y=function e(t,n){Object(r.a)(this,e),this.instruction=void 0,this.price=void 0,this.mintPubkey=void 0,this.instruction=12,this.price=t,this.mintPubkey=n},O=function e(t){Object(r.a)(this,e),this.address=void 0,this.verified=void 0,this.share=void 0,this.address=t.address,this.verified=t.verified,this.share=t.share},w=function e(t){Object(r.a)(this,e),this.name=void 0,this.symbol=void 0,this.uri=void 0,this.sellerFeeBasisPoints=void 0,this.creators=void 0,this.name=t.name,this.symbol=t.symbol,this.uri=t.uri,this.sellerFeeBasisPoints=t.sellerFeeBasisPoints,this.creators=t.creators};!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.MetadataV1=4]="MetadataV1",e[e.EditionV1=1]="EditionV1",e[e.MasterEditionV1=2]="MasterEditionV1",e[e.MasterEditionV2=6]="MasterEditionV2",e[e.EditionMarker=7]="EditionMarker"}(b||(b={}));var k=function e(t){Object(r.a)(this,e),this.key=void 0,this.updateAuthority=void 0,this.mint=void 0,this.data=void 0,this.primarySaleHappened=void 0,this.isMutable=void 0,this.key=b.MetadataV1,this.updateAuthority=t.updateAuthority,this.mint=t.mint,this.data=t.data,this.primarySaleHappened=t.primarySaleHappened,this.isMutable=t.isMutable},N=function(){function e(t){Object(r.a)(this,e),this.mint=void 0,this.stakedAt=void 0,this.mint=t.mint,this.stakedAt=t.stakedAt}return Object(i.a)(e,[{key:"toString",value:function(){return JSON.stringify({mint:this.mint.toBase58(),stakedAt:this.stakedAt.toString(10)},null,"  ")}},{key:"toObject",value:function(){return{mint:this.mint.toBase58(),stakedAt:this.stakedAt.toString(10)}}}]),e}(),S=function(){function e(t){var n;Object(r.a)(this,e),this.state=void 0,this.initializer=void 0,this.tokens=void 0,this.state=t.state,this.initializer=t.initializer,this.tokens=null!==(n=t.tokens)&&void 0!==n?n:[]}return Object(i.a)(e,[{key:"toString",value:function(){return JSON.stringify({state:this.state,initializer:this.initializer.toBase58(),tokens:this.tokens.map((function(e){return e.toObject()}))},null,"  ")}}]),e}(),C=new Map([[N,{kind:"struct",fields:[["mint","pubkey"],["stakedAt","u64"]]}],[S,{kind:"struct",fields:[["state","u8"],["initializer","pubkey"],["tokens",[N]]]}],[x,{kind:"struct",fields:[["instruction","u8"],["price","u64"]]}],[p,{kind:"struct",fields:[["instruction","u8"],["slots","u64"]]}],[g,{kind:"struct",fields:[["instruction","u8"],["price","u64"],["expiresAt","u64"]]}],[v,{kind:"struct",fields:[["instruction","u8"],["expiresAt","u64"],["seed","string"]]}],[y,{kind:"struct",fields:[["instruction","u8"],["price","u64"],["mintPubkey","pubkey"]]}],[h,{kind:"struct",fields:[["instruction","u8"]]}],[m,{kind:"struct",fields:[["isInitialized","bool"],["initializerPubkey","pubkey"],["tempTokenAccountPubkey","pubkey"],["mintId","pubkey"],["price","u64"],["updatedAt","u64"]]}],[f,{kind:"struct",fields:[["isInitialized","bool"],["initializerPubkey","pubkey"],["tempTokenAccountPubkey","pubkey"],["mintId","pubkey"],["price","u64"]]}],[j,{kind:"struct",fields:[["state","u8"],["initializerPubkey","pubkey"],["mintId","pubkey"],["price","u64"],["expiresAt","u64"],["tokens",["pubkey"]]]}],[w,{kind:"struct",fields:[["name","string"],["symbol","string"],["uri","string"],["sellerFeeBasisPoints","u16"],["creators",{kind:"option",type:[O]}]]}],[O,{kind:"struct",fields:[["address","pubkey"],["verified","u8"],["share","u8"]]}],[k,{kind:"struct",fields:[["key","u8"],["updateAuthority","pubkey"],["mint","pubkey"],["data",w],["primarySaleHappened","u8"],["isMutable","u8"]]}]]),T=114,I=105,A=85;function P(e){return Object(o.deserializeUnchecked)(C,j,e)}function F(e){if(105===e.length){var t=Object(o.deserializeUnchecked)(C,f,e);return new m(t)}return Object(o.deserializeUnchecked)(C,m,e)}function E(e){return Object(o.deserializeUnchecked)(C,k,e)}function W(e){return Object(o.deserializeUnchecked)(C,S,e)}function L(t,n,s,r,i,l){var d=new x(0,t),b=e.from(Object(o.serialize)(C,d)),m=[{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:a.f,isSigner:!1,isWritable:!1},{pubkey:c.c,isSigner:!1,isWritable:!1},{pubkey:a.e,isSigner:!1,isWritable:!1}];return new a.i({keys:m,programId:u.d,data:b})}function B(t,n,r,i,l,d,b,m,f,j,h,p){var g,v=new x(2,t),y=e.from(Object(o.serialize)(C,v)),O=[{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!1},{pubkey:j,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!1},{pubkey:c.c,isSigner:!1,isWritable:!1},{pubkey:a.g.programId,isSigner:!1,isWritable:!1},{pubkey:h,isSigner:!1,isWritable:!0},{isSigner:!1,isWritable:!1,pubkey:a.e}],w=Object(s.a)(p);try{for(w.s();!(g=w.n()).done;){var k=g.value;O.push({isSigner:!1,isWritable:!0,pubkey:k})}}catch(N){w.e(N)}finally{w.f()}return new a.i({keys:O,programId:u.d,data:y})}function D(t,n,s,r,i,l){var d=new h(1),b=e.from(Object(o.serialize)(C,d)),m=[{pubkey:t,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:c.c,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1}];return new a.i({keys:m,programId:u.d,data:b})}function M(t,n,s,r){var i=new x(6,t),c=e.from(Object(o.serialize)(C,i)),l=[{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:a.e,isSigner:!1,isWritable:!1}];return new a.i({keys:l,programId:u.d,data:c})}function z(t,n,s,r,i){var c=new g(3,t,n),l=e.from(Object(o.serialize)(C,c)),d=[{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:a.f,isSigner:!1,isWritable:!1}];return new a.i({keys:d,programId:u.d,data:l})}function R(t,n,r){var i=new h(4),l=e.from(Object(o.serialize)(C,i)),d=[{pubkey:t,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0}];if(r){d.push({pubkey:r.pda,isSigner:!1,isWritable:!1}),d.push({pubkey:c.c,isSigner:!1,isWritable:!1});var b,m=Object(s.a)(r.accounts);try{for(m.s();!(b=m.n()).done;){var f=b.value;d.push({pubkey:f,isSigner:!1,isWritable:!0})}}catch(j){m.e(j)}finally{m.f()}}return new a.i({keys:d,programId:u.d,data:l})}function U(t,n,r,i){var l=new h(7),d=e.from(Object(o.serialize)(C,l)),b=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:a.e,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];if(i){b.push({pubkey:i.pda,isSigner:!1,isWritable:!1}),b.push({pubkey:c.c,isSigner:!1,isWritable:!1});var m,f=Object(s.a)(i.accounts);try{for(f.s();!(m=f.n()).done;){var j=m.value;b.push({pubkey:j,isSigner:!1,isWritable:!0})}}catch(x){f.e(x)}finally{f.f()}}return new a.i({keys:b,programId:u.d,data:d})}function _(t,n,r,i,l,d,b,m,f,j){var x,p=new h(5),g=e.from(Object(o.serialize)(C,p)),v=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!1},{pubkey:b,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!1},{pubkey:c.c,isSigner:!1,isWritable:!1},{pubkey:a.g.programId,isSigner:!1,isWritable:!1},{pubkey:a.e,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!0}],y=Object(s.a)(j);try{for(y.s();!(x=y.n()).done;){var O=x.value;v.push({isSigner:!1,isWritable:!0,pubkey:O})}}catch(w){y.e(w)}finally{y.f()}return new a.i({keys:v,programId:u.d,data:g})}function K(t,n,s,r,i){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:4,d=new p(l),b=e.from(Object(o.serialize)(C,d)),m=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:a.e,isSigner:!1,isWritable:!1},{pubkey:a.f,isSigner:!1,isWritable:!1},{pubkey:c.c,isSigner:!1,isWritable:!1},{pubkey:a.g.programId,isSigner:!1,isWritable:!1}];return new a.i({keys:m,programId:u.f,data:b})}function H(t,n,s,r){var i=new h(1),l=e.from(Object(o.serialize)(C,i)),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:u.e,isSigner:!1,isWritable:!1},{pubkey:c.c,isSigner:!1,isWritable:!1},{pubkey:a.e,isSigner:!1,isWritable:!1}];return new a.i({keys:d,programId:u.f,data:l})}function V(t,n,s,r,i,l,d,b){for(var m=new v(t,i),f=e.from(Object(o.serialize)(C,m)),j=[{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:a.f,isSigner:!1,isWritable:!1},{pubkey:c.c,isSigner:!1,isWritable:!1},{pubkey:a.g.programId,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1}],h=0;h<d.length;h++)j.push({pubkey:d[h],isSigner:!1,isWritable:!1}),j.push({pubkey:b[h],isSigner:!1,isWritable:!0});return new a.i({keys:j,programId:u.d,data:f})}function q(t,n,r,i,l,d,b,m,f,j,x){var p,g=new h(5),v=e.from(Object(o.serialize)(C,g)),y=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!1},{pubkey:b,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!1},{pubkey:c.c,isSigner:!1,isWritable:!1},{pubkey:j,isSigner:!1,isWritable:!1},{pubkey:a.e,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:a.g.programId,isSigner:!1,isWritable:!1}],O=Object(s.a)(x);try{for(O.s();!(p=O.n()).done;){var w=p.value;y.push({isSigner:!1,isWritable:!0,pubkey:w})}}catch(k){O.e(k)}finally{O.f()}return new a.i({keys:y,programId:u.d,data:v})}}).call(this,n(13).Buffer)},468:function(e,t,n){"use strict";n.r(t);var s=n(0),r=n.n(s),i=n(60),a=n.n(i),c=(n(247),n(6)),o=n(7),l=n(14),d=n(12);function u(e){if("undefined"===typeof e)return 0;if("string"===typeof e){var t=(e=parseInt(e,10))/d.c;return Math.round(100*t)/100}return isNaN(e)?0:Math.round(e/d.c*100)/100}var b=n(31),m=n(1);function f(e){if(e.src.startsWith("https://cdn.alpha.art/opt/")){var t=e.src.split("/"),n=t.slice(0,t.length-1);return Object(m.jsxs)("picture",{children:[Object(m.jsx)("source",{type:"image/webp",srcSet:[[].concat(Object(l.a)(n),["340.webp"]).join("/"),[].concat(Object(l.a)(n),["680.webp 2x"]).join("/")].join(", ")}),Object(m.jsx)("img",{loading:"lazy",src:[].concat(Object(l.a)(n),["340.png"]).join("/"),srcSet:[[].concat(Object(l.a)(n),["340.png"]).join("/"),[].concat(Object(l.a)(n),["680.png 2x"]).join("/")].join(", "),alt:e.alt,className:"contain"===e.resize?"w-full h-full object-center object-contain group-hover:opacity-60":"w-full h-full object-center object-cover group-hover:opacity-60"})]})}return Object(m.jsx)("img",{loading:"lazy",src:e.src,alt:e.alt,className:"contain"===e.resize?"w-full h-full object-center object-contain group-hover:opacity-60":"w-full h-full object-center object-cover group-hover:opacity-60"})}function j(e){if(e.src.startsWith("https://cdn.alpha.art/opt/")){var t=e.src.split("/"),n=t.slice(0,t.length-1);return Object(m.jsxs)("picture",{children:[Object(m.jsx)("source",{type:"image/webp",srcSet:[[].concat(Object(l.a)(n),["680.webp"]).join("/"),[].concat(Object(l.a)(n),["960.webp 2x"]).join("/")].join(", ")}),Object(m.jsx)("img",{loading:"lazy",src:[].concat(Object(l.a)(n),["680.png"]).join("/"),srcSet:[[].concat(Object(l.a)(n),["680.png"]).join("/"),[].concat(Object(l.a)(n),["960.png 2x"]).join("/")].join(", "),alt:e.alt,className:"w-full h-full object-center object-cover group-hover:opacity-60 "})]})}return Object(m.jsx)("img",{loading:"lazy",src:e.src,alt:e.alt,className:"w-full h-full object-center object-cover group-hover:opacity-60 "})}function h(e){var t,n,s=e.size,r=void 0===s?"rect":s,i=e.resize,a=void 0===i?"cover":i,o=null;if(e.listedForSale){var l,d,h=Object(m.jsxs)("h3",{className:"text-base text-gray-700",children:["\u25ce ",u(e.price)]}),x=null;"offerPrice"===e.showField&&(null!==(l=e.offerPrice)&&void 0!==l?l:-1)>0?x=Object(m.jsxs)("div",{className:"flex items-center",children:[Object(m.jsx)("p",{className:"text-xs text-right font-light text-gray-600 mr-1",children:"Max Offer"}),Object(m.jsxs)("h3",{className:"text-sm text-gray-700",children:["\u25ce",u(e.offerPrice)]})]}):"lastPrice"===e.showField&&(null!==(d=e.last)&&void 0!==d?d:-1)>0&&(x=Object(m.jsxs)("div",{className:"flex items-center",children:[Object(m.jsx)("p",{className:"text-xs text-right font-light text-gray-600 mr-1",children:"Last"}),Object(m.jsxs)("h3",{className:"text-sm text-gray-700",children:["\u25ce",u(e.last)]})]})),o=Object(m.jsx)("div",{className:"flex flex-col items-end",children:[h,x]})}else"offerPrice"===e.showField&&(null!==(t=e.offerPrice)&&void 0!==t?t:-1)>0?o=Object(m.jsxs)("div",{className:"flex flex-col items-end",children:[Object(m.jsx)("p",{className:"text-xs text-right font-light text-gray-600",children:"Max Offer"}),Object(m.jsxs)("h3",{className:"text-xs text-gray-700",children:["\u25ce",u(e.offerPrice)]})]}):e.last&&(o=Object(m.jsxs)("div",{className:"flex flex-col items-end",children:[Object(m.jsx)("p",{className:"text-xs text-right font-light text-gray-600",children:"Last"}),Object(m.jsxs)("h3",{className:"text-sm text-gray-700",children:["\u25ce",u(e.last)]})]}));var p=null!==(n=e.aProps)&&void 0!==n?n:{};return Object(m.jsxs)(b.b,Object(c.a)(Object(c.a)({to:"/t/".concat(e.mintId),className:"group"},p),{},{children:[Object(m.jsx)("div",{className:"twitter"===r?"w-full aspect-w-3 aspect-h-1 bg-gray-200 rounded-lg overflow-hidden xl:aspect-w-9 xl:aspect-h-3":"w-full aspect-w-1 aspect-h-1 bg-gray-200 rounded-lg overflow-hidden xl:aspect-w-8 xl:aspect-h-8",children:"rect"===r?Object(m.jsx)(f,{src:e.image,alt:e.title,resize:a}):Object(m.jsx)(j,{src:e.image,alt:e.title})}),Object(m.jsxs)("div",{className:"flex justify-between pl-2 pr-2 mt-4",children:[Object(m.jsx)("h3",{className:"flex-1 mr-1 text-base text-gray-700",children:e.title}),o]})]}))}var x=n(18),p=n(8);function g(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}function v(){return Object(m.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-black",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[Object(m.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),Object(m.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}function y(e){var t,n,s=null!==(t=e.size)&&void 0!==t?t:50;return Object(m.jsx)("div",{className:g("animate-spin inline-block border-8 border-solid",e.className),style:{width:s,height:s,borderTopColor:null!==(n=e.color)&&void 0!==n?n:"black",borderRadius:"50%"}})}var O=n(30);function w(e){var t=Object(p.d)((function(t){return t.collectionMetas[e]})),n=Object(p.d)((function(t){return t.collectionMetasStatus[e]})),r=Object(p.c)();return Object(s.useEffect)((function(){!n&&e&&(r({type:"ResetTokenList"}),Object(O.e)(e))}),[n,e]),[t,!n]}var k=n(42),N=n(32),S=n(36),C=n(46);function T(e){return Object(m.jsx)("svg",Object(c.a)(Object(c.a)({fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 128 128"},e),{},{children:Object(m.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M64 128c35.346 0 64-28.654 64-64 0-35.346-28.654-64-64-64C28.654 0 0 28.654 0 64c0 35.346 28.654 64 64 64zm-8-48c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24v56h16V96h16V80H96V56c0-22.091-17.909-40-40-40S16 33.909 16 56s17.909 40 40 40h16V80H56z"})}))}function I(e){return Object(m.jsx)("svg",Object(c.a)(Object(c.a)({"aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20"},e),{},{children:Object(m.jsx)("path",{d:"M6.29 18.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0020 3.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.073 4.073 0 01.8 7.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 010 16.407a11.616 11.616 0 006.29 1.84"})}))}function A(e){return Object(m.jsx)("svg",Object(c.a)(Object(c.a)({viewBox:"0 0 32 33",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:Object(m.jsxs)("g",{children:[Object(m.jsx)("path",{d:"M13.104 13.424C12.192 13.424 11.472 14.224 11.472 15.2C11.472 16.176 12.208 16.976 13.104 16.976C14.016 16.976 14.736 16.176 14.736 15.2C14.752 14.224 14.016 13.424 13.104 13.424ZM18.944 13.424C18.032 13.424 17.312 14.224 17.312 15.2C17.312 16.176 18.048 16.976 18.944 16.976C19.856 16.976 20.576 16.176 20.576 15.2C20.576 14.224 19.856 13.424 18.944 13.424Z",fill:"currentColor"}),Object(m.jsx)("path",{d:"M26.72 0H5.28C3.472 0 2 1.472 2 3.296V24.928C2 26.752 3.472 28.224 5.28 28.224H23.424L22.576 25.264L24.624 27.168L26.56 28.96L30 32V3.296C30 1.472 28.528 0 26.72 0ZM20.544 20.896C20.544 20.896 19.968 20.208 19.488 19.6C21.584 19.008 22.384 17.696 22.384 17.696C21.728 18.128 21.104 18.432 20.544 18.64C19.744 18.976 18.976 19.2 18.224 19.328C16.8537 19.5803 15.4483 19.5749 14.08 19.312C13.2767 19.1548 12.4894 18.9245 11.728 18.624C11.3267 18.4697 10.9364 18.2879 10.56 18.08C10.512 18.048 10.464 18.032 10.416 18C10.384 17.984 10.368 17.968 10.352 17.952C10.064 17.792 9.904 17.68 9.904 17.68C9.904 17.68 10.672 18.96 12.704 19.568C12.224 20.176 11.632 20.896 11.632 20.896C8.096 20.784 6.752 18.464 6.752 18.464C6.752 13.312 9.056 9.136 9.056 9.136C11.36 7.408 13.552 7.456 13.552 7.456L13.712 7.648C10.832 8.48 9.504 9.744 9.504 9.744C9.504 9.744 9.856 9.552 10.448 9.28C12.16 8.528 13.52 8.32 14.08 8.272C14.176 8.256 14.256 8.24 14.352 8.24C17.1266 7.86446 19.9483 8.39179 22.4 9.744C22.4 9.744 21.136 8.544 18.416 7.712L18.64 7.456C18.64 7.456 20.832 7.408 23.136 9.136C23.136 9.136 25.44 13.312 25.44 18.464C25.44 18.464 24.08 20.784 20.544 20.896V20.896Z",fill:"currentColor"})]})}))}function P(e){return Object(m.jsx)("svg",Object(c.a)(Object(c.a)({viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:Object(m.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.66663 5.33338V9.00004H6.66663V12H3.66663V15.5H6.66663V20.6667H10.8333V15.5H13.8333L16.1666 20.6667H20.5L17.3333 14.1667C19.1666 13.5001 22.1666 6.50008 14.8333 5.33338H10.8333V3.66675H6.66663V5.33338H3.66663ZM10.6667 8.66667V11.8333H14.3333C14.3333 11.8333 15.3333 11.3333 15.3333 10.1667C15.3333 9 14.3333 8.66667 14.3333 8.66667H10.6667Z",fill:"currentColor"})}))}function F(e){return Object(m.jsx)("svg",Object(c.a)(Object(c.a)({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e),{},{children:Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})}))}function E(e){return Object(m.jsx)("span",{className:g("tooltip text-sm rounded shadow-lg p-2 bg-white text-gray-500 ",e.className),children:e.text})}function W(e,t){var n=[{value:1,symbol:""},{value:1e3,symbol:"K"},{value:1e6,symbol:"M"},{value:1e9,symbol:"G"},{value:1e12,symbol:"T"},{value:1e15,symbol:"P"},{value:1e18,symbol:"E"}].slice().reverse().find((function(t){return e>=t.value}));return n?(e/n.value).toFixed(t).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+n.symbol:"0"}function L(e){if(e.src&&e.src.startsWith("https://cdn.alpha.art/opt/")){var t=e.src.split("/"),n=t.slice(0,t.length-1);return Object(m.jsxs)("picture",{children:[Object(m.jsx)("source",{type:"image/webp",srcSet:[[].concat(Object(l.a)(n),["196.webp"]).join("/"),[].concat(Object(l.a)(n),["256.webp 2x"]).join("/")].join(", ")}),Object(m.jsx)("img",{loading:"lazy",src:[].concat(Object(l.a)(n),["196.png"]).join("/"),srcSet:[[].concat(Object(l.a)(n),["196.png"]).join("/"),[].concat(Object(l.a)(n),["256.png 2x"]).join("/")].join(", "),alt:e.alt,className:"bg-gray-300 w-40 h-40 shadow-lg border-black border-2 object-center object-cover rounded-full"})]})}return Object(m.jsx)("img",{src:e.src,alt:e.alt,className:"bg-gray-300 w-40 h-40 shadow-lg border-black border-2 object-center object-cover rounded-full"})}function B(e){var t=Object(k.g)(),n=[];t.pathname.endsWith("/activity")?n.push({Icon:N.g,alt:"Collection",title:"Collection",to:"/collection/"+e.slug}):n.push({Icon:N.t,alt:"Activity",title:"Activity",to:"/collection/"+e.slug+"/activity"}),n.push({Icon:S.j,alt:"Edit",to:"/collection/"+e.slug+"/edit"});var s,r=Object(x.a)(e.links);try{for(r.s();!(s=r.n()).done;){var i=s.value;i.startsWith("https://twitter.com/")?n.push({Icon:I,alt:"Twitter",to:i}):i.startsWith("https://discord.gg/")?n.push({Icon:A,alt:"Discord",to:i}):i.startsWith("https://howrare.is/")?n.push({Icon:P,alt:"Howrare",to:i}):n.push({Icon:F,alt:"website",to:i})}}catch(a){r.e(a)}finally{r.f()}return Object(m.jsx)("span",{className:g("z-0 inline-flex shadow-sm rounded-md",e.className),children:n.map((function(e,t){var s=0===t,r=t===n.length-1,i=e.Icon,a=e.to.startsWith("http")?"a":b.b,c=e.to.startsWith("http");return Object(m.jsx)(a,{to:e.to,href:e.to,target:c?"_blank":void 0,rel:c?"noreferrer":void 0,children:Object(m.jsxs)("button",{type:"button",className:g("relative inline-flex items-center px-2 py-2",s?"rounded-l-md":"",r?"rounded-r-md":"","border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 focus:z-10 focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500"),children:[Object(m.jsx)("span",{className:"sr-only",children:e.alt}),Object(m.jsx)(i,{className:"flex-shrink-0 h-6 w-6 text-gray-700"}),e.title?Object(m.jsx)("span",{className:"ml-1",children:e.title}):null]})},e.to)}))})}function D(e){var t,n,s,r,i,a,c,l,d,f,j,h,x,g,v,O,k,N=w(e.collectionID),S=Object(o.a)(N,2),T=S[0],I=S[1],A=Object(p.d)((function(t){return t.floorPrices[e.collectionID]})),P=[{name:"items",stat:I?0:W(null!==(t=null===T||void 0===T||null===(n=T.collection)||void 0===n?void 0:n.totalItems)&&void 0!==t?t:1e4,1)},{name:"owners",stat:I?0:W(null!==(s=null===T||void 0===T||null===(r=T.collection)||void 0===r?void 0:r.ownerCount)&&void 0!==s?s:0,1)},{name:"floor",stat:I?0:"\u25ce"+u(null!==(i=null!==A&&void 0!==A?A:null===T||void 0===T?void 0:T.floorPrice)&&void 0!==i?i:0)},{name:"volume",stat:I?0:"\u25ce"+W(u(null!==(a=null===T||void 0===T||null===(c=T.collection)||void 0===c?void 0:c.volume)&&void 0!==a?a:0),1)}];return Object(m.jsxs)("div",{className:"mt-16",children:[Object(m.jsx)(C.a,{children:Object(m.jsxs)("title",{children:["Alpha.art | ",null!==(l=null===T||void 0===T||null===(d=T.collection)||void 0===d?void 0:d.title)&&void 0!==l?l:e.collectionID]})}),Object(m.jsx)("img",{src:null===T||void 0===T||null===(f=T.collection)||void 0===f?void 0:f.banner,alt:"",className:"w-full h-52 object-center object-cover bg-gray-200"}),Object(m.jsxs)("div",{className:"flex flex-col items-center justify-center -mt-24 relative",children:[Object(m.jsx)(b.b,{to:"/collection/"+e.collectionID,children:Object(m.jsx)(L,{src:null===T||void 0===T||null===(j=T.collection)||void 0===j?void 0:j.thumbnail,alt:""})}),Object(m.jsx)(B,{slug:e.collectionID,className:"hidden sm:inline-flex absolute right-16 top-28",links:null!==(h=null===T||void 0===T||null===(x=T.collection)||void 0===x?void 0:x.links)&&void 0!==h?h:[]}),Object(m.jsx)("h1",{className:"text-4xl font-extrabold tracking-tight text-gray-900 mt-4",children:null===T||void 0===T||null===(g=T.collection)||void 0===g?void 0:g.title}),Object(m.jsx)("dl",{className:"mt-5 grid grid-cols-4 gap-1 sm:gap-4",children:P.map((function(e){return Object(m.jsxs)("div",{className:"has-tooltip px-2 py-2 bg-white border-gray-100 shadow-lg hover:shadow-2xl border rounded-lg overflow-hidden sm:p-4 sm:px-8 transition-shadow duration-500 ",children:["volume"===e.name&&Object(m.jsx)(E,{text:"sales from all marketplaces",className:"-mt-16 -ml-20"}),I?Object(m.jsx)("dd",{className:"text-xl text-center font-semibold text-gray-900",children:Object(m.jsx)(y,{size:16})}):Object(m.jsx)("dd",{className:"text-xl text-center font-semibold text-gray-900",children:e.stat}),Object(m.jsx)("dt",{className:"text-sm text-center font-light text-gray-500 truncate mt-1 ",children:e.name})]},e.name)}))}),Object(m.jsx)("h3",{className:"text-lg ml-2 mr-2 font-normal text-center tracking-tight text-gray-900 mt-4 max-w-2xl",children:null===T||void 0===T||null===(v=T.collection)||void 0===v?void 0:v.description}),Object(m.jsx)(B,{slug:e.collectionID,className:"inline-flex sm:hidden mt-2",links:null!==(O=null===T||void 0===T||null===(k=T.collection)||void 0===k?void 0:k.links)&&void 0!==O?O:[]})]})]})}var M=n(495),z=n(488),R=n(3),U=n.n(R),_=n(5),K=n(24),H=n(25),V=n(99),q=n(34);function Y(e,t){var n;null===(n=p.b.dispatch)||void 0===n||n.call(p.b,{type:"SetFiltersAndOrder",filters:e,orderBy:t})}function G(e){var t;null===(t=p.b.dispatch)||void 0===t||t.call(p.b,{type:"RemoveFilter",filter:e})}function J(e){var t={collectionId:e};Object(O.c)(t).then((function(t){var n;null===(n=p.b.dispatch)||void 0===n||n.call(p.b,{type:"AddFloorPrice",collection:e,price:t.floorPrice})}))}var Q={};function Z(e,t,n){var s=new V.a(e),r=s.makeHeader(t.publicKey,n);return s.transactionConnection=new d.a("".concat(K.a,"/proxy"),{commitment:"confirmed",confirmTransactionInitialTimeout:6e4,disableRetryOnRateLimit:!1,httpHeaders:{rpc:r}}),s}function X(){return(X=Object(_.a)(U.a.mark((function e(t,n){var s,r,i,a,c,o;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=p.b.getState(),r=s.connection,i=s.wallet){e.next=3;break}throw new Error("Wallet is invalid");case 3:return a=d.b.generate(),c=Z(r,i,{type:"list",mint:t.toBase58(),escrow:a.publicKey.toBase58()}),e.prev=5,e.next=8,c.list(i.publicKey,t,n*d.c,{walletSigner:i},a);case 8:return o=e.sent,console.log(o),e.next=12,Object(q.a)(r,o.signature,o.lastValidBlockHeight);case 12:return e.abrupt("return",o);case 15:throw e.prev=15,e.t0=e.catch(5),console.error(e.t0),e.t0;case 19:case"end":return e.stop()}}),e,null,[[5,15]])})))).apply(this,arguments)}function $(){return($=Object(_.a)(U.a.mark((function e(t,n,s){var r,i,a,c,o;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=p.b.getState(),i=r.connection,a=r.wallet){e.next=3;break}throw new Error("Wallet is invalid");case 3:return c=Z(i,a,{type:"updateListing",escrow:n.toBase58()}),e.prev=4,e.next=7,c.updateListing(a.publicKey,n,t,s*d.c,{walletSigner:a});case 7:return o=e.sent,console.log(o),e.next=11,Object(q.a)(i,o.signature,o.lastValidBlockHeight);case 11:return e.abrupt("return",o);case 14:throw e.prev=14,e.t0=e.catch(4),console.error(e.t0),e.t0;case 18:case"end":return e.stop()}}),e,null,[[4,14]])})))).apply(this,arguments)}function ee(e,t){return te.apply(this,arguments)}function te(){return(te=Object(_.a)(U.a.mark((function e(t,n){var s,r,i,a,c;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=p.b.getState(),r=s.connection,i=s.wallet){e.next=3;break}throw new Error("Wallet is invalid");case 3:return a=Z(r,i,{type:"unlist",escrow:n.toBase58()}),e.prev=4,e.next=7,a.unlist(i.publicKey,t,n,{walletSigner:i});case 7:return c=e.sent,console.log(c),e.next=11,Object(q.a)(r,c.signature,c.lastValidBlockHeight);case 11:return e.abrupt("return",c);case 14:throw e.prev=14,e.t0=e.catch(4),console.error(e.t0),e.t0;case 18:case"end":return e.stop()}}),e,null,[[4,14]])})))).apply(this,arguments)}function ne(){return(ne=Object(_.a)(U.a.mark((function e(t,n,s){var r,i,a,c,o,l;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=p.b.getState(),i=r.connection,a=r.wallet){e.next=3;break}throw new Error("Wallet is invalid");case 3:return c=Z(i,a,{type:"exchange",mint:t.toBase58(),escrow:s.toBase58()}),o={walletSigner:a},e.prev=5,e.next=8,c.exchange(a.publicKey,n,t,s,o);case 8:return l=e.sent,console.log(l),e.next=12,Object(q.a)(i,l.signature,l.lastValidBlockHeight);case 12:return e.abrupt("return",l);case 15:throw e.prev=15,e.t0=e.catch(5),console.error(e.t0),e.t0;case 19:case"end":return e.stop()}}),e,null,[[5,15]])})))).apply(this,arguments)}function se(){return(se=Object(_.a)(U.a.mark((function e(t,n,s){var r,i,a,c,o,l;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=p.b.getState(),i=r.connection,a=r.wallet){e.next=3;break}throw new Error("Wallet is invalid");case 3:return c=d.b.generate(),o=Z(i,a,{type:"offer",mint:t.toBase58(),offer:c.publicKey.toBase58()}),e.prev=5,e.next=8,o.offer(a.publicKey,n,t,s*d.c,{walletSigner:a},c);case 8:return l=e.sent,console.log(l),e.next=12,Object(q.a)(i,l.signature,l.lastValidBlockHeight);case 12:return e.abrupt("return",l);case 15:throw e.prev=15,e.t0=e.catch(5),console.error(e.t0),e.t0;case 19:case"end":return e.stop()}}),e,null,[[5,15]])})))).apply(this,arguments)}function re(){return(re=Object(_.a)(U.a.mark((function e(t,n,s){var r,i,a,c,o,l,u;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=p.b.getState(),i=r.connection,a=r.wallet){e.next=3;break}throw new Error("Wallet is invalid");case 3:return c=d.b.generate().publicKey.toBase58().substring(0,8),e.next=6,Object(q.c)(a.publicKey,c);case 6:return o=e.sent,l=Z(i,a,{type:"offer",mint:t.toBase58(),offer:o.toBase58()}),e.prev=8,e.next=11,l.nftOffer(a.publicKey,n,t,s,{walletSigner:a,seed:c});case 11:return u=e.sent,console.log(u),e.next=15,Object(q.a)(i,u.signature,u.lastValidBlockHeight);case 15:return e.abrupt("return",u);case 18:throw e.prev=18,e.t0=e.catch(8),console.error(e.t0),e.t0;case 22:case"end":return e.stop()}}),e,null,[[8,18]])})))).apply(this,arguments)}function ie(){return(ie=Object(_.a)(U.a.mark((function e(t){var n,s,r,i,a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=p.b.getState(),s=n.connection,r=n.wallet){e.next=3;break}throw new Error("Wallet is invalid");case 3:return i=Z(s,r,{type:"cancelOffer",offer:t.toBase58()}),e.prev=4,e.next=7,i.cancelOffer(r.publicKey,t,{walletSigner:r});case 7:return a=e.sent,console.log(a),e.next=11,Object(q.a)(s,a.signature,a.lastValidBlockHeight);case 11:return e.abrupt("return",a);case 14:throw e.prev=14,e.t0=e.catch(4),console.error(e.t0),e.t0;case 18:case"end":return e.stop()}}),e,null,[[4,14]])})))).apply(this,arguments)}function ae(e,t){return ce.apply(this,arguments)}function ce(){return(ce=Object(_.a)(U.a.mark((function e(t,n){var s,r,i,a,c,o;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=p.b.getState(),r=s.connection,(i=s.wallet)&&i.publicKey){e.next=3;break}throw new Error("Wallet is invalid");case 3:return a=Z(r,i,{type:"acceptOffer",offer:t.toBase58(),mint:n.toBase58()}),c={walletSigner:i},e.prev=5,e.next=8,a.acceptOffer(i.publicKey,t,n,c);case 8:return o=e.sent,console.log(o),e.next=12,Object(q.a)(r,o.signature,o.lastValidBlockHeight);case 12:return e.abrupt("return",o);case 15:throw e.prev=15,e.t0=e.catch(5),console.error(e.t0),e.t0;case 19:case"end":return e.stop()}}),e,null,[[5,15]])})))).apply(this,arguments)}function oe(e){return le.apply(this,arguments)}function le(){return(le=Object(_.a)(U.a.mark((function e(t){var n,s,r,i;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=p.b.getState(),r=s.connection,e.next=3,Object(q.h)(r,t,"singleGossip");case 3:i=e.sent,null===(n=p.b.dispatch)||void 0===n||n.call(p.b,{type:"SetNFTOffers",offers:i,publicKey:t});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(){return(de=Object(_.a)(U.a.mark((function e(t,n){var s,r,i,a,c,o;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=p.b.getState(),r=s.connection,(i=s.wallet)&&i.publicKey){e.next=3;break}throw new Error("Wallet is invalid");case 3:return a=new V.a(r),c={walletSigner:i,stakeSlots:n},e.prev=5,e.next=8,a.stakeMulti(i.publicKey,t,c);case 8:return o=e.sent,console.log(o),e.next=12,Object(q.a)(r,o.signature,o.lastValidBlockHeight);case 12:return e.abrupt("return",o);case 15:throw e.prev=15,e.t0=e.catch(5),console.error(e.t0),e.t0;case 19:case"end":return e.stop()}}),e,null,[[5,15]])})))).apply(this,arguments)}function ue(){return(ue=Object(_.a)(U.a.mark((function e(t){var n,s,r,i,a,c;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=p.b.getState(),s=n.connection,(r=n.wallet)&&r.publicKey){e.next=3;break}throw new Error("Wallet is invalid");case 3:return i=new V.a(s),a={walletSigner:r},e.prev=5,e.next=8,i.unstake(r.publicKey,t,a);case 8:return c=e.sent,console.log(c),e.next=12,Object(q.a)(s,c.signature,c.lastValidBlockHeight);case 12:return e.abrupt("return",c);case 15:throw e.prev=15,e.t0=e.catch(5),console.error(e.t0),e.t0;case 19:case"end":return e.stop()}}),e,null,[[5,15]])})))).apply(this,arguments)}var be=["PRICE_LOW_TO_HIGH","PRICE_HIGH_TO_LOW","RECENTLY_LISTED","RECENTLY_SOLD","HIGHEST_LAST_SALE","HIGHEST_CURRENT_OFFER"],me={BUY_NOW:"Buy Now",HAS_OFFERS:"Has Offers"},fe={HIGHEST_LAST_SALE:"Highest Last Sale",MOST_VIEWED:"Most Viewed",PRICE_HIGH_TO_LOW:"Price: High to Low",PRICE_LOW_TO_HIGH:"Price: Low to High",RECENTLY_LISTED:"Recently Listed",RECENTLY_SOLD:"Recently Sold",HIGHEST_CURRENT_OFFER:"Highest Current Offer"};function je(e){var t=e.filter,n="status"===t.type?me[t.status]:t.value;return Object(m.jsxs)("span",{className:"m-1 inline-flex rounded-full border border-gray-200 items-center py-1.5 pl-3 pr-2 text-sm font-medium bg-white text-gray-900",children:[Object(m.jsx)("div",{className:"text-xs mr-1",children:"trait"===t.type?t.key+" /":""}),Object(m.jsx)("span",{children:n}),Object(m.jsxs)("button",{type:"button",onClick:function(){G(t)},className:"flex-shrink-0 ml-1 h-4 w-4 p-1 rounded-full inline-flex text-gray-400 hover:bg-gray-200 hover:text-gray-500",children:[Object(m.jsxs)("span",{className:"sr-only",children:["Remove filter for ",n]}),Object(m.jsx)("svg",{className:"h-2 w-2",stroke:"currentColor",fill:"none",viewBox:"0 0 8 8",children:Object(m.jsx)("path",{strokeLinecap:"round",strokeWidth:"1.5",d:"M1 1l6 6m0-6L1 7"})})]})]},e.filter.type)}function he(e){var t=e.primary;return Object(m.jsx)("span",{className:g("m-1 inline-flex items-center pr-2 text-sm font-medium text-gray-900",t?"":"py-1.5"),children:Object(m.jsx)("button",{type:"button",onClick:function(){Y([])},className:g(t?"w-full bg-indigo-50 border border-transparent rounded-md py-3 mb-4 px-8 flex items-center justify-center text-base font-medium text-indigo-700":"flex-shrink-0 p-1 rounded-full inline-flex text-indigo-600"),children:Object(m.jsx)("span",{children:"Clear All"})})},"remove-all")}function xe(e){var t=Object(p.d)((function(e){return{filters:e.filters,orderBy:e.orderBy,refreshing:e.filterIsInProgress}})),n=t.orderBy,s=t.filters,i=t.refreshing,a=Object(p.c)();return Object(m.jsxs)("div",{className:"bg-gray-100  flex items-center mb-4 px-4 py-4 z-10",children:[Object(m.jsx)("button",{className:"text-gray-700 hover:text-gray-900",onClick:function(){a({type:"ForceFilter"})},disabled:i,children:Object(m.jsx)(S.l,{className:g("flex-shrink-0 mr-3 h-5 w-5",i?"animate-spin":"")})}),Object(m.jsx)("div",{className:"flex-1 flex lg:hidden"}),Object(m.jsxs)("div",{className:"flex-1 sm:items-center sm:px-1 lg:px-1 hidden lg:flex",children:[Object(m.jsxs)("h3",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:["Filters",Object(m.jsx)("span",{className:"sr-only",children:", active"})]}),Object(m.jsx)("div",{"aria-hidden":"true",className:"hidden w-px h-5 bg-gray-300 sm:block sm:ml-4"}),Object(m.jsx)("div",{className:"mt-2 sm:mt-0 sm:ml-4",children:Object(m.jsxs)("div",{className:"-m-1 flex flex-wrap items-center",children:[s.map((function(e){return Object(m.jsx)(je,{filter:e},e.type+e.status+e.value)})),s.length>0&&Object(m.jsx)(he,{})]})})]}),Object(m.jsx)("button",{type:"button",className:"p-2 -m-2 mr-4 sm:ml-6 text-gray-400 hover:text-gray-500",onClick:function(){return e.onClickSearch()},children:Object(m.jsx)(N.n,{className:"w-6 h-6","aria-hidden":"true"})}),Object(m.jsxs)("button",{type:"button",className:"p-2 -m-2 mr-4 text-gray-400 hover:text-gray-500 lg:hidden relative",onClick:function(){return e.setMobileFiltersOpen(!0)},children:[Object(m.jsx)("span",{className:"sr-only",children:"Filters"}),Object(m.jsx)(S.g,{className:"w-6 h-6","aria-hidden":"true"}),Object(m.jsx)("div",{className:"w-5 h-5 bg-indigo-500 rounded-full absolute top-0 -right-1 flex items-center justify-center dark:bg-indigo-600",children:Object(m.jsx)("span",{className:"text-sm text-white dark:text-white",style:{fontSize:12},children:s.length})})]}),Object(m.jsxs)(M.a,{as:"div",className:"relative inline-block text-left",children:[Object(m.jsx)("div",{children:Object(m.jsxs)(M.a.Button,{className:"group inline-flex justify-center text-sm font-medium text-gray-700 hover:text-gray-900",children:[fe[n],Object(m.jsx)(S.d,{className:"flex-shrink-0 -mr-1 ml-1 h-5 w-5 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"})]})}),Object(m.jsx)(z.a,{as:r.a.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:Object(m.jsx)(M.a.Items,{className:"z-50 origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-2xl bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",children:Object(m.jsx)("div",{className:"py-1",children:be.map((function(e){return Object(m.jsx)(M.a.Item,{children:function(t){var s=t.active;return Object(m.jsx)("button",{onClick:function(){return function(e){var t;null===(t=p.b.dispatch)||void 0===t||t.call(p.b,{type:"ChangeOrder",orderBy:e})}(e)},disabled:e===n,className:g(e===n?"font-medium text-gray-900":"text-gray-500",s?"bg-gray-100":"","block px-4 py-2 text-sm w-full text-left"),children:fe[e]})}},e)}))})})})]})]})}var pe=n(480),ge=n(487),ve={key:"Status",type:"status",values:["BUY_NOW","HAS_OFFERS"]};function ye(e){return Object(m.jsx)(m.Fragment,{children:e.numbers.map((function(t){var n;return Object(m.jsxs)("div",{className:"flex items-center",children:[Object(m.jsx)("input",{id:"filter-".concat(e.name,"-").concat(t),name:"".concat(e.name,"[]"),type:"checkbox",checked:e.isChecked(t.value),className:"form-checkbox h-4 w-4 border-gray-300 rounded text-indigo-600 focus:ring-indigo-500 dark:text-indigo-400",onChange:function(n){n.target.checked?e.onAdd(t.value):e.onRemove(t.value)}}),Object(m.jsxs)("label",{htmlFor:"filter-".concat(e.name,"-").concat(t.value),className:"ml-3 flex-1 text-sm text-gray-600",children:[null!==(n=me[t.value])&&void 0!==n?n:t.value," (",t.amount,")"]}),Object(m.jsx)("label",{htmlFor:"filter-".concat(e.name,"-").concat(t.value),className:"text-sm text-gray-600 text-right",children:"undefined"===typeof t.floor?"-":"\u25ce".concat(u(t.floor))})]},t.value)}))})}function Oe(e){return Object(m.jsx)(m.Fragment,{children:e.values.map((function(t){var n;return Object(m.jsxs)("div",{className:"flex items-center",children:[Object(m.jsx)("input",{id:"filter-".concat(e.name,"-").concat(t),name:"".concat(e.name,"[]"),type:"checkbox",checked:e.isChecked(t),className:"form-checkbox h-4 w-4 border-gray-300 rounded text-indigo-600 focus:ring-indigo-500 dark:text-indigo-600",onChange:function(n){n.target.checked?e.onAdd(t):e.onRemove(t)}}),Object(m.jsx)("label",{htmlFor:"filter-".concat(e.name,"-").concat(t),className:"ml-3 flex-1 text-sm text-gray-600",children:null!==(n=me[t])&&void 0!==n?n:t})]},t)}))})}function we(e){var t=e.section,n=Object(p.d)((function(e){return e.filters})),s=function(t){!function(e){var t;null===(t=p.b.dispatch)||void 0===t||t.call(p.b,{type:"AddFilter",filter:e})}("status"===e.section.type?{type:"status",status:t}:{type:"trait",key:e.section.key,value:t})},r=function(t){G("status"===e.section.type?{type:"status",status:t}:{type:"trait",key:e.section.key,value:t})},i=function(t){var s,r=null!==(s=e.section.type)&&void 0!==s?s:"trait";return n.findIndex((function(n){return n.type===r&&("status"===n.type&&n.status===t||"trait"===n.type&&n.key===e.section.key&&n.value===t)}))>-1},a=n.filter((function(t){var n;return t.type===(null!==(n=e.section.type)&&void 0!==n?n:"trait")&&"status"===t.type||"trait"===t.type&&t.key===e.section.key})).length;return Object(m.jsx)(pe.a,{as:"div",defaultOpen:e.defaultOpen||a>0,className:"border-t border-gray-200 px-4 py-6",children:function(e){var n,c,o=e.open;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h3",{className:"-mx-2 -my-3 flow-root",children:Object(m.jsxs)(pe.a.Button,{className:"py-3 bg-white w-full flex items-center justify-between text-sm text-gray-400 hover:text-gray-500",children:[Object(m.jsx)("span",{className:"font-medium text-gray-900",children:t.key}),a>0&&Object(m.jsx)("div",{className:"w-5 h-5 bg-indigo-500 rounded-full flex items-center justify-center ml-2 dark:bg-indigo-600",children:Object(m.jsx)("span",{className:"text-sm text-white dark:text-gray-100",style:{fontSize:12},children:a})}),Object(m.jsx)("div",{className:"flex-1"}),Object(m.jsx)("span",{className:"ml-6 flex items-center",children:o?Object(m.jsx)(S.i,{className:"h-5 w-5","aria-hidden":"true"}):Object(m.jsx)(S.k,{className:"h-5 w-5","aria-hidden":"true"})})]})}),Object(m.jsx)(pe.a.Panel,{className:"pt-6",children:Object(m.jsx)("div",{className:"space-y-6",children:(null!==(n=null===(c=t.numbers)||void 0===c?void 0:c.length)&&void 0!==n?n:0)>0?Object(m.jsx)(ye,{isChecked:i,name:t.key,numbers:t.numbers,onAdd:s,onRemove:r}):Object(m.jsx)(Oe,{isChecked:i,name:t.key,values:t.values,onAdd:s,onRemove:r})})})]})}},t.key+"-"+a)}function ke(e){var t,n=Object(p.d)((function(t){return t.collectionMetas[e.idOrSlug]}));return Object(m.jsx)(z.a.Root,{show:e.mobileFiltersOpen,as:r.a.Fragment,children:Object(m.jsxs)(ge.a,{as:"div",className:"fixed inset-0 flex z-50 lg:hidden",onClose:function(t){return e.setMobileFiltersOpen(t)},children:[Object(m.jsx)(z.a.Child,{as:r.a.Fragment,enter:"transition-opacity ease-linear duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity ease-linear duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:Object(m.jsx)(ge.a.Overlay,{className:"fixed inset-0 bg-black bg-opacity-25"})}),Object(m.jsx)(z.a.Child,{as:r.a.Fragment,enter:"transition ease-in-out duration-300 transform",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:Object(m.jsxs)("div",{className:"ml-auto relative max-w-xs w-full h-full bg-white shadow-xl pt-4  flex flex-col",children:[Object(m.jsxs)("div",{className:"px-4 flex items-center justify-between",children:[Object(m.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"Filters"}),Object(m.jsxs)("button",{type:"button",className:"-mr-2 w-10 h-10 bg-white p-2 rounded-md flex items-center justify-center text-gray-400",onClick:function(){return e.setMobileFiltersOpen(!1)},children:[Object(m.jsx)("span",{className:"sr-only",children:"Close menu"}),Object(m.jsx)(N.v,{className:"h-6 w-6","aria-hidden":"true"})]})]}),Object(m.jsxs)("div",{className:"flex flex-col flex-1 overflow-y-scroll h-full",children:[Object(m.jsx)(we,{defaultOpen:!0,section:ve},"status"),null===n||void 0===n||null===(t=n.traits)||void 0===t?void 0:t.sort((function(e,t){var n,s,r;return null!==(n=null===(s=e.key)||void 0===s?void 0:s.localeCompare(null!==(r=t.key)&&void 0!==r?r:""))&&void 0!==n?n:0})).map((function(e){return Object(m.jsx)(we,{section:e},e.key)}))]}),Object(m.jsxs)("div",{className:" flex flex-col ml-2 nightwind-prevent-block",children:[Object(m.jsx)("span",{className:"m-1 inline-flex items-center pr-2 text-sm font-medium text-gray-900",children:Object(m.jsx)("button",{type:"button",onClick:function(){return e.setMobileFiltersOpen(!1)},className:"w-full bg-indigo-600 border border-transparent rounded-md py-3 px-8 flex items-center justify-center text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-50 focus:ring-indigo-500",children:Object(m.jsx)("span",{children:"Apply Filters"})})},"rdone"),Object(m.jsx)(he,{primary:!0})]})]})})]})})}function Ne(e){var t,n=Object(p.d)((function(t){return t.collectionMetas[e.idOrSlug]}));return n?Object(m.jsxs)("form",{className:"hidden h-screen overflow-y-scroll lg:block lg:w-60 xl:w-80 mr-4 sticky top-16",children:[Object(m.jsx)("h3",{className:"sr-only",children:"Filter"}),Object(m.jsx)(we,{defaultOpen:!0,section:ve},"status"),null===(t=n.traits)||void 0===t?void 0:t.sort((function(e,t){var n,s,r;return null!==(n=(null!==(s=e.key)&&void 0!==s?s:"unknown").localeCompare(null!==(r=t.key)&&void 0!==r?r:"unknown"))&&void 0!==n?n:0})).map((function(e){return Object(m.jsx)(we,{section:e},e.key)}))]}):Object(m.jsxs)("form",{className:"hidden h-screen overflow-y-scroll lg:block lg:w-60 xl:w-80 mr-4 sticky top-16",children:[Object(m.jsx)("h3",{className:"sr-only",children:"Filter"}),Object(m.jsx)(we,{defaultOpen:!0,section:ve},"status")]})}function Se(){return Object(m.jsxs)("div",{className:"animate-pulse",children:[Object(m.jsx)("div",{className:"w-full aspect-w-1 aspect-h-1 bg-gray-200 rounded-lg overflow-hidden xl:aspect-w-8 xl:aspect-h-8"}),Object(m.jsxs)("div",{className:"flex justify-between pl-1 pr-1 mt-4 items-center",children:[Object(m.jsx)("div",{className:"mb-2 h-5 w-20 overflow-hidden bg-gray-200 rounded-sm"}),Object(m.jsx)("div",{className:"mb-2 ml-4 h-5 w-20 overflow-hidden bg-gray-200 rounded-sm"})]})]})}function Ce(e){return Object(m.jsx)("div",{className:"grid grid-cols-1 gap-y-10 sm:grid-cols-2 gap-x-6 md:grid-cols-3 xl:grid-cols-4 xl:gap-x-8",children:Array.from({length:e.count},(function(e,t){return Object(m.jsx)(Se,{},"simpleToken-"+t)}))})}var Te=n(137),Ie=n(481);function Ae(e){var t,n=Object(p.d)((function(t){return{user:t.users[e.pubkey]}})).user;if(r.a.useEffect((function(){var t;!n&&e.pubkey&&(e.pubkey===(null===(t=e.user)||void 0===t?void 0:t.pubkey)||Object(O.b)(e.pubkey))}),[e.pubkey]),e.user&&(null===(t=e.user)||void 0===t?void 0:t.pubkey)===e.pubkey)return Object(m.jsx)("span",{children:e.user.username});if(n&&n.username)return Object(m.jsx)("span",{children:n.username});if(e.pubkey){var s=e.pubkey.substring(0,4)+"..."+e.pubkey.substring(e.pubkey.length-4);return Object(m.jsx)("span",{children:s})}return Object(m.jsx)("span",{})}function Pe(e){var t=e.size,n=void 0===t?"normal":t;return Object(m.jsx)(z.a.Root,{show:e.visible,as:s.Fragment,children:Object(m.jsx)(ge.a,{as:"div",className:"fixed z-10 inset-0 overflow-y-auto",onClose:function(t){var n;return null===(n=e.onClose)||void 0===n?void 0:n.call(e)},children:Object(m.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[Object(m.jsx)(z.a.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:Object(m.jsx)(ge.a.Overlay,{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),Object(m.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200b"}),Object(m.jsx)(z.a.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:Object(m.jsx)("div",{className:g("inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:p-6","normal"===n?"sm:max-w-lg sm:w-full":"sm:max-w-3xl sm:w-full"),children:e.children})})]})})})}function Fe(e){var t=function(){var t;null===(t=e.onClose)||void 0===t||t.call(e)};return Object(m.jsx)(Pe,{visible:e.isOpen,onClose:t,children:Object(m.jsx)("div",{className:"space-y-6",children:Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("img",{className:"mx-auto h-48 w-auto",src:"/img/piggybank.png",alt:"Piggybank"}),Object(m.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Don't miss the offers"}),Object(m.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Register now to receive offers and trade email notifications."})]}),Object(m.jsxs)("div",{className:"mt-5 sm:mt-6 sm:grid sm:grid-cols-2 sm:gap-3 sm:grid-flow-row-dense",children:[Object(m.jsx)("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:col-start-2 sm:text-sm",onClick:e.onApprove,children:"Register"}),Object(m.jsx)("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:col-start-1 sm:text-sm",onClick:t,children:"Not now"})]})]})})})}function Ee(e){var t=e.mode,n=e.user,r=Object(s.useState)("idle"),i=Object(o.a)(r,2),a=i[0],c=i[1],l=Object(s.useState)(""),d=Object(o.a)(l,2),u=d[0],b=d[1],f=Object(s.useState)(),j=Object(o.a)(f,2),h=j[0],x=j[1];Object(s.useEffect)((function(){c("idle")}),[e.isOpen]);return Object(m.jsx)(Pe,{visible:e.isOpen,onClose:function(){var t;null===(t=e.onClose)||void 0===t||t.call(e),x(void 0)},children:Object(m.jsx)("div",{className:"space-y-6",children:Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("img",{className:"mx-auto h-48 w-auto",src:"/img/piggybank.png",alt:"Workflow"}),Object(m.jsxs)("form",{className:"space-y-6",action:"#",method:"POST",onSubmit:function(n){n.preventDefault();var s=new FormData(n.target),r=s.get("email")||void 0,i=s.get("username")||void 0;if(null===i||void 0===i?void 0:i.includes("@"))return c("error"),void b("you can't use @ in your username");b(""),"register"===t?(console.log(r,i),c("loading"),Object(O.n)(e.publicKey,{email:r,username:i}).then((function(t){e.onRegistered(t),c("idle"),Object(H.a)("Registration succesfull")})).catch((function(e){var t;console.error(e),b(null!==(t=e.message)&&void 0!==t?t:""),c("error")}))):"update"===t&&(c("loading"),Object(O.w)(e.publicKey,{email:r,username:i}).then((function(t){e.onRegistered(t),c("idle"),x(void 0),Object(H.a)("Profile updated succesfully")})).catch((function(e){var t;c("error"),b(null!==(t=e.message)&&void 0!==t?t:"")})))},children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),Object(m.jsxs)("div",{className:"mt-1 flex flex-row",children:[Object(m.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:"register"===t,placeholder:"update"===t?"hidden for security":void 0,defaultValue:null===h||void 0===h?void 0:h.email,className:"form-input appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},"email-"+(null===h||void 0===h?void 0:h.email)),"update"===t&&!h&&Object(m.jsx)("button",{type:"button",onClick:function(){Object(O.j)(e.publicKey).then((function(e){x(e)})).catch((function(e){console.error(e),c("error")}))},className:"w-16 ml-3 flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Get"})]})]}),Object(m.jsxs)("span",{className:"text-xs",children:["Your email address will be used for sending trade offers and email notifications.",Object(m.jsx)("br",{}),Object(m.jsx)("b",{children:" Your email address won't be shared with any third party."})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Username"}),Object(m.jsx)("div",{className:"mt-1",children:Object(m.jsx)("input",{id:"username",name:"username",type:"username",autoComplete:"username",required:!0,defaultValue:"update"===t?null===n||void 0===n?void 0:n.username:"",className:"form-input appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})})]}),"error"===a&&Object(m.jsx)("div",{className:"rounded-md bg-red-50 p-4",children:Object(m.jsxs)("div",{className:"flex",children:[Object(m.jsx)("div",{className:"flex-shrink-0",children:Object(m.jsx)(S.p,{className:"h-5 w-5 text-red-400","aria-hidden":"true"})}),Object(m.jsx)("div",{className:"ml-3",children:Object(m.jsxs)("h3",{className:"text-sm font-medium text-red-800",children:["Failed to ",t,". Please try again.",Object(m.jsx)("br",{}),u]})})]})}),Object(m.jsx)("div",{className:"flex items-center justify-between",children:"register"===t&&Object(m.jsxs)("p",{className:"text-sm text-gray-800",children:['By Clicking "Register" you accept the'," ",Object(m.jsx)("a",{href:"/privacy",target:"_blank",rel:"noreferrer",className:"underline",children:"Privacy Policy"})," ","of alpha.art"]})}),Object(m.jsx)("div",{children:Object(m.jsxs)("button",{type:"submit",disabled:"loading"===a,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:["loading"===a&&Object(m.jsx)(v,{}),"register"===t?"Register":"Update Profile"]})})]})]}),Object(m.jsxs)("div",{className:"flex mt-2 items-center",children:[Object(m.jsx)(S.h,{className:"w-5 h-5 text-gray-600 mr-1"}),Object(m.jsx)("p",{className:"text-sm text-gray-500",children:"Solana Ledger doesn't support message signing"})]})]})})})}var We=n(67),Le=n(228),Be=n(211),De="dontMissModalTime";function Me(e){var t=Object(p.d)((function(e){return{storedWallet:e.wallet,isConnected:e.isConnected,accountBalance:e.accountBalance,user:e.user,hasUser:e.hasUser}})),n=t.storedWallet,i=t.accountBalance,a=t.isConnected,c=t.user,l=t.hasUser,d=Object(Le.b)(),f=Object(We.b)();Object(s.useEffect)((function(){!d.connected||d.disconnecting||n&&n.connected||Object(Te.a)(d)}),[n,d.connected]);var j=Object(s.useState)("none"),h=Object(o.a)(j,2),x=h[0],v=h[1];if(Object(s.useEffect)((function(){a&&(null===d||void 0===d?void 0:d.publicKey)&&"unknown"===l&&Object(O.i)(null===d||void 0===d?void 0:d.publicKey.toString(),!0).then((function(e){var t,n;null===(t=p.b.dispatch)||void 0===t||t.call(p.b,{type:"SetUser",user:e}),null===(n=p.b.dispatch)||void 0===n||n.call(p.b,{type:"SetHasUser",hasUser:"yes"})})).catch((function(e){var t;console.log(e),null===(t=p.b.dispatch)||void 0===t||t.call(p.b,{type:"SetHasUser",hasUser:"no"});var n=localStorage.getItem(De);(!n||Object(Ie.a)(new Date(n),new Date)>=1)&&(v("dontMissTheOffers"),localStorage.setItem(De,(new Date).toISOString()))}))}),[a,null===d||void 0===d?void 0:d.publicKey,l]),a&&d){var y,w=d.publicKey.toBase58();return Object(m.jsxs)(m.Fragment,{children:[i>0&&Object(m.jsxs)("div",{className:"text-base flex text-gray-700",children:[Object(m.jsx)("span",{children:"\u25ce"}),u(i)," SOL"]}),Object(m.jsx)(b.b,{className:"text-base text-gray-700",to:"/user/".concat(w),children:Object(m.jsx)(Ae,{pubkey:w})}),Object(m.jsx)(M.a,{as:"div",className:"relative inline-block text-left",children:Object(m.jsxs)("div",{children:[Object(m.jsx)(M.a.Button,{className:"group inline-flex justify-center text-sm font-medium text-gray-700 hover:text-gray-900",children:Object(m.jsx)(N.i,{className:"w-7 h-7"})}),Object(m.jsx)(z.a,{as:r.a.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:Object(m.jsx)(M.a.Items,{className:"z-50 origin-top-right absolute right-0 mt-2 w-40 rounded-md shadow-2xl bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",children:Object(m.jsxs)("div",{className:"py-1",children:[Object(m.jsx)(M.a.Item,{children:function(e){var t=e.active;return Object(m.jsx)(b.b,{className:g("font-medium text-gray-900",t?"bg-gray-100":"","px-4 py-2 text-sm w-full text-left flex"),to:"/user/".concat(d.publicKey.toBase58()),children:"My Wallet"})}}),Object(m.jsx)(M.a.Item,{children:function(e){var t=e.active;return Object(m.jsx)(b.b,{className:g("font-medium text-gray-900",t?"bg-gray-100":"","px-4 py-2 text-sm w-full text-left flex"),to:"/submissions",children:"Submit Collection"})}}),Object(m.jsx)(M.a.Item,{children:function(e){var t=e.active;return Object(m.jsx)(b.b,{className:g("font-medium text-gray-900",t?"bg-gray-100":"","px-4 py-2 text-sm w-full text-left flex"),to:"/faq",children:"FAQ"})}}),!c&&Object(m.jsx)(M.a.Item,{children:function(e){var t=e.active;return Object(m.jsx)("button",{className:g("font-medium text-gray-900",t?"bg-gray-100":"","px-4 py-2 text-sm w-full text-left flex"),onClick:function(){return v("register")},children:"Register"})}}),!!c&&Object(m.jsx)(M.a.Item,{children:function(e){var t=e.active;return Object(m.jsx)(b.b,{className:g("font-medium text-gray-900",t?"bg-gray-100":"","px-4 py-2 text-sm w-full text-left flex"),to:"/user/".concat(d.publicKey.toBase58(),"?tab=settings"),children:"Update Profile"})}}),Object(m.jsx)(M.a.Item,{children:function(e){var t=e.active;return Object(m.jsx)("button",{className:g("font-medium text-gray-900",t?"bg-gray-100":"","px-4 py-2 text-sm w-full text-left flex"),onClick:function(){Be.toggle();var e="true"===localStorage.getItem("alphaDarkMode");localStorage.setItem("alphaDarkMode",""+!e)},children:"Toggle Dark Mode"})}}),Object(m.jsx)(M.a.Item,{children:function(e){var t=e.active;return Object(m.jsx)("button",{className:g("font-medium text-gray-900",t?"bg-gray-100":"","px-4 py-2 text-sm w-full text-left flex"),onClick:function(){var e,t;null===d||void 0===d||d.disconnect(),null===(e=p.b.dispatch)||void 0===e||e.call(p.b,{type:"SetUser",user:void 0}),null===(t=p.b.dispatch)||void 0===t||t.call(p.b,{type:"SetHasUser",hasUser:"unknown"})},children:"Disconnect"})}})]})})})]})}),Object(m.jsx)(Fe,{isOpen:"dontMissTheOffers"===x,onApprove:function(){return v("register")},onClose:function(){return v("none")}}),Object(m.jsx)(Ee,{publicKey:(null===(y=d.publicKey)||void 0===y?void 0:y.toString())||"",user:c,isOpen:"register"===x,mode:"register",onClose:function(){return v("none")},onRegistered:function(e){var t,n;null===(t=p.b.dispatch)||void 0===t||t.call(p.b,{type:"SetUser",user:e}),null===(n=p.b.dispatch)||void 0===n||n.call(p.b,{type:"SetHasUser",hasUser:"yes"}),v("none")}})]})}return Object(m.jsx)("div",{className:"relative inline-block text-left",children:Object(m.jsxs)("div",{className:"flex flex-row",children:[Object(m.jsx)(ze,{}),Object(m.jsx)(b.b,{to:"/faq",className:"justify-center text-sm font-medium text-gray-700 hover:text-gray-900 mr-2 hidden sm:inline-flex",children:"FAQ"}),Object(m.jsx)("button",{onClick:function(){return f.setVisible(!0)},className:"group inline-flex justify-center text-sm font-medium text-gray-700 hover:text-gray-900",children:"Connect Wallet"})]})})}var ze=function(){var e=Object(s.useState)(void 0),t=Object(o.a)(e,2),n=t[0],r=t[1];Object(s.useEffect)((function(){var e="true"===localStorage.getItem("alphaDarkMode");e!==document.documentElement.classList.contains("dark")&&Be.toggle(),r(e)}),[]);return Object(m.jsx)("span",{className:"justify-center text-sm font-medium text-gray-700 hover:text-gray-900 mr-2 dark",onClick:function(){Be.toggle(),localStorage.setItem("alphaDarkMode",""+!n),r(!n)},children:n?Object(m.jsx)(N.r,{className:"w-5 h-5"}):Object(m.jsx)(N.l,{className:"w-5 h-5"})})},Re=n(140),Ue=n.n(Re),_e=n(148);function Ke(e){if(e.src&&e.src.startsWith("https://cdn.alpha.art/opt/")){var t=e.src.split("/"),n=t.slice(0,t.length-1);return Object(m.jsx)("div",{className:"rounded-lg w-20 h-20 group-hover:opacity-60 overflow-hidden",children:Object(m.jsxs)("picture",{className:"bg-gray-100 w-full h-full",children:[Object(m.jsx)("source",{type:"image/webp",srcSet:[[].concat(Object(l.a)(n),["120.webp"]).join("/"),[].concat(Object(l.a)(n),["256.webp 2x"]).join("/")].join(", ")}),Object(m.jsx)("img",{loading:"lazy",src:[].concat(Object(l.a)(n),["120.png"]).join("/"),srcSet:[[].concat(Object(l.a)(n),["120.png"]).join("/"),[].concat(Object(l.a)(n),["256.png 2x"]).join("/")].join(", "),width:"80",height:"80",alt:e.alt})]})})}return Object(m.jsx)("img",{src:e.src,alt:e.alt,width:"80",height:"80",className:"rounded-lg w-20 h-20 bg-gray-100 group-hover:opacity-60"})}function He(e){var t=e.collectionKey,n=e.onClose,r=Object(k.f)(),i=Object(s.useState)(""),a=Object(o.a)(i,2),c=a[0],l=a[1],d=function(e,n){Object(O.p)(e,t).then((function(e){n(e.map((function(e){return{label:e.title,value:e.id,image:e.image}})))}))},u=Object(s.useMemo)((function(){return Ue()(d,300)}),[]);return Object(m.jsxs)("div",{className:"max-w-lg w-full h-full max-h-80 sm:max-h-96",children:[Object(m.jsx)("label",{htmlFor:"search",className:"sr-only",children:"Search"}),Object(m.jsxs)("div",{className:"relative",children:[Object(m.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:Object(m.jsx)(N.n,{className:"h-5 w-5 text-gray-800","aria-hidden":"true"})}),Object(m.jsx)(_e.a,{inputValue:c,loadOptions:u,isOptionSelected:function(){return!1},onInputChange:function(e){var t=e;return l(t),t},onChange:function(e){console.log(e),l(e.label),r.push("/t/"+e.value),n()},noOptionsMessage:function(e){return Object(m.jsx)("span",{children:e.inputValue?"No result for ".concat(e.inputValue):"Type name or attribute to search"})},tabSelectsValue:!1,defaultOptions:!1,defaultInputValue:"Search NFTs in ",components:{Input:Ye,Placeholder:function(){return null},ClearIndicator:function(){return null},SingleValue:function(){return null},Option:Ge,DropdownIndicator:function(){return null},IndicatorSeparator:function(){return null},MenuList:qe,Control:Ve}})]})]})}var Ve=function(e){var t=e.children,n=e.innerRef,s=e.innerProps;return Object(m.jsx)("div",Object(c.a)(Object(c.a)({ref:n,className:"bg-white border border-gray-300 rounded-md flex"},s),{},{children:t}))},qe=function(e){var t=e.children,n=e.innerProps,s=e.innerRef;return Object(m.jsx)("div",Object(c.a)(Object(c.a)({className:"z-50 bg-white max-h-96 overflow-scroll",ref:s},n),{},{children:t}))},Ye=function(e){var t=e.innerRef,n=e.value;return Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:Object(m.jsx)(N.n,{className:"h-5 w-5 text-gray-800","aria-hidden":"true"})}),Object(m.jsx)("input",{ref:t,onChange:e.onChange,id:"search1",name:"search1",className:"block w-full pl-10 pr-3 py-2 leading-5 bg-transparent placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 sm:text-sm text-black",placeholder:"Search NFTs",type:"search",autoComplete:"off",value:n})]})},Ge=function(e){var t=e.isFocused,n=e.innerRef,s=e.innerProps,r=e.data;return Object(m.jsxs)("div",Object(c.a)(Object(c.a)({ref:n,className:g("flex items-center m-1 rounded-md focus:bg-indigo-500 focus:text-white",t?"bg-indigo-500 text-white":"")},s),{},{children:[Object(m.jsx)(Ke,{src:r.image}),Object(m.jsx)("span",{className:"ml-1 ",children:r.label})]}))};function Je(e){var t=e.onClose,n=Object(k.f)(),r=Object(s.useState)(""),i=Object(o.a)(r,2),a=i[0],c=i[1],l=function(e,t){Object(O.o)(e).then((function(e){t(e.map((function(e){return{label:e.title,value:e.id,image:e.image}})))}))},d=Object(s.useMemo)((function(){return Ue()(l,300)}),[]);return Object(m.jsxs)("div",{className:"w-full max-w-lg",children:[Object(m.jsx)("label",{htmlFor:"search",className:"sr-only",children:"Search"}),Object(m.jsxs)("div",{className:"relative",children:[Object(m.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:Object(m.jsx)(S.m,{className:"h-5 w-5 text-gray-800","aria-hidden":"true"})}),Object(m.jsx)(_e.a,{inputValue:a,loadOptions:d,isOptionSelected:function(){return!1},onInputChange:function(e){var t=e;return c(t),t},onChange:function(e){console.log(e),c(""),n.push("/collection/"+e.value),null===t||void 0===t||t()},noOptionsMessage:function(e){return e.inputValue?Object(m.jsx)("span",{children:e.inputValue?"No result for ".concat(e.inputValue):null}):null},tabSelectsValue:!1,defaultOptions:!1,controlShouldRenderValue:!0,components:{Input:Xe,Placeholder:function(){return null},ClearIndicator:function(){return null},SingleValue:function(){return null},Option:$e,DropdownIndicator:function(){return null},IndicatorSeparator:function(){return null},MenuList:Ze,Control:Qe}})]})]})}var Qe=function(e){var t=e.children,n=e.innerRef,s=e.innerProps;return Object(m.jsx)("div",Object(c.a)(Object(c.a)({ref:n,className:"bg-white border border-gray-300 rounded-md flex"},s),{},{children:t}))},Ze=function(e){var t=e.children,n=e.innerProps,s=e.innerRef;return Object(m.jsx)("div",Object(c.a)(Object(c.a)({className:"z-50 bg-white max-h-96 overflow-scroll",ref:s},n),{},{children:t}))},Xe=function(e){e.className;var t=e.innerRef,n=e.value,s=e.onFocus,r=e.onBlur;return Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:Object(m.jsx)(S.m,{className:"h-5 w-5 text-gray-800","aria-hidden":"true"})}),Object(m.jsx)("input",{ref:t,onChange:e.onChange,id:"search1",name:"search1",className:"block w-full pl-10 py-2 rounded-md leading-5 placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 bg-white sm:text-sm text-black",placeholder:"Search Collections",type:"search",autoComplete:"off",onFocus:s,onBlur:r,value:n})]})},$e=function(e){var t=e.isFocused,n=e.innerRef,s=e.innerProps,r=e.data;return Object(m.jsxs)("div",Object(c.a)(Object(c.a)({ref:n,className:g("flex items-center m-1 rounded-md focus:bg-indigo-500 focus:text-white",t?"bg-indigo-500 text-white dark:text-white":"dark:text-white")},s),{},{children:[Object(m.jsx)(Ke,{src:r.image}),Object(m.jsx)("span",{className:"ml-1 flex-1",children:r.label})]}))};function et(e){var t=e.collectionKey,n=e.open,r=e.onClose,i=Object(s.useState)(!1),a=Object(o.a)(i,2);a[0],a[1];return Object(m.jsx)(z.a.Root,{show:n,as:s.Fragment,children:Object(m.jsx)(ge.a,{as:"div",className:"fixed z-50 inset-0 overflow-y-auto",onClose:function(){return r()},children:Object(m.jsxs)("div",{className:"flex min-h-screen pt-4 px-4 pb-20",children:[Object(m.jsx)(z.a.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:Object(m.jsx)(ge.a.Overlay,{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),Object(m.jsx)(z.a.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:Object(m.jsx)("div",{className:"flex-1 flex items-center justify-center px-2 lg:ml-6 lg:justify-center",children:t?Object(m.jsx)(He,{collectionKey:t,onClose:r}):Object(m.jsx)("div",{className:"max-w-lg w-full h-full max-h-80 sm:max-h-96",children:Object(m.jsx)(Je,{onClose:r})})})})]})})})}function tt(e){var t,n=Object(s.useState)(!1),r=Object(o.a)(n,2),i=r[0],a=r[1];return Object(m.jsx)("header",{className:"fixed w-full h-16 max-h-16 z-50 shadow-lg backdrop-filter backdrop-saturate-50 backdrop-blur-lg header-background text-black dark:bg-black",children:Object(m.jsx)("nav",{"aria-label":"Top",children:Object(m.jsxs)("div",{className:"h-16 flex items-center",children:[Object(m.jsx)("div",{className:"ml-4 flex items-center",children:Object(m.jsxs)(b.b,{to:null!==(t=e.to)&&void 0!==t?t:"/",children:[Object(m.jsx)("span",{className:"sr-only",children:"AlphaArt Market"}),Object(m.jsx)("img",{id:"alphaLogo",className:"h-9 w-auto",src:"/icon-root.svg",alt:""})]})}),Object(m.jsx)("div",{className:"flex-1 items-center justify-center px-2 lg:ml-6 lg:justify-center hidden sm:flex",children:Object(m.jsx)(Je,{})}),Object(m.jsx)("div",{className:"ml-auto flex items-center",children:Object(m.jsxs)("div",{className:"flex flex-1 items-center justify-end space-x-3",children:[Object(m.jsx)("button",{type:"button",className:"p-2 -m-2 text-gray-400 hover:text-gray-500 sm:hidden",onClick:function(){return a(!0)},children:Object(m.jsx)(S.m,{className:"w-5 h-5 text-gray-700","aria-hidden":"true"})}),Object(m.jsx)(et,{open:i,onClose:function(){return a(!1)}}),Object(m.jsx)(Me,{}),Object(m.jsx)("span",{className:"h-6 w-px bg-gray-200","aria-hidden":"true"})]})})]})})})}var nt="BUY_NOW",st=[nt,"HAS_OFFERS"],rt="PRICE_LOW_TO_HIGH",it=[rt,"PRICE_HIGH_TO_LOW","RECENTLY_LISTED","RECENTLY_SOLD","HIGHEST_LAST_SALE","MOST_VIEWED","HIGHEST_CURRENT_OFFER"],at="Status",ct="OrderBy";function ot(e,t){var n,s={},r=new URLSearchParams("");return e.forEach((function(e){"status"===e.type&&(s.Status||(s.Status=[]),s.Status.push(e.status)),"trait"===e.type&&(s[e.key]||(s[e.key]=[]),s[e.key].push(e.value))})),t&&"PRICE_LOW_TO_HIGH"!==t&&(s.OrderBy=[t]),s.Status||(s.Status=["-BUY_NOW"]),1===(null===(n=s.Status)||void 0===n?void 0:n.length)&&s.Status[0]===nt&&delete s.Status,Object.keys(s).forEach((function(e){r.set(e,s[e].join(","))})),r.toString()}var lt=["skyline","scapes","desolates-metaverse"],dt=["solbees-gen1-cards"];function ut(){var e,t,n=Object(k.h)().slug,i=w(n),a=Object(o.a)(i,1)[0],l=Object(p.d)((function(e){return{progress:e.filterIsInProgress,tokenList:e.tokenList,filterIndex:e.filterIndex,nextPageToken:e.nextPageToken,expectedTokenCount:e.expectedTokenCount,orderBy:e.orderBy}})),d=l.progress,u=l.tokenList,b=l.filterIndex,f=l.expectedTokenCount,j=l.nextPageToken,v=l.orderBy,y=function(e){var t=Object(p.d)((function(t){return{filters:t.filters,orderBy:t.orderBy,collectionMetas:t.collectionMetas[e]}})),n=t.filters,r=t.orderBy,i=t.collectionMetas,a=Object(s.useState)(!1),c=Object(o.a)(a,2),l=c[0],d=c[1],u=Object(k.g)();return Object(s.useEffect)((function(){if(i){var e=new URLSearchParams(u.search),t=[],s=i.traits,a=e.get(at),c=!1;a&&(c=(a=decodeURI(a)).indexOf("-BUY_NOW")>-1,a.split(",").filter((function(e){return!!st.find((function(t){return t===e}))})).forEach((function(e){e&&t.push({type:"status",status:e})}))),0!==t.length||c||t.push({type:"status",status:"BUY_NOW"}),null===s||void 0===s||s.forEach((function(n){var s=e.get(n.key);if(s){var r=(s=decodeURIComponent(s)).split(",").filter((function(e){var t;return!!(null===(t=n.numbers)||void 0===t?void 0:t.find((function(t){return t.value===e})))}));r.length>0&&r.forEach((function(e){t.push({type:"trait",key:n.key,value:e})}))}}));var o,b=e.get(ct);if(b){var m=it.find((function(e){return e===b}));m&&(o=m)}o||(o=rt),l&&ot(t,o)===ot(n,r)||Y(t,o),d(!0)}}),[i]),Object(s.useEffect)((function(){if(l){var e=ot(n,r);window.history.replaceState(null,window.document.title,e?"?"+e:window.location.pathname)}}),[l,n,r]),[l]}(n),N=Object(o.a)(y,1)[0],S=r.a.useState(!1),C=Object(o.a)(S,2),T=C[0],I=C[1],A=Object(s.useState)(!1),P=Object(o.a)(A,2),F=P[0],E=P[1],W=Object(p.c)();r.a.useEffect((function(){N&&b>0&&"undefined"===typeof j&&function(e){var t,n,s=p.b.getState(),r=s.filters,i=s.orderBy,a={collectionId:e,orderBy:i,status:[],traits:[]},c={},o=Object(x.a)(r);try{for(o.s();!(n=o.n()).done;){var l=n.value;"status"===l.type?a.status.push(l.status):l.key in c?c[l.key].push(l.value):c[l.key]=[l.value]}}catch(m){o.e(m)}finally{o.f()}for(var d=0,u=Object.keys(c);d<u.length;d++){var b=u[d];a.traits.push({key:b,values:c[b]})}null===(t=p.b.dispatch)||void 0===t||t.call(p.b,{type:"ResetTokenList"}),console.log(a),Object(O.c)(a).then((function(t){var n,s,r,i,c,o,l;null===(n=p.b.dispatch)||void 0===n||n.call(p.b,{type:"AppendTokenList",tokenList:null!==(s=t.tokens)&&void 0!==s?s:[],nextPageToken:t.nextPage,expectedTokenCount:t.total}),null===(r=p.b.dispatch)||void 0===r||r.call(p.b,{type:"AddFloorPrice",collection:e,price:t.floorPrice}),"undefined"===typeof t.floorPrice&&"undefined"===typeof t.tokens&&(null===(i=a.status)||void 0===i?void 0:i.includes("BUY_NOW"))&&0===(null===(c=a.traits)||void 0===c?void 0:c.length)?null===(o=p.b.dispatch)||void 0===o||o.call(p.b,{type:"RemoveFilter",filter:{type:"status",status:"BUY_NOW"}}):null===(l=p.b.dispatch)||void 0===l||l.call(p.b,{type:"FilterResetProgress",value:!1})})).catch((function(e){Object(H.a)("Unable to filter tokens","".concat(e),"error"),console.error(e)}))}(n)}),[b,N,j,n]),r.a.useEffect((function(){N&&W({type:"ResetCollectionInfo"})}),[n]);var L=function(e){e[0].isIntersecting&&function(){var e=p.b.getState().nextPageToken;e&&"undefined"===typeof Q[e]&&(Q[e]=!0,Object(O.c)({token:e}).then((function(e){var t,n;null===(t=p.b.dispatch)||void 0===t||t.call(p.b,{type:"AppendTokenList",tokenList:null!==(n=e.tokens)&&void 0!==n?n:[],nextPageToken:e.nextPage})})).catch((function(e){console.error(e),Object(H.a)("Unable to fetch next nft page","".concat(e),"error")})))}()};return Object(m.jsxs)("div",{className:"bg-white flex flex-col overflow-x-hidden h-screen",children:[Object(m.jsx)(tt,{}),Object(m.jsx)(ke,{mobileFiltersOpen:T,setMobileFiltersOpen:I,idOrSlug:n}),Object(m.jsx)(D,{collectionID:n}),Object(m.jsxs)("div",{className:"flex flex-1 sm:px-6 lg:px-8",children:[Object(m.jsx)(Ne,{idOrSlug:n}),Object(m.jsxs)("main",{className:"flex-1 px-4 sm:px-6 lg:px-8 pt-6 pb-6",children:[Object(m.jsx)("h2",{id:"products-heading",className:"sr-only",children:"Items"}),Object(m.jsx)(xe,{setMobileFiltersOpen:I,onClickSearch:function(){return E(!0)}}),f>0&&!d&&Object(m.jsxs)("h3",{className:"text-xs font-semibold tracking-wide text-gray-500 mb-4",children:[f," Items"]}),0===f&&!d&&Object(m.jsx)("h3",{className:"text-base font-semibold w-full text-center tracking-wide text-gray-500 mt-8",children:"No Result"}),d?Object(m.jsxs)("div",{className:"animate-pulse",children:[Object(m.jsx)("div",{className:"mb-5 h-4 w-20 overflow-hidden bg-gray-200 rounded-sm"}),Object(m.jsx)(Ce,{count:100})]}):Object(m.jsxs)("div",{className:g("grid grid-cols-1",lt.includes(n)?"gap-y-10 sm:grid-cols-1 gap-x-6 md:grid-cols-1 xl:grid-cols-2 xl:gap-x-8":"gap-y-10 sm:grid-cols-2 gap-x-6 md:grid-cols-3 xl:grid-cols-4 xl:gap-x-8"),children:[u.map((function(e){return Object(m.jsx)(h,Object(c.a)(Object(c.a)({},e),{},{showField:bt(v),size:lt.includes(n)?"twitter":"rect",resize:dt.includes(n)?"contain":"cover"}),e.mintId)})),"string"===typeof j&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"animate-pulse",ref:function(e){e&&new IntersectionObserver(L,{root:null,threshold:.25,rootMargin:"0px"}).observe(e)},children:Object(m.jsx)(Se,{})}),Array.from({length:3},(function(){return Object(m.jsx)("div",{className:"animate-pulse",children:Object(m.jsx)(Se,{})})}))]})]})]})]}),(null===a||void 0===a||null===(e=a.collection)||void 0===e?void 0:e.id)&&Object(m.jsx)(et,{collectionKey:null===a||void 0===a||null===(t=a.collection)||void 0===t?void 0:t.id,open:F,onClose:function(){return E(!1)}})]})}function bt(e){return"HIGHEST_CURRENT_OFFER"===e?"offerPrice":"lastPrice"}var mt=n(49),ft=n(74),jt=n(236);function ht(){return Object(m.jsx)("div",{className:"animate-pulse",children:Object(m.jsxs)("div",{className:"flex flex-row flex-1 text-sm text-gray-500 border-b items-center",children:[Object(m.jsxs)("div",{className:"p-4 flex-1 flex ",children:[Object(m.jsx)("div",{className:"w-5 h-5 bg-gray-200"}),Object(m.jsx)("div",{className:"ml-3 w-14 h-5 bg-gray-200"})]}),Object(m.jsx)("div",{className:"p-4 flex-1",children:Object(m.jsxs)("div",{className:"flex items-center animate-pulse",children:[Object(m.jsx)("div",{className:"rounded-md w-12 h-12 bg-gray-200"}),Object(m.jsx)("span",{className:"ml-1 w-12 h-4 bg-gray-200"})]})}),Object(m.jsx)("div",{className:"p-4 flex-1 flex",children:Object(m.jsx)("div",{className:"w-20 h-5 bg-gray-200"})}),Object(m.jsx)("div",{className:"p-4 flex-1 flex ",children:Object(m.jsx)("div",{className:"w-20 h-5 bg-gray-200"})}),Object(m.jsx)("div",{className:"p-4 flex-1 flex",children:Object(m.jsx)("div",{className:"w-20 h-5 bg-gray-200"})}),Object(m.jsx)("div",{className:"p-4 flex-1 flex ",children:Object(m.jsx)("div",{className:" w-20 h-5 bg-gray-200"})})]})})}function xt(e){return"SALE"===e.tradingType||"OFFER"===e.tradingType||("LISTING"===e.tradingType||"UNLIST"===e.tradingType)&&"alpha.art"===e.marketplace}function pt(e){if(e.src&&e.src.startsWith("https://cdn.alpha.art/opt/")){var t=e.src.split("/"),n=t.slice(0,t.length-1);return Object(m.jsx)("div",{className:"rounded-md w-12 h-12 overflow-hidden group-hover:opacity-60 bg-gray-100",children:Object(m.jsxs)("picture",{className:"bg-gray-100 w-full h-full",children:[Object(m.jsx)("source",{type:"image/webp",srcSet:[[].concat(Object(l.a)(n),["60.webp"]).join("/"),[].concat(Object(l.a)(n),["120.webp 2x"]).join("/")].join(", ")}),Object(m.jsx)("img",{loading:"lazy",src:[].concat(Object(l.a)(n),["60.png"]).join("/"),srcSet:[[].concat(Object(l.a)(n),["60.png"]).join("/"),[].concat(Object(l.a)(n),["120.png 2x"]).join("/")].join(", "),alt:e.alt,className:"bg-gray-100"})]})})}return Object(m.jsx)("img",{src:e.src,alt:e.alt,width:"48",height:"48",className:"rounded-md w-12 h-12 bg-gray-100 group-hover:opacity-60"})}function gt(e){var t=e.title,n=e.isActive,s=e.Icon;return Object(m.jsxs)("button",{type:"button",onClick:e.onClick,className:g("flex flex-1 ml-1 md:inline-flex items-center px-2 py-1 border border-gray-300 shadow-sm text-xs sm:text-sm font-medium rounded-md bg-white focus:outline-none ",n?"bg-indigo-600 text-white dark:text-white dark:bg-indigo-600":" text-gray-500"),children:[Object(m.jsx)(s,{className:g("flex-shrink-0 mr-1 h-5 w-5 ",n?"text-white dark:text-white":"text-gray-500")}),t]})}var vt,yt=!1,Ot=void 0;function wt(e){var t=Object(s.useRef)(null),n=e.id,r=e.title,i=Object(s.useState)(!0),a=Object(o.a)(i,2),d=a[0],f=a[1],j=Object(s.useState)([]),h=Object(o.a)(j,2),x=h[0],p=h[1],v=Object(s.useState)({}),y=Object(o.a)(v,2),w=y[0],k=y[1],S=Object(s.useState)("COLLECTION"===e.resourceType?{SALE:!0}:{LISTING:!0,SALE:!0,OFFER:!0}),C=Object(o.a)(S,2),I=C[0],A=C[1],P=Object(s.useState)(!1),F=Object(o.a)(P,2),W=F[0],L=F[1];Object(s.useEffect)((function(){M(!1)}),[n,I]);var B=function(e){e[0].isIntersecting&&D()},D=function(){!yt&&x.length&&M(!0)},M=function s(r){r?yt=!0:(f(!0),L(!1),(null===t||void 0===t?void 0:t.current)&&(t.current.scrollTop=0),Ot=void 0),Object(O.t)({id:n,resourceType:e.resourceType,tradingTypes:Object.keys(I).length>0?Object.keys(I):["LISTING","SALE","OFFER"],before:r?Ot:void 0,limit:20,noForeignListing:!0}).then(function(){var e=Object(_.a)(U.a.mark((function e(t){var n,i;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.filter(xt),0!==t.length){e.next=5;break}return L(!0),r?yt=!1:(p([]),f(!1)),e.abrupt("return");case 5:if(Ot=t[t.length-1].createdAt,0!==n.length){e.next=15;break}if(!(t.length<20)){e.next=13;break}return L(!0),r?yt=!1:(p([]),f(!1)),e.abrupt("return");case 13:return s(r),e.abrupt("return");case 15:if(t.length<20&&L(!0),!((i=n.map((function(e){return e.mintPubkey})).filter((function(e){return!w[e]}))).length>0)){e.next=20;break}return e.next=20,Object(O.h)(void 0,i,!0).then((function(e){var t,n=null===(t=e.tokens)||void 0===t?void 0:t.reduce((function(e,t){var n;return Object(c.a)(Object(c.a)({},e),{},Object(mt.a)({},(null===(n=t.mintId)||void 0===n?void 0:n.toString())+"",t))}),{});n&&k((function(e){return Object(c.a)(Object(c.a)(Object(c.a)({},{}),e),n)}))}));case 20:r?(p((function(e){return[].concat(Object(l.a)(e),Object(l.a)(n))})),yt=!1):(p(n),f(!1));case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},z=function(){var t=Object(_.a)(U.a.mark((function t(){return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("TOKEN"!==e.resourceType){t.next=5;break}return f(!0),Object(H.a)("Queued this item for metadata update","Come back in a minute..."),t.next=5,Object(O.s)(n);case 5:M(!1);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),R=function(e){return function(){A((function(t){var n=Object(c.a)({},t);return n[e]?delete n[e]:n[e]=!0,n}))}};return Object(m.jsx)("div",{className:" border-gray-200",children:Object(m.jsxs)("div",{className:"border border-gray-300 rounded-tl-md rounded-md",children:[Object(m.jsx)("div",{className:"flex p-4 border-b border-gray-300 items-center",children:Object(m.jsxs)("div",{className:"flex flex-1 flex-col",children:[Object(m.jsxs)("div",{className:"flex flex-1 items-center",children:[Object(m.jsx)(N.t,{className:"flex-shrink-0 mr-1 h-5 w-5 text-gray-700"}),Object(m.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:r||"Trading History"}),Object(m.jsx)("div",{className:"flex-1"}),Object(m.jsxs)("div",{className:"hidden sm:flex",children:[Object(m.jsx)(gt,{title:"LISTING",Icon:N.s,onClick:R("LISTING"),isActive:I.LISTING}),Object(m.jsx)(gt,{title:"SALE",Icon:N.q,onClick:R("SALE"),isActive:I.SALE}),Object(m.jsx)(gt,{title:"OFFER",Icon:N.j,onClick:R("OFFER"),isActive:I.OFFER}),"COLLECTION"!==e.resourceType&&Object(m.jsx)(gt,{title:"DELIST",Icon:N.k,onClick:R("UNLIST"),isActive:I.UNLIST})]}),Object(m.jsxs)("button",{className:"ml-4 sm:ml-8 has-tooltip text-gray-700 hover:text-gray-900",onClick:z,disabled:d,children:[Object(m.jsx)(E,{text:d?"Trading History Reloading":"TOKEN"===e.resourceType?"Refresh Trading History and Metadata":"Refresh Trading History",className:"-mt-12 -ml-20"}),Object(m.jsx)(N.m,{className:g("flex-shrink-0 mr-3 h-5 w-5",d?"animate-spin":"")})]})]}),Object(m.jsxs)("div",{className:"sm:hidden flex flex-1 pt-2",children:[Object(m.jsx)(gt,{title:"LISTING",Icon:N.s,onClick:R("LISTING"),isActive:I.LISTING}),Object(m.jsx)(gt,{title:"SALE",Icon:N.q,onClick:R("SALE"),isActive:I.SALE}),Object(m.jsx)(gt,{title:"OFFER",Icon:N.j,onClick:R("OFFER"),isActive:I.OFFER}),"COLLECTION"!==e.resourceType&&Object(m.jsx)(gt,{title:"DELIST",Icon:N.k,onClick:R("UNLIST"),isActive:I.UNLIST})]})]})}),Object(m.jsx)("div",{ref:t,className:"relative overflow-y-scroll overflow-x-scroll",children:Object(m.jsxs)("div",{style:{minWidth:968,maxHeight:"calc(100vh - 200px)"},children:[Object(m.jsxs)("div",{className:"flex flex-row flex-1 text-sm text-gray-500 border-b",children:[Object(m.jsx)("div",{className:"p-4 flex-1",children:"Event"}),Object(m.jsx)("div",{className:"p-4 flex-1",children:"Item"}),Object(m.jsx)("div",{className:"p-4 flex-1",children:"Price"}),Object(m.jsx)("div",{className:"p-4 flex-1",children:"From"}),Object(m.jsx)("div",{className:"p-4 flex-1",children:"To"}),Object(m.jsx)("div",{className:"p-4 flex-1",children:"Date"})]}),d&&Array.from({length:20},(function(e,t){return Object(m.jsx)(ht,{},t)})),!d&&!x.length&&Object(m.jsxs)("div",{className:"flex flex-col items-center justify-center h-44",children:[Object(m.jsx)(N.t,{className:"flex-shrink-0 mr-1 h-9 w-9 mb-2 text-gray-400 "}),Object(m.jsx)("span",{children:"No trading history yet"})]}),!d&&!!x.length&&x.map((function(e){var t=e.toPubkey,n=e.user,s=u(Number(e.price)),r="\u25ce ".concat(s);return"UNLIST"===e.tradingType?r="":"OFFER"===e.tradingType&&0===s&&(r="NFT Offer"),Object(m.jsxs)("div",{className:"flex flex-row flex-1 text-sm border-b items-center",children:[Object(m.jsx)("div",{className:"p-4 flex-1 w-12",children:Object(m.jsxs)("div",{className:"flex flex-row items-center",children:["SALE"===e.tradingType&&Object(m.jsx)(N.q,{className:"flex-shrink-0 mr-3 h-5 w-5 text-gray-700 "}),"LISTING"===e.tradingType&&Object(m.jsx)(N.s,{className:"flex-shrink-0 mr-3 h-5 w-5 text-gray-700 "}),"OFFER"===e.tradingType&&Object(m.jsx)(N.j,{className:"flex-shrink-0 mr-3 h-5 w-5 text-gray-700 "}),"UNLIST"===e.tradingType&&Object(m.jsx)(N.k,{className:"flex-shrink-0 mr-3 h-5 w-5 text-gray-700 "}),Object(m.jsx)("span",{children:"UNLIST"===e.tradingType?"DELIST":e.tradingType}),"alpha.art"===e.marketplace&&Object(m.jsx)(T,{className:"ml-1 h-4 w-4 text-gray-700"})]})}),Object(m.jsx)("div",{className:"p-4 flex-1 w-24 overflow-hidden overflow-ellipsis",children:Object(m.jsx)(b.b,{to:"/t/"+e.mintPubkey,children:w[e.mintPubkey]?Object(m.jsxs)("div",{className:"flex items-center group",children:[Object(m.jsx)(pt,{src:w[e.mintPubkey].image,alt:w[e.mintPubkey].title}),Object(m.jsx)("span",{className:"ml-1 ",children:w[e.mintPubkey].title})]}):Object(m.jsxs)("div",{className:"flex items-center animate-pulse",children:[Object(m.jsx)("div",{className:"rounded-md w-12 h-12 bg-gray-200"}),Object(m.jsx)("span",{className:"ml-1 w-12 h-4 bg-gray-200"})]})})}),Object(m.jsxs)("div",{className:"p-4 flex-1 w-12",children:[" ",r]}),Object(m.jsx)("div",{className:"p-4 flex-1 text-indigo-500  overflow-hidden overflow-ellipsis",children:Object(m.jsx)(b.b,{to:"/user/"+n,children:Object(m.jsx)(Ae,{pubkey:n})})}),Object(m.jsx)("div",{className:"p-4 flex-1 text-indigo-500  overflow-hidden overflow-ellipsis",children:"SALE"===e.tradingType&&Object(m.jsx)(b.b,{to:"/user/"+t,children:Object(m.jsx)(Ae,{pubkey:t})})}),Object(m.jsx)("div",{className:"p-4 flex-1 w-12",children:Object(m.jsxs)("a",{href:"https://explorer.solana.com/tx/"+e.signature,target:"_blank",rel:"noreferrer",children:[Object(m.jsx)(E,{text:Object(ft.default)(new Date(e.createdAt),"d MMMM yyyy HH:mm"),className:"-mt-12"}),Object(jt.a)(new Date(e.createdAt),new Date,{addSuffix:!0})]})})]},e.signature)})),!!x.length&&!d&&!W&&Object(m.jsxs)("div",{ref:function(e){e&&(vt&&vt.disconnect(),(vt=new IntersectionObserver(B,{root:null,threshold:.25,rootMargin:"0px"})).observe(e))},children:[Object(m.jsx)(ht,{}),Object(m.jsx)(ht,{}),Object(m.jsx)(ht,{}),Object(m.jsx)(ht,{})]})]})})]})})}function kt(){var e=Object(k.h)().slug;return Object(m.jsxs)("div",{className:"bg-white flex flex-col",children:[Object(m.jsx)(tt,{}),Object(m.jsx)(D,{collectionID:e}),Object(m.jsx)("div",{className:"flex flex-1 sm:px-6 lg:px-8 items-center justify-center",children:Object(m.jsx)("main",{className:"flex-1 px-4 sm:px-6 lg:px-8 pb-6 max-w-7xl w-full overflow-hidden h-screen",children:Object(m.jsx)("div",{className:"mt-20",children:Object(m.jsx)(wt,{resourceType:"COLLECTION",id:e,title:"Activity"})})})})]})}var Nt=n(482);function St(e){return Object(m.jsx)("li",{children:Object(m.jsxs)("a",{href:e.href,target:"_blank",rel:"noreferrer",className:"flex items-center justify-center w-6 h-6 text-gray-400 hover:text-gray-500",children:[Object(m.jsx)("span",{className:"sr-only",children:"Twitter Link"}),Object(m.jsx)(I,{className:"w-5 h-5"})]})})}function Ct(e){return Object(m.jsx)("li",{children:Object(m.jsxs)("a",{href:e.href,target:"_blank",rel:"noreferrer",className:"flex items-center justify-center w-6 h-6 text-gray-400 hover:text-gray-500",children:[Object(m.jsx)("span",{className:"sr-only",children:"Discord Link"}),Object(m.jsx)(A,{className:"w-5 h-5 mt-1"})]})})}var Tt=/#\d+/;function It(e){var t,n=e.href;return e.name&&Tt.test(null!==(t=e.name)&&void 0!==t?t:"")&&(n.endsWith("/")?n+=e.name.substring(1):n+="/"+e.name.substring(1)),Object(m.jsx)("li",{children:Object(m.jsxs)("a",{href:n,target:"_blank",rel:"noreferrer",className:"flex items-center justify-center w-6 h-6 text-gray-400 hover:text-gray-500",children:[Object(m.jsx)("span",{className:"sr-only",children:"howrare.is Link"}),Object(m.jsx)(P,{className:"w-5 h-5"})]})})}function At(e){return Object(m.jsx)("li",{children:Object(m.jsxs)("a",{href:e.href,target:"_blank",rel:"noreferrer",className:"flex items-center justify-center w-6 h-6 text-gray-400 hover:text-gray-500",children:[Object(m.jsx)("span",{className:"sr-only",children:"Website Link"}),Object(m.jsx)(F,{className:"w-5 h-5"})]})})}function Pt(e){return Object(m.jsx)("ul",{role:"list",className:"flex items-center space-x-6 mt-4",children:e.links.map((function(t){return t.startsWith("https://twitter.com/")?Object(m.jsx)(St,{href:t},t):t.startsWith("https://discord.gg/")?Object(m.jsx)(Ct,{href:t},t):t.startsWith("https://howrare.is/")?Object(m.jsx)(It,{href:t,name:e.name},t):Object(m.jsx)(At,{href:t},t)}))})}function Ft(e){var t,n,s,i=null===(t=e.token)||void 0===t||null===(n=t.metadata)||void 0===n?void 0:n.seller_fee_basis_points;i="string"===typeof i?Number(i):i;var a=r.a.useState((null!==(s=i)&&void 0!==s?s:0)/1e4),c=Object(o.a)(a,2),l=c[0],u=c[1];return r.a.useEffect((function(){Object(V.b)(p.b.getState().connection,new d.d(e.token.mintPubkey)).then((function(e){u(e.data.sellerFeeBasisPoints/1e4)})).catch((function(e){Object(H.a)("Token metadata fetch failed","".concat(e),"error")}))}),[]),l}function Et(e){var t=e.isOpen,n=e.onClose,r=Object(We.b)();return Object(s.useEffect)((function(){r.setVisible(!!t)}),[t]),Object(s.useEffect)((function(){r.visible||null===n||void 0===n||n()}),[r.visible]),null}function Wt(e){return Object(m.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[Object(m.jsx)("dt",{className:"font-medium text-gray-900",children:e.title}),Object(m.jsx)("dd",{className:"prose prose-sm max-w-none text-gray-500",children:Object(m.jsx)("p",{children:e.value})})]})}var Lt=.02;function Bt(e){var t=e.price,n=r.a.useState(e.royalty),s=Object(o.a)(n,2),i=s[0],a=s[1],c=r.a.useState(Lt),l=Object(o.a)(c,2),d=l[0],u=l[1],f=r.a.useState(!1),j=Object(o.a)(f,2),h=j[0],x=j[1],g=function(e){var t=r.a.useState([]),n=Object(o.a)(t,2),s=n[0],i=n[1],a=Object(p.d)((function(e){return{wallet:e.wallet,connection:e.connection}})),c=a.wallet,l=a.connection;return r.a.useEffect((function(){if(c&&c.publicKey&&!e){var t=c.publicKey;Object(q.i)(l,t).then((function(e){i(e.tokens.map((function(e){return e.mint.toBase58()})))})).catch((function(e){}))}}),[]),s}(!0===e.offer);return r.a.useEffect((function(){if(g.length>0){var e=Math.min(g.length,4);u(Lt-.005*e),x(!0)}else u(Lt),x(!1)}),[g]),r.a.useEffect((function(){a(e.royalty)}),[e.price,e.royalty]),Object(m.jsxs)("div",{children:[Object(m.jsx)(Wt,{title:"Royalty (".concat(Math.round(1e3*i)/10,"%):"),value:"".concat(Math.round(t*i*100)/100," SOL")}),Object(m.jsx)(Wt,{title:"Service Fee (".concat(100*d,"%").concat(h?"*":"","):"),value:"".concat(Math.round(t*d*100)/100," SOL")}),e.showDiscountNotice&&!h&&Object(m.jsx)("div",{children:Object(m.jsxs)("p",{className:"text-gray-500 text-sm mt-2",children:["Reduce Service Fee by Owning"," ",Object(m.jsx)(b.b,{to:"/collection/piggy-sol-gang",className:"underline",children:"Piggy Sol Gang"})]})}),Object(m.jsx)(Wt,{title:e.offer?"NFT Owner will get:":"Your earning:",value:"".concat(Math.round(100*(t-t*(i+d)))/100," SOL")}),h&&Object(m.jsx)("p",{className:"text-gray-500 text-sm mt-2",children:"* Discount will be calculated during NFT sale"})]})}function Dt(e){var t,n,s,i,a=e.nft,c=r.a.useState(void 0),l=Object(o.a)(c,2),u=l[0],b=l[1],f=r.a.useState(0),j=Object(o.a)(f,2),h=j[0],x=j[1],v=r.a.useState(!1),O=Object(o.a)(v,2),w=O[0],k=O[1],N=r.a.useState(!1),S=Object(o.a)(N,2),C=S[0],T=S[1],I=Ft(a),A=Object(p.d)((function(e){return e.wallet}));return Object(m.jsx)(Pe,{visible:e.isOpen,onClose:function(){var t;C||(null===(t=e.onClose)||void 0===t||t.call(e))},children:Object(m.jsxs)("div",{className:"space-y-6 h-72",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{htmlFor:"price",className:"block text-xl font-medium text-gray-700",children:"Price"}),Object(m.jsxs)("div",{className:"mt-1 relative rounded-md shadow-sm",children:[Object(m.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:Object(m.jsx)("span",{className:"text-gray-500 sm:text-base",children:"\u25ce"})}),Object(m.jsx)("input",{type:"number",name:"price",id:"price",className:"form-input h-12 focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-7 pr-12 sm:text-xl border-gray-300 rounded-md",placeholder:"0.00","aria-describedby":"price-currency",value:u,onChange:function(e){b(e.currentTarget.value);var t=parseFloat(e.currentTarget.value),n=!isNaN(t)&&isFinite(t);k(n),n&&x(t)}}),Object(m.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:Object(m.jsx)("span",{className:"text-gray-500 sm:text-sm",id:"price-currency",children:"SOL"})})]})]}),Object(m.jsx)(Bt,{price:w?h:0,royalty:I,symbol:null===(t=a.token)||void 0===t||null===(n=t.metadata)||void 0===n?void 0:n.symbol,authority:null===(s=a.collection)||void 0===s?void 0:s.authorityPubkey,tokenPublicKey:null===(i=a.token)||void 0===i?void 0:i.mintPubkey,showDiscountNotice:!0}),Object(m.jsxs)("div",{children:[!C&&Object(m.jsx)("button",{disabled:!w,onClick:function(){if((null===A||void 0===A?void 0:A.publicKey)&&w){var t,n=new d.d(null===(t=a.token)||void 0===t?void 0:t.mintPubkey);T(!0),function(e,t){return X.apply(this,arguments)}(n,h).then((function(t){var n,s;T(!1),Object(H.a)("NFT successfully listed"),null===(n=e.refetch)||void 0===n||n.call(e),null===(s=e.onClose)||void 0===s||s.call(e)})).catch((function(e){Object(H.a)("Failed to list NFT","".concat(e),"error"),T(!1)}))}},className:g("w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white dark:text-white ",w?"bg-indigo-600  hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500":"bg-indigo-300 "),children:"Send Listing"}),Object(m.jsx)("div",{className:"flex items-center justify-center",children:C&&Object(m.jsx)(y,{size:64})})]})]})})}function Mt(e){var t=e.nft,n=r.a.useState(!1),s=Object(o.a)(n,2),i=s[0],a=s[1],c=Object(p.d)((function(e){return e.wallet}));return Object(m.jsx)(Pe,{visible:e.isOpen,onClose:function(){var t;i||(null===(t=e.onClose)||void 0===t||t.call(e))},children:Object(m.jsx)("div",{className:"space-y-6 nightwind-prevent-block",children:Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{className:"mb-8",children:"This will remove listing from marketplace"}),!i&&Object(m.jsx)("button",{onClick:function(){if((null===c||void 0===c?void 0:c.publicKey)&&e.escrowAccount){var n,s=new d.d(null===(n=t.token)||void 0===n?void 0:n.mintPubkey);a(!0),ee(s,e.escrowAccount).then((function(t){var n,s;a(!1),Object(H.a)("NFT successfully unlisted"),null===(n=e.refetch)||void 0===n||n.call(e),null===(s=e.onClose)||void 0===s||s.call(e)})).catch((function(e){Object(H.a)("Failed to unlist NFT","".concat(e.message),"error"),a(!1)}))}},className:g("w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white ","bg-indigo-600  hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"),children:"Unlist Now"}),Object(m.jsx)("div",{className:"flex items-center justify-center",children:i&&Object(m.jsx)(y,{size:64})})]})})})}function zt(e){var t,n,s=e.nft,i=e.escrowAccount,a=r.a.useState(!1),c=Object(o.a)(a,2),l=c[0],b=c[1],f=r.a.useState(!1),j=Object(o.a)(f,2),h=j[0],x=j[1],v=Object(p.d)((function(e){return{wallet:e.wallet,connection:e.connection}})),O=v.wallet,w=v.connection,k=r.a.useState(e.escrow),N=Object(o.a)(k,1)[0],S=r.a.useState(e.escrow),C=Object(o.a)(S,2),T=C[0],I=C[1];return r.a.useEffect((function(){if(e.priceDate){var t,n=(new Date).getTime();if(e.priceDate.getTime()+6e4<n)x(!0),Object(q.g)(w,new d.d(null===(t=s.token)||void 0===t?void 0:t.mintPubkey),"singleGossip").then((function(e){I(e.escrow),x(!1)}))}}),[]),Object(m.jsx)(Pe,{visible:e.isOpen,onClose:function(){var t;l||(null===(t=e.onClose)||void 0===t||t.call(e))},children:Object(m.jsx)("div",{className:"space-y-6",children:Object(m.jsxs)("div",{children:[l?Object(m.jsx)("h2",{className:"mb-8",children:"Allow transaction in your wallet"}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("h2",{className:"mb-4",children:["You are going to purchase"," ",Object(m.jsx)("strong",{children:null===(t=e.nft.token)||void 0===t||null===(n=t.metadata)||void 0===n?void 0:n.name})]}),Object(m.jsx)("p",{className:"text-base",children:"Current price:"}),Object(m.jsx)("h3",{className:"mt-2 mb-8 text-2xl",children:Object(m.jsxs)("strong",{children:["\u25ce",u(Number(T.price))," SOL"," ",h&&Object(m.jsx)(y,{})]})})]}),!l&&Object(m.jsx)("button",{onClick:function(){if(!l&&(null===O||void 0===O?void 0:O.publicKey)){var t,n=new d.d(null===(t=s.token)||void 0===t?void 0:t.mintPubkey);b(!0),function(e,t,n){return ne.apply(this,arguments)}(n,N,i).then((function(t){var n,s;O.publicKey&&w.getBalance(O.publicKey).then((function(e){var t;console.log("Balance",e),null===(t=p.b.dispatch)||void 0===t||t.call(p.b,{type:"SetBalance",balance:e})})).catch(console.error),Object(H.a)("NFT successfully purchased"),null===(n=e.refetch)||void 0===n||n.call(e),null===(s=e.onClose)||void 0===s||s.call(e)})).catch((function(t){var n;Object(H.a)("Failed to buy NFT","".concat(t.message),"error"),null===(n=e.onClose)||void 0===n||n.call(e)}))}},className:g("w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white ","bg-indigo-600  hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"),children:"Buy Now"}),Object(m.jsx)("div",{className:"flex items-center justify-center",children:l&&Object(m.jsx)(y,{size:64})})]})})})}var Rt=n(230),Ut=n(496),_t=n(100),Kt=n.n(_t),Ht=n(107),Vt=n(108),qt=[{id:1,name:"3 days"},{id:2,name:"7 days"},{id:3,name:"A month"},{id:4,name:"Custom date"}];function Yt(e){var t=e.endDate,n=e.onChange,r=Object(s.useState)(qt[1]),i=Object(o.a)(r,2),a=i[0],l=i[1];Object(s.useEffect)((function(){u(a)}),[]);var d=function(e){n(e)},u=function(e){1===e.id?n(Object(Ht.default)(new Date,3)):2===e.id?n(Object(Ht.default)(new Date,7)):3===e.id&&n(Object(Vt.default)(new Date,1)),l(e)},b=Object(s.forwardRef)((function(e,t){return Object(m.jsx)("div",{children:Object(m.jsxs)("div",{className:"mt-1 relative rounded-md shadow-sm",children:[Object(m.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none ",children:Object(m.jsx)(N.b,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),Object(m.jsx)("input",Object(c.a)(Object(c.a)({},e),{},{className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-9 sm:text-2xl border-gray-300 rounded-md",style:{height:38}}))]})})})),f=Object(s.forwardRef)((function(e,t){return Object(m.jsx)("div",{children:Object(m.jsxs)("div",{className:"mt-1 relative rounded-md shadow-sm",children:[Object(m.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none ",children:Object(m.jsx)(N.f,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),Object(m.jsx)("input",Object(c.a)(Object(c.a)({},e),{},{className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-9 sm:text-sm border-gray-300 rounded-md dark:text-white dark:bg-black border",style:{height:38}}))]})})}));return Object(m.jsxs)("div",{className:"flex flex-row mt-0",children:[Object(m.jsx)(Ut.a,{value:a,onChange:u,children:Object(m.jsxs)("div",{className:"mt-1 relative w-36",children:[Object(m.jsxs)(Ut.a.Button,{className:"bg-white relative w-full border border-gray-300 rounded-md shadow-sm pl-3 pr-10 py-2 text-left cursor-default focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:[Object(m.jsx)("span",{className:"block truncate",children:a.name}),Object(m.jsx)("span",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:Object(m.jsx)(S.n,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})})]}),Object(m.jsx)(z.a,{as:s.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:Object(m.jsx)(Ut.a.Options,{className:"absolute z-10 mt-1 w-full bg-white shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm",children:qt.map((function(e){return Object(m.jsx)(Ut.a.Option,{className:function(e){return g(e.active?"text-white bg-indigo-600":"text-gray-900","cursor-default select-none relative py-2 pl-3 pr-9")},value:e,children:function(t){var n=t.selected,s=t.active;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("span",{className:g(n?"font-semibold":"font-normal","block truncate"),children:e.name}),n?Object(m.jsx)("span",{className:g(s?"text-white":"text-indigo-600","absolute inset-y-0 right-0 flex items-center pr-4"),children:Object(m.jsx)(S.c,{className:"h-5 w-5","aria-hidden":"true"})}):null]})}},e.id)}))})})]})}),4===a.id&&Object(m.jsx)("div",{className:"ml-1 flex-1",children:Object(m.jsx)(Kt.a,{className:"h-9 mt-1",selected:t,onChange:function(e){return d(e)},endDate:t,minDate:new Date,nextMonthButtonLabel:">",previousMonthButtonLabel:"<",timeIntervals:30,customInput:Object(m.jsx)(b,{})})}),Object(m.jsx)("div",{className:"ml-1 flex-1",children:Object(m.jsx)(Kt.a,{className:"h-9 mt-1",selected:t,onChange:function(e){return d(e)},dateFormat:"h:mm aa",timeIntervals:30,dropdownMode:"scroll",popperClassName:"pl-0 pr-0",customInput:Object(m.jsx)(f,{}),showTimeSelectOnly:!0,showTimeSelect:!0})})]})}var Gt=n(27);function Jt(e){var t=Object(p.d)((function(e){return e.connection})),n=r.a.useState(),s=Object(o.a)(n,2),i=s[0],a=s[1],c=r.a.useState(),l=Object(o.a)(c,2),u=l[0],b=l[1],m=r.a.useState(),f=Object(o.a)(m,2),j=f[0],h=f[1];return r.a.useEffect((function(){a(void 0),b(void 0),h(void 0);var n=new d.d(e);Object(q.j)(t,n).then((function(e){a(e.escrows),b(e.offers)})),t.getParsedTokenAccountsByOwner(n,{programId:Gt.c},"singleGossip").then((function(e){var t=e.value.filter((function(e){if("spl-token"!==e.account.data.program)return!1;var t=e.account.data.parsed;return"account"===t.type&&(0===t.info.tokenAmount.decimals&&1===t.info.tokenAmount.uiAmount)})).map((function(e){return e.account.data.parsed.info.mint}));h(t)})).catch((function(e){console.error(e)}))}),[e]),{ready:!!j&&!!i&&!!u,userNFTS:j||[],escrowAccounts:i||[],offerAccounts:u||[]}}function Qt(e){var t=e.tokenList,n=e.collections,s=r.a.useState([]),i=Object(o.a)(s,2),a=i[0],c=i[1],d=Object(p.d)((function(e){return{floorPrices:e.floorPrices}})).floorPrices;return r.a.useEffect((function(){console.log(d,e.collections),e.collections.forEach((function(e){d[e.id]||J(e.id)}))}),[]),Object(m.jsx)("div",{className:"flex flex-col max-h-80 my-2",children:Object(m.jsx)("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:Object(m.jsx)("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:Object(m.jsx)("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:Object(m.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[Object(m.jsx)("thead",{className:"bg-gray-50",children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),Object(m.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Sale"}),Object(m.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Collection Floor"}),!e.readonly&&Object(m.jsx)("th",{scope:"col",className:"relative px-6 py-3",children:Object(m.jsx)("span",{className:"sr-only",children:"Select"})})]})}),Object(m.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map((function(t){var s,r,i=a.includes(t.mintId);return Object(m.jsxs)("tr",{className:i?"bg-gray-100":"",children:[Object(m.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(m.jsx)(b.b,{to:"/t/".concat(t.mintId),target:"_blank",children:Object(m.jsxs)("div",{className:"flex items-center",children:[Object(m.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:Object(m.jsx)("img",{className:"h-10 w-10 rounded-full",src:t.image,alt:""})}),Object(m.jsxs)("div",{className:"ml-4",children:[Object(m.jsx)("div",{className:"text-sm font-medium text-gray-900",children:t.title}),Object(m.jsx)("div",{className:"text-sm text-gray-500",children:null!==(s=null===(r=n.find((function(e){return e.id===t.collectionId})))||void 0===r?void 0:r.title)&&void 0!==s?s:""})]})]})})}),Object(m.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(m.jsx)("div",{className:"text-sm text-gray-900",children:"\u25ce"+u(t.last)})}),Object(m.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(m.jsx)("div",{className:"text-sm text-gray-900",children:d[t.collectionId]?"\u25ce"+u(d[t.collectionId]):""})}),!e.readonly&&Object(m.jsx)("td",{className:"px-1 py-1 whitespace-nowrap text-right text-sm font-medium",children:Object(m.jsx)("div",{className:"ml-3 flex items-center h-5",children:Object(m.jsx)("input",{name:"offer",type:"checkbox",disabled:!i&&a.length>=5,className:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded",checked:i,onChange:function(n){if(n.target.checked){if(a.length<5){var s,r=[].concat(Object(l.a)(a),[t.mintId]);c(r),null===(s=e.onSelected)||void 0===s||s.call(e,r)}}else{var i,o=a.filter((function(e){return e!==t.mintId}));c(o),null===(i=e.onSelected)||void 0===i||i.call(e,o)}}})})})]},t.mintId)}))})]})})})})})}function Zt(e){var t=Jt(e.pubkey),n=t.ready,s=t.userNFTS,i=r.a.useState(!0),a=Object(o.a)(i,2),c=a[0],d=a[1],u=r.a.useState([]),b=Object(o.a)(u,2),f=b[0],j=b[1],h=r.a.useState([]),x=Object(o.a)(h,2),p=x[0],g=x[1];return r.a.useEffect((function(){n&&(s.length>0?(d(!0),Object(O.h)(e.pubkey,Object(l.a)(s)).then((function(e){var t;j((e.collections||[]).sort((function(e,t){return e.title.localeCompare(t.title)||0}))),g(null!==(t=e.tokens)&&void 0!==t?t:[]),d(!1)})).catch((function(e){}))):(d(!1),g([])))}),[n,s]),c?Object(m.jsx)("div",{className:"flex flex-col max-h-80 my-2",children:Object(m.jsx)("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:Object(m.jsx)("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:Object(m.jsx)("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg flex items-center justify-center h-80",children:Object(m.jsx)(y,{size:96})})})})}):Object(m.jsx)(Qt,{collections:f,tokenList:p,onSelected:e.onSelected,readonly:e.readonly})}function Xt(e){var t,n=e.nft,s=r.a.useState([]),i=Object(o.a)(s,2),a=i[0],c=i[1],l=r.a.useState(new Date),u=Object(o.a)(l,2),b=u[0],f=u[1],j=Object(p.d)((function(e){return e.wallet}));return Object(m.jsxs)("div",{className:"space-y-6",children:[Object(m.jsxs)("div",{className:"mt-0",children:[Object(m.jsx)("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:"Offer Expiration"}),Object(m.jsx)(Yt,{endDate:b,onChange:function(e){return f(e)}}),Object(m.jsx)(Zt,{pubkey:null===j||void 0===j||null===(t=j.publicKey)||void 0===t?void 0:t.toBase58(),onSelected:function(e){c(e)}})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{className:"mb-4 text-sm text-center font-light",children:"NFT Escrow service has 0.1 SOL service fee."}),!e.isInProgress&&Object(m.jsx)("button",{disabled:0===a.length,onClick:function(){if((null===j||void 0===j?void 0:j.publicKey)&&a.length>0){var t,s=new d.d(null===(t=n.token)||void 0===t?void 0:t.mintPubkey);e.setIsInProgress(!0),console.log(b),function(e,t,n){return re.apply(this,arguments)}(s,b,a.map((function(e){return new d.d(e)}))).then((function(t){Object(H.a)("Offer transaction succesfully completed"),e.onClose(),oe(s.toString())})).catch((function(t){Object(H.a)("Failed to create offer","".concat(t.message),"error"),e.setIsInProgress(!1)}))}},className:g("w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white nightwind-prevent",a.length>0?"bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500":"bg-indigo-300"),children:"Send Offer"}),Object(m.jsx)("div",{className:"flex items-center justify-center",children:e.isInProgress&&Object(m.jsx)(y,{size:64})})]})]})}function $t(e){var t,n,s,i,a=e.nft,c=r.a.useState(void 0),l=Object(o.a)(c,2),u=l[0],b=l[1],f=r.a.useState(0),j=Object(o.a)(f,2),h=j[0],x=j[1],v=r.a.useState(!1),w=Object(o.a)(v,2),k=w[0],N=w[1],S=Ft(a),C=r.a.useState(new Date),T=Object(o.a)(C,2),I=T[0],A=T[1],P=Object(p.d)((function(e){return e.wallet})),F=Object(p.d)((function(e){return e.connection}));return Object(m.jsxs)("div",{className:"space-y-6",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700",children:"Offer Price"}),Object(m.jsxs)("div",{className:"mt-1 relative rounded-md shadow-sm",children:[Object(m.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none ",children:Object(m.jsx)("span",{className:"text-gray-500 sm:text-base dark:text-white",children:"\u25ce"})}),Object(m.jsx)("input",{type:"number",name:"price",id:"price",className:"form-input h-12 focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-9 pr-12 sm:text-2xl border-gray-300 rounded-md dark:bg-black dark:text-white",placeholder:"0.00",autoComplete:"off","aria-describedby":"price-currency",value:u,onChange:function(e){b(e.currentTarget.value);var t=parseFloat(e.currentTarget.value),n=!isNaN(t)&&isFinite(t);N(n),n&&x(t)}}),Object(m.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:Object(m.jsx)("span",{className:"text-gray-500 sm:text-sm",id:"price-currency",children:"SOL"})})]})]}),Object(m.jsxs)("div",{className:"mt-0",children:[Object(m.jsx)("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:"Offer Expiration"}),Object(m.jsx)(Yt,{endDate:I,onChange:function(e){return A(e)}})]}),Object(m.jsx)(Bt,{price:k?h:0,royalty:S,symbol:null===(t=a.token)||void 0===t||null===(n=t.metadata)||void 0===n?void 0:n.symbol,authority:null===(s=a.collection)||void 0===s?void 0:s.authorityPubkey,tokenPublicKey:null===(i=a.token)||void 0===i?void 0:i.mintPubkey,offer:!0}),Object(m.jsxs)("div",{children:[!e.isInProgress&&Object(m.jsx)("button",{disabled:!k,onClick:function(){if((null===P||void 0===P?void 0:P.publicKey)&&k){var t,n=new d.d(null===(t=a.token)||void 0===t?void 0:t.mintPubkey);e.setIsInProgress(!0),function(e,t,n){return se.apply(this,arguments)}(n,I,h).then((function(t){e.setIsInProgress(!1),Object(H.a)("Offer transaction succesfully completed"),Object(O.g)(n.toBase58()).then((function(t){e.onClose()})).catch((function(t){console.error(t),e.onClose()})),oe(n.toString()),P.publicKey&&F.getBalance(P.publicKey).then((function(e){var t;console.log("New Balance",e),null===(t=p.b.dispatch)||void 0===t||t.call(p.b,{type:"SetBalance",balance:e})})).catch(console.error)})).catch((function(t){Object(H.a)("Failed to create offer","".concat(t.message),"error"),e.setIsInProgress(!1)}))}},className:g("w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white nightwind-prevent",k?"bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500":"bg-indigo-300"),children:"Send Offer"}),Object(m.jsx)("div",{className:"flex items-center justify-center",children:e.isInProgress&&Object(m.jsx)(y,{size:64})})]})]})}function en(e){var t=r.a.useState(!1),n=Object(o.a)(t,2),s=n[0],i=n[1],a=r.a.useState("nft"===e.defaultPage?1:0),c=Object(o.a)(a,2),l=c[0],d=c[1],u=function(){var t;s||(null===(t=e.onClose)||void 0===t||t.call(e))};return Object(m.jsx)(Pe,{visible:e.isOpen,onClose:u,size:1===l?"large":"normal",children:Object(m.jsx)("div",{className:"w-full mb-8",children:Object(m.jsxs)(Nt.a.Group,{as:"div",defaultIndex:l,onChange:function(e){d(e)},children:[Object(m.jsx)("div",{className:"border-b border-gray-200 mb-3",children:Object(m.jsxs)(Nt.a.List,{className:"-mb-px flex space-x-8",children:[Object(m.jsx)(Nt.a,{className:function(e){return g(e.selected?"border-indigo-600 text-indigo-600":"border-transparent text-gray-700 hover:text-gray-800 hover:border-gray-300","whitespace-nowrap py-2 border-b-2 font-medium text-sm")},children:"Offer SOL"}),Object(m.jsx)(Nt.a,{className:function(e){return g(e.selected?"border-indigo-600 text-indigo-600":"border-transparent text-gray-700 hover:text-gray-800 hover:border-gray-300","whitespace-nowrap py-2 border-b-2 font-medium text-sm")},children:"Offer NFT (Escrow)"})]})}),Object(m.jsxs)(Nt.a.Panels,{as:r.a.Fragment,children:[Object(m.jsx)(Nt.a.Panel,{children:Object(m.jsx)($t,{nft:e.nft,isInProgress:s,setIsInProgress:i,onClose:u})}),Object(m.jsx)(Nt.a.Panel,{children:Object(m.jsx)(Xt,{nft:e.nft,isInProgress:s,setIsInProgress:i,onClose:u})})]})]})})})}function tn(e){var t=r.a.useState(!1),n=Object(o.a)(t,2),s=n[0],i=n[1],a=Object(p.d)((function(e){return e.wallet}));return Object(m.jsxs)(Pe,{visible:e.isOpen,onClose:function(){var t;s||(null===(t=e.onClose)||void 0===t||t.call(e))},children:[Object(m.jsx)(ge.a.Title,{as:"h2",className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"Cancel Offer"}),Object(m.jsx)("div",{className:"space-y-6",children:Object(m.jsxs)("div",{children:[Object(m.jsxs)("h3",{className:"mb-8",children:["This will cancel the offer and return the"," ",u(e.lamports)," SOL to your account"]}),!s&&Object(m.jsx)("button",{onClick:function(){(null===a||void 0===a?void 0:a.publicKey)&&e.offerAccount&&(i(!0),function(e){return ie.apply(this,arguments)}(e.offerAccount).then((function(t){var n;i(!1),Object(H.a)("Offer Successfully Cancelled"),oe(e.nftPubKey),null===(n=e.onClose)||void 0===n||n.call(e)})).catch((function(e){Object(H.a)("Failed to cancel offer","".concat(e.message),"error"),i(!1)})))},className:g("w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white ","bg-indigo-600  hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"),children:"Cancel Offer"}),Object(m.jsx)("div",{className:"flex items-center justify-center",children:s&&Object(m.jsx)(y,{size:64})})]})})]})}function nn(e){var t,n,s,i,a,c,l,u,b=Object(p.d)((function(e){return e.wallet})),f=r.a.useState(!1),j=Object(o.a)(f,2),h=j[0],x=j[1],v=r.a.useState(!!e.escrowAccount),O=Object(o.a)(v,2),w=O[0],k=O[1],N=Ft(e.nft),S=function(){(null===b||void 0===b?void 0:b.publicKey)&&e.offer&&ae(e.offer.pubkey,new d.d(e.nftPubKey)).then((function(t){var n,s;Object(H.a)("Offer Successfully Accepted"),oe(e.nftPubKey),null===(n=e.refetch)||void 0===n||n.call(e),null===(s=e.onClose)||void 0===s||s.call(e)})).catch((function(t){var n;Object(H.a)("Failed to accept offer","".concat(t.message),"error"),null===(n=e.onClose)||void 0===n||n.call(e)}))};r.a.useEffect((function(){e.escrowAccount||S()}),[]);var C,T,I,A,P,F,E,W;return e.escrowAccount&&w?Object(m.jsx)(Pe,{visible:e.isOpen,onClose:function(){var t;h||null===(t=e.onClose)||void 0===t||t.call(e)},children:Object(m.jsx)("div",{className:"space-y-6",children:Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{className:"mb-8 text-lg",children:"In order to accept the offer, you need to unlist this NFT from marketplace first."}),Object(m.jsx)(Bt,{price:Number(null===(C=e.offer)||void 0===C?void 0:C.offer.price)/d.c,royalty:N,symbol:null===(T=e.nft)||void 0===T||null===(I=T.token)||void 0===I||null===(A=I.metadata)||void 0===A?void 0:A.symbol,authority:null===(P=e.nft)||void 0===P||null===(F=P.collection)||void 0===F?void 0:F.authorityPubkey,tokenPublicKey:null===(E=e.nft)||void 0===E||null===(W=E.token)||void 0===W?void 0:W.mintPubkey}),!h&&Object(m.jsx)("button",{onClick:function(){if((null===b||void 0===b?void 0:b.publicKey)&&e.escrowAccount){var t=new d.d(e.nftPubKey);x(!0),ee(t,e.escrowAccount).then((function(e){x(!1),Object(H.a)("NFT successfully unlisted"),k(!1),setTimeout((function(){S()}),1e3)})).catch((function(e){Object(H.a)("Failed to unlist NFT","".concat(e.message),"error"),x(!1)}))}},className:g("w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white mb-4","bg-indigo-600  hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"),children:"Unlist Now"}),Object(m.jsx)("div",{className:"flex items-center justify-center",children:h&&Object(m.jsx)(y,{size:64})})]})})}):Object(m.jsx)(Pe,{visible:e.isOpen,children:Object(m.jsx)("div",{className:"space-y-6",children:Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{className:"mb-8 text-center font-bold",children:"Allow the transaction on your wallet."}),Object(m.jsx)(Bt,{price:Number(null===(t=e.offer)||void 0===t?void 0:t.offer.price)/d.c,royalty:N,symbol:null===(n=e.nft)||void 0===n||null===(s=n.token)||void 0===s||null===(i=s.metadata)||void 0===i?void 0:i.symbol,authority:null===(a=e.nft)||void 0===a||null===(c=a.collection)||void 0===c?void 0:c.authorityPubkey,tokenPublicKey:null===(l=e.nft)||void 0===l||null===(u=l.token)||void 0===u?void 0:u.mintPubkey}),Object(m.jsx)("div",{className:"flex items-center justify-center",children:Object(m.jsx)(y,{size:64})}),Object(m.jsx)("p",{className:"mt-8 text-sm text-center font-light",children:"Check your wallet if it has enough sol for transaction fee."})]})})})}function sn(e){var t=Object(p.d)((function(e){return e.wallet})),n=r.a.useState(!1),s=Object(o.a)(n,2),i=s[0],a=s[1],c=r.a.useState(!!e.escrowAccount),l=Object(o.a)(c,2),u=l[0],b=l[1],f=function(){(null===t||void 0===t?void 0:t.publicKey)&&(a(!0),ae(e.data.pubkey,new d.d(e.nftPubKey)).then((function(t){var n,s;Object(H.a)("Offer Successfully Accepted"),oe(e.nftPubKey),null===(n=e.refetch)||void 0===n||n.call(e),null===(s=e.onClose)||void 0===s||s.call(e)})).catch((function(e){Object(H.a)("Failed to accept offer","".concat(e.message),"error"),a(!1)})))};return Object(m.jsx)(Pe,{visible:e.isOpen,onClose:function(){var t;i||(null===(t=e.onClose)||void 0===t||t.call(e))},children:Object(m.jsxs)("div",{className:"space-y-6",children:[Object(m.jsx)("h2",{className:"text-lg",children:"NFT Offer (Escrow) "}),Object(m.jsx)(Qt,{collections:e.data.collections,tokenList:e.data.tokens,readonly:!0}),Object(m.jsxs)("div",{children:[(!e.escrowAccount||!u)&&Object(m.jsx)("p",{className:"mb-4 text-sm text-center font-light",children:"NFT Escrow service has 0.1 SOL service fee."}),e.escrowAccount&&u&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("p",{className:"mb-4 text-sm text-center font-light",children:"In order to accept the offer, you need to unlist this NFT from marketplace first."}),!i&&Object(m.jsx)("button",{onClick:function(){if((null===t||void 0===t?void 0:t.publicKey)&&e.escrowAccount){var n=new d.d(e.nftPubKey);a(!0),ee(n,e.escrowAccount).then((function(e){Object(H.a)("NFT successfully unlisted"),b(!1),setTimeout((function(){f()}),1e3)})).catch((function(e){Object(H.a)("Failed to unlist NFT","".concat(e.message),"error"),a(!1)}))}},className:g("w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white mb-4","bg-indigo-600  hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"),children:"Unlist Now"}),Object(m.jsx)("p",{className:"mb-4 text-sm text-center font-light",children:"NFT Escrow service has 0.1 SOL service fee."})]}),!i&&!u&&Object(m.jsx)("button",{onClick:f,className:g("w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white nightwind-prevent","bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"),children:"Accept Offer"}),Object(m.jsx)("div",{className:"flex items-center justify-center",children:i&&Object(m.jsx)(y,{size:64})}),Object(m.jsx)("p",{className:"mt-8 text-sm text-center font-light",children:"Check your wallet if it has enough sol for transaction fee."})]})]})})}function rn(e){var t,n,s,i,a,c,l=e.nft,b=e.escrow,f=r.a.useState(u(null===(t=l.listing)||void 0===t?void 0:t.price).toString()),j=Object(o.a)(f,2),h=j[0],x=j[1],v=r.a.useState(u(null===(n=l.listing)||void 0===n?void 0:n.price)),O=Object(o.a)(v,2),w=O[0],k=O[1],N=r.a.useState(!0),S=Object(o.a)(N,2),C=S[0],T=S[1],I=r.a.useState(!1),A=Object(o.a)(I,2),P=A[0],F=A[1],E=Ft(l),W=Object(p.d)((function(e){return e.wallet}));return Object(m.jsx)(Pe,{visible:e.isOpen,onClose:function(){var t;P||(null===(t=e.onClose)||void 0===t||t.call(e))},children:Object(m.jsxs)("div",{className:"space-y-6",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700",children:"Price"}),Object(m.jsxs)("div",{className:"mt-1 relative rounded-md shadow-sm",children:[Object(m.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:Object(m.jsx)("span",{className:"text-gray-500 sm:text-base dark:text-white",children:"\u25ce"})}),Object(m.jsx)("input",{type:"number",name:"price",id:"price",className:"form-input focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-7 pr-12 sm:text-base border-gray-300 rounded-md dark:bg-black dark:text-white",placeholder:"0.00","aria-describedby":"price-currency",value:h,onChange:function(e){x(e.currentTarget.value);var t=parseFloat(e.currentTarget.value),n=!isNaN(t)&&isFinite(t);T(n),n&&k(t)}}),Object(m.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:Object(m.jsx)("span",{className:"text-gray-500 sm:text-sm",id:"price-currency",children:"SOL"})})]})]}),Object(m.jsx)(Bt,{price:C?w:0,royalty:E,symbol:null===(s=l.token)||void 0===s||null===(i=s.metadata)||void 0===i?void 0:i.symbol,authority:null===(a=l.collection)||void 0===a?void 0:a.authorityPubkey,tokenPublicKey:null===(c=l.token)||void 0===c?void 0:c.mintPubkey}),Object(m.jsxs)("div",{children:[!P&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("button",{disabled:!C,onClick:function(){if((null===W||void 0===W?void 0:W.publicKey)&&C){var t,n=new d.d(null===(t=l.token)||void 0===t?void 0:t.mintPubkey);F(!0),function(e,t,n){return $.apply(this,arguments)}(n,b.pubkey,w).then((function(t){var n,s;F(!1),Object(H.a)("NFT price successfully updated"),null===(n=e.refetch)||void 0===n||n.call(e),null===(s=e.onClose)||void 0===s||s.call(e)})).catch((function(e){Object(H.a)("Failed to update price","".concat(e),"error"),F(!1)}))}},className:g("w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white nightwind-prevent",C?"bg-indigo-600  hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500":"bg-indigo-300 "),children:"Update Price"}),Object(m.jsx)("p",{className:"mt-4 text-sm text-center font-light",children:"You cannot update price in 5 minutes after listing."})]}),Object(m.jsx)("div",{className:"flex items-center justify-center",children:P&&Object(m.jsx)(y,{size:64})})]})]})})}function an(){return Object(m.jsxs)("div",{className:"bg-white h-screen",children:[Object(m.jsx)(tt,{}),Object(m.jsx)("div",{className:"mx-auto py-16 px-4 sm:py-20 sm:px-6 lg:max-w-7xl lg:px-8",children:Object(m.jsxs)("div",{className:"lg:grid lg:grid-rows-1 lg:grid-cols-7 lg:gap-x-8 lg:gap-y-10 xl:gap-x-16",children:[Object(m.jsx)("div",{className:"lg:row-end-1 lg:col-span-4",children:Object(m.jsx)("div",{className:"animate-pulse  aspect-w-1 aspect-h-1 rounded-lg bg-gray-100 overflow-hidden"})}),Object(m.jsxs)("div",{className:"max-w-2xl mx-auto mt-14 sm:mt-16 lg:max-w-none lg:mt-0 lg:row-end-2 lg:row-span-2 lg:col-span-4",children:[Object(m.jsx)("div",{className:"flex flex-col-reverse",children:Object(m.jsxs)("div",{className:"mt-2",children:[Object(m.jsx)("div",{"data-placeholder":!0,className:"animate-pulse  mb-2 h-4 w-40 overflow-hidden bg-gray-200"}),Object(m.jsx)("div",{"data-placeholder":!0,className:"animate-pulse mb-3 mt-2 h-8 w-36 overflow-hidden bg-gray-200"}),Object(m.jsx)("div",{"data-placeholder":!0,className:"animate-pulse mb-2 h-4 w-40 overflow-hidden bg-gray-200"})]})}),Object(m.jsx)("div",{"data-placeholder":!0,className:"animate-pulse mb-2 mt-5 h-5 w-40 overflow-hidden bg-gray-200"}),Object(m.jsx)("div",{"data-placeholder":!0,className:"animate-pulse mb-2 h-10 w-28 overflow-hidden bg-gray-200"}),Object(m.jsxs)("div",{className:"flex flex-row",children:[Object(m.jsx)("div",{"data-placeholder":!0,className:"animate-pulse mb-2 mt-5 h-12 w-60 overflow-hidden bg-gray-200 rounded-md"}),Object(m.jsx)("div",{"data-placeholder":!0,className:"animate-pulse ml-5 mb-2 mt-5 h-12 w-60 overflow-hidden bg-gray-200 rounded-md"})]}),Object(m.jsx)("div",{"data-placeholder":!0,className:"animate-pulse  mb-2 mt-8 border-b w-full overflow-hidden bg-gray-200 rounded-md"}),Object(m.jsx)("div",{className:"flex flex-wrap mt-8",children:[1,2,3,4,5,6,7,8].map((function(){return Object(m.jsx)("div",{"data-placeholder":!0,className:"animate-pulse bg-gray-200 h-16 rounded-lg pointer-events-none p-2 m-1 w-36"})}))})]})]})})]})}function cn(e){var t=e.onClick,n=e.disabled,s=e.title,r=e.size,i=void 0===r?"small":r,a=e.className;return Object(m.jsx)("button",{type:"button",onClick:t,disabled:n,className:g("w-full border border-transparent rounded-md items-center justify-center text-base font-medium text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-50 focus:ring-indigo-500 nightwind-prevent","medium"===i?"py-3 px-8":"py-2 px-2",n?"bg-indigo-200 hover:bg-indigo-200 ":"bg-indigo-600 hover:bg-indigo-700 ",a),children:s})}function on(e){return Object(m.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[Object(m.jsx)("dt",{className:"font-medium text-gray-900",children:e.title}),Object(m.jsx)("dd",{className:"prose prose-sm max-w-none text-gray-500",children:e.lintToExplorer?Object(m.jsx)("a",{href:"https://explorer.solana.com/address/"+e.value,target:"_blank",rel:"noreferrer",children:Object(m.jsx)("p",{children:e.value})}):Object(m.jsx)("p",{children:e.value})})]})}function ln(e){if(e.src.startsWith("https://cdn.alpha.art/opt/")){var t=e.src.split("/"),n=t.slice(0,t.length-1);return Object(m.jsxs)("picture",{children:[Object(m.jsx)("source",{type:"image/webp",srcSet:[[].concat(Object(l.a)(n),["60.webp"]).join("/"),[].concat(Object(l.a)(n),["120.webp 2x"]).join("/")].join(", ")}),Object(m.jsx)("img",{loading:"lazy",src:[].concat(Object(l.a)(n),["60.png"]).join("/"),srcSet:[[].concat(Object(l.a)(n),["60.png"]).join("/"),[].concat(Object(l.a)(n),["120.png 2x"]).join("/")].join(", "),alt:e.alt,className:"w-full h-full object-center object-cover group-hover:opacity-60 "})]})}return Object(m.jsx)("img",{loading:"lazy",src:e.src,alt:e.alt,className:"w-full h-full object-center object-cover group-hover:opacity-60 "})}function dn(e){return Object(m.jsxs)("div",{className:"flex flex-1 has-tooltip",children:[Object(m.jsx)(E,{text:"Offered NFTs",className:"-mt-10"}),e.tokens.map((function(e){return Object(m.jsx)("div",{className:"bg-gray-200 rounded-2xl overflow-hidden w-8 h-8 max-h-8 mr-1",children:Object(m.jsx)(ln,{src:e.image,alt:""})})}))]})}function un(e){var t,n,s,r,i,a,c,o,l,d,u,b,f,j,h,x,p,v,y,O,w,k,N=e.nft,S=null!==(t=null===(n=e.nft.token)||void 0===n||null===(s=n.metadata)||void 0===s||null===(r=s.properties)||void 0===r||null===(i=r.files)||void 0===i?void 0:i.filter((function(e){var t;return null===(t=e.type)||void 0===t?void 0:t.startsWith("video/")})))&&void 0!==t?t:[],C=null!==(a=null===(c=e.nft.token)||void 0===c||null===(o=c.metadata)||void 0===o||null===(l=o.properties)||void 0===l||null===(d=l.files)||void 0===d?void 0:d.filter((function(e){return"text/html"===e.type})))&&void 0!==a?a:[];return C.length>=1?Object(m.jsx)("div",{className:g("aspect-w-1 aspect-h-1 rounded-lg bg-gray-100 overflow-hidden"),children:Object(m.jsx)("iframe",{src:C[0].uri,title:"HTML content",sandbox:"allow-scripts",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",frameBorder:0})}):(null===S||void 0===S?void 0:S.length)>=1?Object(m.jsx)("div",{className:g("aspect-w-1 aspect-h-1 rounded-lg bg-gray-100 overflow-hidden"),children:Object(m.jsx)("video",{src:S[0].uri,muted:!0,autoPlay:!0,controls:!0,loop:!0})}):Object(m.jsx)("div",{className:g(lt.includes(null===(u=N.collection)||void 0===u?void 0:u.slug)?"aspect-w-3 aspect-h-1 rounded-lg bg-gray-100 overflow-hidden":"aspect-w-1 aspect-h-1 rounded-lg bg-gray-100 overflow-hidden"),children:lt.includes(null===(b=N.collection)||void 0===b?void 0:b.slug)||"string"!==typeof(null===(f=N.token)||void 0===f?void 0:f.optimizedImage)?Object(m.jsx)("img",{src:null===(y=N.token)||void 0===y?void 0:y.image,alt:null===(O=N.token)||void 0===O||null===(w=O.metadata)||void 0===w?void 0:w.description,className:dt.includes(null===(k=N.collection)||void 0===k?void 0:k.slug)?"object-center object-contain w-full h-full":"object-center object-cover w-full h-full"}):Object(m.jsxs)("picture",{children:[Object(m.jsx)("source",{type:"image/webp",srcSet:null===(j=N.token)||void 0===j?void 0:j.optimizedImage.replace("original.png","original.webp")}),Object(m.jsx)("img",{src:null===(h=N.token)||void 0===h?void 0:h.optimizedImage,alt:null===(x=N.token)||void 0===x||null===(p=x.metadata)||void 0===p?void 0:p.description,className:dt.includes(null===(v=N.collection)||void 0===v?void 0:v.slug)?"object-center object-contain w-full h-full":"object-center object-cover w-full h-full"})]})})}function bn(e){var t,n=Object(p.d)((function(e){return{wallet:e.wallet}})).wallet,s=r.a.useState([]),i=Object(o.a)(s,2),a=i[0],c=i[1],l=r.a.useState([]),d=Object(o.a)(l,2),f=d[0],j=d[1],h=e.offer,x=e.showActions,v=h.offer.initializerPubkey.toBase58(),y=h.offer.isNFTOffer;return r.a.useEffect((function(){y&&Object(O.h)(void 0,e.offer.offer.tokens.map((function(e){return e.toBase58()})),!0).then((function(e){var t,n;j(null!==(t=e.collections)&&void 0!==t?t:[]),c(null!==(n=e.tokens)&&void 0!==n?n:[])})).catch((function(e){console.error(e)}))}),[y,e.offer.pubkey.toBase58()]),Object(m.jsxs)("tr",{className:"flex flex-1",children:[Object(m.jsxs)("td",{className:"py-6 pr-8 px-4 flex-1 flex items-center justify-center",children:[!y&&Object(m.jsxs)("p",{children:["\u25ce ",u(Number(h.offer.price))]}),y&&Object(m.jsx)(dn,{tokens:a})]}),Object(m.jsxs)("td",{className:"has-tooltip py-6 pr-8 p-4 sm:flex items-center justify-center",children:[Object(m.jsx)(E,{text:Object(ft.default)(h.expiresAt,"d MMMM yyyy HH:mm"),className:"-mt-16"}),Object(m.jsx)("p",{children:h.isExpired?"Expired":Object(Rt.a)(h.expiresAt)})]}),Object(m.jsx)("td",{className:g("py-6 font-medium text-right whitespace-nowrap p-4 text-indigo-500 flex-1 flex items-center",x?"justify-center":"justify-end"),style:{flex:3},children:Object(m.jsx)(b.b,{to:"/user/"+v,children:Object(m.jsx)(Ae,{pubkey:v})})}),x&&v===(null===n||void 0===n||null===(t=n.publicKey)||void 0===t?void 0:t.toBase58())?Object(m.jsx)("td",{className:"py-6 pr-1 font-medium text-right whitespace-nowrap flex-1 flex items-center justify-end mr-3",children:Object(m.jsx)(cn,{title:"Cancel",size:"small",onClick:function(){e.setCancelOffer(h)}})}):x&&e.isOwner&&Object(m.jsx)("td",{className:"py-6 pr-1 font-medium text-right whitespace-nowrap flex-1 flex items-center justify-end mr-3",children:Object(m.jsx)(cn,{title:y?"View":"Accept",size:"small",onClick:function(){var t;y?null===(t=e.viewNFTOffer)||void 0===t||t.call(e,{offer:h.offer,pubkey:h.pubkey,tokens:a,collections:f}):e.setAcceptOffer(h)}})})]})}function mn(e){var t,n,s,i=e.nft,a=e.isOwner,l=Object(p.d)((function(e){var t;return{wallet:e.wallet,nftOffers:e.nftOffers[null===(t=i.token)||void 0===t?void 0:t.mintPubkey]}})),d=l.wallet,u=l.nftOffers,b=r.a.useState([]),f=Object(o.a)(b,2),j=f[0],h=f[1],v=r.a.useState(void 0),y=Object(o.a)(v,2),O=y[0],w=y[1],k=r.a.useState(void 0),N=Object(o.a)(k,2),C=N[0],T=N[1],I=r.a.useState(void 0),A=Object(o.a)(I,2),P=A[0],F=A[1],E=r.a.useState(a),W=Object(o.a)(E,2),L=W[0],B=W[1];return r.a.useEffect((function(){var e;oe(null===(e=i.token)||void 0===e?void 0:e.mintPubkey)}),[null===(t=i.token)||void 0===t?void 0:t.mintPubkey]),r.a.useEffect((function(){if(u){var e=Date.now()/1e3;h(u.map((function(t){var n=Number(t.offer.expiresAt.toString(10)),s=new Date(1e3*n);return Object(c.a)(Object(c.a)({},t),{},{expiresAt:s,isExpired:n<e})})).sort((function(e,t){return Number(t.offer.price)-Number(e.offer.price)})))}}),[u]),r.a.useEffect((function(){var e;if(a)B(!0);else{var t,n=!1,s=null===d||void 0===d||null===(e=d.publicKey)||void 0===e?void 0:e.toBase58(),r=Object(x.a)(j);try{for(r.s();!(t=r.n()).done;){var i=t.value;s&&i.offer.initializerPubkey.toBase58()===s&&(n=!0)}}catch(c){r.e(c)}finally{r.f()}B(n)}}),[a,j,null===d||void 0===d?void 0:d.publicKey]),Object(m.jsxs)("div",{className:"border-t border-gray-200 mt-10 pt-10",children:[Object(m.jsxs)("div",{className:"border border-gray-300 rounded-tl-md rounded-md",children:[Object(m.jsxs)("div",{className:"flex p-4 border-b border-gray-300",children:[Object(m.jsx)(S.e,{className:"flex-shrink-0 mr-1 h-5 w-5 text-gray-700 "}),Object(m.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:"Offers"})]}),!j.length&&Object(m.jsxs)("div",{className:"flex flex-col items-center justify-center h-44",children:[Object(m.jsx)(S.e,{className:"flex-shrink-0 mr-1 h-9 w-9 mb-2 text-gray-400 "}),Object(m.jsx)("span",{children:"No offers yet"})]}),!!j.length&&Object(m.jsx)("div",{children:Object(m.jsxs)("table",{className:"w-full text-gray-500 flex flex-col",children:[Object(m.jsx)("caption",{className:"sr-only",children:"Offers"}),Object(m.jsxs)("thead",{className:"sr-only text-sm text-gray-500 text-left sm:not-sr-only flex flex-1",children:[Object(m.jsx)("th",{scope:"col",className:"font-normal sm:table-cell p-4 flex-1",children:"Price/NFTs"}),Object(m.jsx)("th",{scope:"col",className:"font-normal sm:table-cell p-4 flex-1",children:"Expiration"}),Object(m.jsx)("th",{scope:"col",className:g("font-normal p-4 flex-1",L?"text-center":"text-right"),style:{flex:3},children:"From"}),L&&Object(m.jsx)("th",{scope:"col",className:"font-normal text-right p-4 flex-1",children:"Actions"})]}),Object(m.jsx)("tbody",{className:"border-b border-gray-200 divide-y text-sm sm:border-t w-full flex flex-col max-h-48 overflow-y-scroll",children:j.map((function(t){return Object(m.jsx)(bn,{isOwner:e.isOwner,offer:t,setAcceptOffer:T,setCancelOffer:w,showActions:L,viewNFTOffer:F},t.pubkey.toBase58())}))})]})})]}),"undefined"!==typeof O&&Object(m.jsx)(tn,{offer:O.offer,nftPubKey:i.token.mintPubkey,isOpen:"undefined"!==typeof O,offerAccount:O.pubkey,lamports:Number(O.offer.price),onClose:function(){return w(void 0)}}),"undefined"!==typeof C&&Object(m.jsx)(nn,{nft:i,nftPubKey:i.token.mintPubkey,isOpen:"undefined"!==typeof C,offer:C,escrowAccount:null===(n=e.escrow)||void 0===n?void 0:n.pubkey,onClose:function(){return T(void 0)}}),"undefined"!==typeof P&&Object(m.jsx)(sn,{nft:i,nftPubKey:i.token.mintPubkey,isOpen:"undefined"!==typeof P,data:P,escrowAccount:null===(s=e.escrow)||void 0===s?void 0:s.pubkey,onClose:function(){return F(void 0)}})]})}function fn(e){var t,n,s,r=null===(t=e.collectionMeta)||void 0===t||null===(n=t.traits)||void 0===n||null===(s=n.find((function(t){return t.key===e.trait.trait_type&&t.numbers})))||void 0===s?void 0:s.numbers;if(r&&r.length>0){var i,a,c,o,l,d=(null!==(i=null===(a=r.find((function(t){return t.value===e.trait.value})))||void 0===a?void 0:a.amount)&&void 0!==i?i:0)/(null!==(c=null===(o=e.collectionMeta)||void 0===o||null===(l=o.collection)||void 0===l?void 0:l.totalItems)&&void 0!==c?c:1);if(d>0)return Object(m.jsxs)("p",{className:"mt-1 text-sm text-gray-600",children:[Math.round(100*d*10)/10,"%"]})}return null}function jn(e){var t,n,s,r,i,a=null!==(t=null===(n=e.nft.token)||void 0===n||null===(s=n.metadata)||void 0===s||null===(r=s.properties)||void 0===r||null===(i=r.files)||void 0===i?void 0:i.filter((function(e){var t;return null===(t=e.type)||void 0===t?void 0:t.startsWith("image/")})))&&void 0!==t?t:[];return(null===a||void 0===a?void 0:a.length)<2?null:Object(m.jsxs)("div",{className:"border-t border-gray-200 mt-8 pt-4 overflow-y-scroll",children:[Object(m.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:"All Files"}),Object(m.jsx)("div",{className:"flex max-h-36",children:a.map((function(e){return Object(m.jsx)("img",{src:e.uri,alt:"",className:"object-center object-contain h-full max-h-32 mr-2 my-2 rounded-lg"},e.uri)}))})]})}function hn(e){var t,n,s,r,i,a=e.nft,c=w(null!==(t=null===a||void 0===a||null===(n=a.collection)||void 0===n?void 0:n.slug)&&void 0!==t?t:""),l=Object(o.a)(c,2),d=l[0];l[1];return Object(m.jsx)("div",{className:"border-t border-gray-200 mt-10 pt-10",children:Object(m.jsx)("div",{className:"flex flex-wrap",children:null===(s=a.token)||void 0===s||null===(r=s.metadata)||void 0===r||null===(i=r.attributes)||void 0===i?void 0:i.map((function(e){var t,n,s=!!(null===d||void 0===d||null===(t=d.traits)||void 0===t?void 0:t.find((function(t){return t.key===e.trait_type}))),r=Object(m.jsxs)("div",{className:"border border-gray-500 rounded-lg pointer-events-none p-2 m-1 w-36","aria-hidden":"true",children:[Object(m.jsx)("p",{className:"text-base font-medium text-gray-900",children:e.trait_type}),Object(m.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:e.value}),Object(m.jsx)(fn,{trait:e,collectionMeta:d})]},e.trait_type);return s?Object(m.jsx)(b.b,{to:"/collection/".concat(null===a||void 0===a||null===(n=a.collection)||void 0===n?void 0:n.slug,"?").concat(encodeURIComponent(e.trait_type),"=").concat(encodeURIComponent(e.value),"&Status=-BUY_NOW"),children:r},"link_"+e.trait_type):r}))})})}function xn(e){var t,n,s,i,a,c,o,l,d=e.nft;return Object(m.jsx)("div",{className:"w-full max-w-2xl mx-auto mt-16 mb-8 lg:max-w-none lg:mt-0 lg:col-span-4",children:Object(m.jsxs)(Nt.a.Group,{as:"div",children:[Object(m.jsx)("div",{className:"border-b border-gray-200 mb-3",children:Object(m.jsxs)(Nt.a.List,{className:"-mb-px flex space-x-8",children:[Object(m.jsxs)(Nt.a,{className:function(e){return g(e.selected?"border-indigo-600 text-indigo-600":"border-transparent text-gray-700 hover:text-gray-800 hover:border-gray-300","whitespace-nowrap py-6 border-b-2 font-medium text-sm")},children:["About ",null===(t=d.collection)||void 0===t?void 0:t.title]}),Object(m.jsx)(Nt.a,{className:function(e){return g(e.selected?"border-indigo-600 text-indigo-600":"border-transparent text-gray-700 hover:text-gray-800 hover:border-gray-300","whitespace-nowrap py-6 border-b-2 font-medium text-sm")},children:"Account Details"})]})}),Object(m.jsxs)(Nt.a.Panels,{as:r.a.Fragment,children:[Object(m.jsxs)(Nt.a.Panel,{className:"pt-2",children:[Object(m.jsx)("h3",{className:"sr-only",children:"License"}),Object(m.jsx)("p",{className:"text-base text-gray-800 -mt-3",children:null===(n=d.collection)||void 0===n?void 0:n.description}),Object(m.jsx)(Pt,{links:null===(s=d.collection)||void 0===s?void 0:s.links,name:null===(i=d.token)||void 0===i||null===(a=i.metadata)||void 0===a?void 0:a.name})]}),Object(m.jsxs)(Nt.a.Panel,{as:"dl",className:"text-sm text-gray-500",children:[Object(m.jsx)("h3",{className:"sr-only",children:"Frequently Asked Questions"}),Object(m.jsx)(on,{title:"Update Authority",value:null===(c=d.collection)||void 0===c?void 0:c.authorityPubkey,lintToExplorer:!0}),Object(m.jsx)(on,{title:"Token Address",value:null===(o=d.token)||void 0===o?void 0:o.mintPubkey,lintToExplorer:!0}),Object(m.jsx)(on,{title:"Collection",value:null===(l=d.collection)||void 0===l?void 0:l.title})]})]})]})})}function pn(e){var t,n,s,i,a,c,l,d,u,b,f=e.nft,j=e.isOwner,h=r.a.useState("none"),x=Object(o.a)(h,2),p=x[0],v=x[1];return j?Object(m.jsxs)("div",{className:"mt-6 grid grid-cols-1 gap-x-6 gap-y-4 sm:grid-cols-2 nightwind-prevent-block",children:[e.escrow?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("button",{type:"button",disabled:e.disabled,onClick:function(){return v("unlist")},className:"w-full bg-indigo-600 border border-transparent rounded-md py-3 px-8 flex items-center justify-center text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-50 focus:ring-indigo-500",children:"Delist"}),Object(m.jsx)("button",{type:"button",disabled:e.disabled,onClick:function(){return v("update")},className:"w-full bg-indigo-600 border border-transparent rounded-md py-3 px-8 flex items-center justify-center text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-50 focus:ring-indigo-500",children:"Update Price"})]}):Object(m.jsx)("button",{disabled:e.disabled||!(null===(t=e.nft.collection)||void 0===t?void 0:t.verified),type:"button",onClick:function(){return v("sell")},className:"w-full bg-indigo-600 border border-transparent rounded-md py-3 px-8 flex items-center justify-center text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-50 focus:ring-indigo-500",children:"Sell"}),"sell"===p&&Object(m.jsx)(Dt,{isOwner:j,nft:f,isOpen:"sell"===p,onClose:function(){return v("none")},refetch:e.refetch}),"unlist"===p&&Object(m.jsx)(Mt,{nft:f,escrowAccount:null===(n=e.escrow)||void 0===n?void 0:n.pubkey,isOpen:"unlist"===p,onClose:function(){return v("none")},refetch:e.refetch}),"update"===p&&Object(m.jsx)(rn,{nft:f,escrow:e.escrow,isOpen:"update"===p,onClose:function(){return v("none")},refetch:e.refetch})]}):Object(m.jsxs)("div",{className:"mt-6 grid grid-cols-1 gap-x-6 gap-y-4 sm:grid-cols-2 nightwind-prevent-block",children:[e.escrow&&Object(m.jsx)("button",{type:"button",disabled:!(null===(s=e.nft.collection)||void 0===s?void 0:s.verified),className:g("w-full border border-transparent rounded-md py-3 px-8 flex items-center justify-center text-base font-medium text-white  focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-50 focus:ring-indigo-500",(null===(i=e.nft.collection)||void 0===i?void 0:i.verified)?"bg-indigo-600 hover:bg-indigo-700":"bg-indigo-100"),onClick:function(){e.disabled?v("connect"):v("buy")},children:"Buy Now"}),Object(m.jsx)("button",{type:"button",disabled:!(null===(a=e.nft.collection)||void 0===a?void 0:a.verified),onClick:function(){e.disabled?v("connect"):v("offer")},className:g("w-full bg-indigo-50 border border-transparent rounded-md py-3 px-8 flex items-center justify-center text-base font-medium text-indigo-700 ","undefined"!==typeof f.owner?"hover:bg-indigo-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-50 focus:ring-indigo-500":"has-tooltip "),children:"Make SOL Offer"}),Object(m.jsx)("button",{type:"button",disabled:!(null===(c=e.nft.collection)||void 0===c?void 0:c.verified),onClick:function(){e.disabled?v("connect"):v("nftOffer")},className:g("w-full bg-indigo-50 border border-transparent rounded-md py-3 px-8 flex items-center justify-center text-base font-medium text-indigo-700 ","undefined"!==typeof f.owner?"hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-50 focus:ring-indigo-500":"has-tooltip "),children:"Make NFT Offer"}),("offer"===p||"nftOffer"===p)&&!0===(null===(l=e.nft.collection)||void 0===l?void 0:l.verified)&&Object(m.jsx)(en,{nft:f,defaultPage:"offer"===p?"sol":"nft",isOpen:"offer"===p||"nftOffer"===p,onClose:function(){return v("none")}}),"buy"===p&&!0===(null===(d=e.nft.collection)||void 0===d?void 0:d.verified)&&Object(m.jsx)(zt,{nft:f,escrow:null===(u=e.escrow)||void 0===u?void 0:u.escrow,escrowAccount:null===(b=e.escrow)||void 0===b?void 0:b.pubkey,isOpen:"buy"===p,priceDate:e.priceDate,onClose:function(){return v("none")},refetch:e.refetch}),Object(m.jsx)(Et,{isOpen:"connect"===p,onClose:function(){return v("none")}})]})}function gn(){var e,t,n,s,i,a,c,l,d,f,j,h,x,g,v,w,N,S,T,I,A,P,F,E=Object(k.h)().pubkey,W=Object(p.d)((function(e){return{wallet:e.wallet,userNFTs:e.userNFTs,isConnected:e.isConnected}})),L=W.wallet,B=W.userNFTs,D=W.isConnected,M=r.a.useState(void 0),z=Object(o.a)(M,2),R=z[0],U=z[1],_=r.a.useState(),K=Object(o.a)(_,2),V=K[0],q=K[1],Y=r.a.useState(!0),G=Object(o.a)(Y,2),J=G[0],Q=G[1],Z=r.a.useState(void 0),X=Object(o.a)(Z,2),$=X[0],ee=X[1],te=r.a.useState(void 0),ne=Object(o.a)(te,2),se=ne[0],re=ne[1],ie=r.a.useState(!1),ae=Object(o.a)(ie,2),ce=ae[0],oe=ae[1],le=function(e){Object(O.g)(e,(function(t){var n;(ee(t),L&&(null===L||void 0===L?void 0:L.publicKey)&&B.includes(e))?U(L.publicKey.toBase58()):U(null===(n=t.token)||void 0===n?void 0:n.currentOwner)})).then((function(t){var n=Object(o.a)(t,2),s=n[0],r=n[1];if(ee(s),re(r),r)q(new Date),U(r.escrow.initializerPubkey.toBase58());else if(L&&(null===L||void 0===L?void 0:L.publicKey)&&B.includes(e))U(L.publicKey.toBase58());else{var i;U(null===(i=s.token)||void 0===i?void 0:i.currentOwner)}Q(!1);var a=se&&!s.listing;r&&s.listing&&Number(r.escrow.price)!==Number(s.listing.price)&&(a=!0),a&&r&&(Object(H.a)("Checking price again"),Object(O.a)(r.pubkey))}))};return r.a.useEffect((function(){le(E)}),[]),r.a.useEffect((function(){if(B.includes(E))oe(!0);else if($&&se&&L){var e,t=null===(e=L.publicKey)||void 0===e?void 0:e.toBase58();oe(t===se.escrow.initializerPubkey.toBase58())}else if($&&L){var n,s,r=null===(n=L.publicKey)||void 0===n?void 0:n.toBase58();oe(r===(null===(s=$.token)||void 0===s?void 0:s.currentOwner))}}),[$,se,L,B]),$?Object(m.jsxs)("div",{className:"bg-white",children:[Object(m.jsx)(tt,{to:"string"===typeof(null===$||void 0===$||null===(e=$.collection)||void 0===e?void 0:e.slug)?"/collection/".concat(null===$||void 0===$||null===(t=$.collection)||void 0===t?void 0:t.slug):void 0}),Object(m.jsxs)(C.a,{children:[Object(m.jsxs)("title",{children:["Alpha.art |"," ",null!==(n=null!==(s=null===(i=$.token)||void 0===i||null===(a=i.metadata)||void 0===a?void 0:a.name)&&void 0!==s?s:null===(c=$.collection)||void 0===c?void 0:c.title)&&void 0!==n?n:"NFT"]}),Object(m.jsx)("meta",{property:"og:title",content:"Alpha Art | ".concat(null===(l=$.token)||void 0===l||null===(d=l.metadata)||void 0===d?void 0:d.name)}),Object(m.jsx)("meta",{property:"og:description",content:null===(f=$.collection)||void 0===f?void 0:f.description}),Object(m.jsx)("meta",{property:"og:image",content:null!==(j=null===(h=$.token)||void 0===h?void 0:h.optimizedImage)&&void 0!==j?j:null===(x=$.token)||void 0===x?void 0:x.image}),Object(m.jsx)("meta",{property:"og:url",content:"https://alpha.art/t/".concat(E)}),Object(m.jsx)("meta",{name:"twitter:title",content:"Alpha Art | ".concat(null===(g=$.token)||void 0===g||null===(v=g.metadata)||void 0===v?void 0:v.name)}),Object(m.jsx)("meta",{name:"twitter:description",content:null===(w=$.collection)||void 0===w?void 0:w.description}),Object(m.jsx)("meta",{name:"twitter:image",content:null!==(N=null===(S=$.token)||void 0===S?void 0:S.optimizedImage)&&void 0!==N?N:null===(T=$.token)||void 0===T?void 0:T.image}),Object(m.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),Object(m.jsx)("meta",{name:"twitter:site",content:"@AlphaArtMarket"})]}),Object(m.jsxs)("div",{className:"mx-auto py-16 px-4 sm:py-20 sm:px-6 lg:max-w-7xl lg:px-8",children:[Object(m.jsxs)("div",{className:"lg:grid lg:grid-rows-1 lg:grid-cols-7 lg:gap-x-8 lg:gap-y-10 xl:gap-x-16",children:[Object(m.jsx)("div",{className:"lg:row-end-1 lg:col-span-4",children:Object(m.jsx)(un,{nft:$})}),Object(m.jsxs)("div",{className:"max-w-2xl mx-auto mt-14 sm:mt-16 lg:max-w-none lg:mx-0 lg:mt-0 lg:row-end-2 lg:row-span-2 lg:col-span-4",children:[Object(m.jsxs)("div",{className:"flex flex-col-reverse",children:[Object(m.jsxs)("div",{className:"mt-2",children:[Object(m.jsx)("h1",{className:"text-2xl font-extrabold tracking-tight text-gray-900 sm:text-3xl",children:null===(I=$.token)||void 0===I||null===(A=I.metadata)||void 0===A?void 0:A.name}),Object(m.jsx)("h2",{id:"information-heading",className:"sr-only",children:"Token information"}),Object(m.jsx)(b.b,{to:"/user/"+R,children:Object(m.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:["Owned by"," ",Object(m.jsx)(Ae,{pubkey:R,user:$.owner})]})})]}),Object(m.jsx)("div",{children:Object(m.jsx)(b.b,{to:"/collection/"+(null===(P=$.collection)||void 0===P?void 0:P.slug),children:Object(m.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:null===(F=$.collection)||void 0===F?void 0:F.title})})})]}),J?Object(m.jsx)(y,{className:"mt-8"}):Object(m.jsxs)(m.Fragment,{children:[se&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("p",{className:"text-gray-600 mt-6 text-sm",children:"Current Price:"}),Object(m.jsxs)("p",{className:"text-gray-800 mt-2 text-3xl font-bold",children:["\u25ce ",u(Number(se.escrow.price))]})]}),Object(m.jsx)(pn,{nft:$,escrow:se,isOwner:ce,disabled:!L||!D,priceDate:V,refetch:function(){ee(void 0),le(E)}})]}),Object(m.jsx)(hn,{nft:$}),Object(m.jsx)(mn,{nft:$,isOwner:ce,escrow:se})]}),Object(m.jsx)(xn,{nft:$})]}),Object(m.jsx)(jn,{nft:$}),Object(m.jsx)("div",{className:"border-t border-gray-200 mt-16 pt-10",style:{maxHeight:"calc(100vh - 140px)"},children:Object(m.jsx)(wt,{resourceType:"TOKEN",id:E})})]})]}):Object(m.jsx)(an,{})}function vn(e){var t=e.title,n=e.isLoading,s=e.showCancelOffer,i=e.hideIfEmpty,a=e.tokens,l=e.collections,d=e.showField,u=r.a.useState(void 0),f=Object(o.a)(u,2),j=f[0],x=f[1];return a.length>0?l?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h2",{className:"text-2xl text-left mb-8",children:t}),"undefined"!==typeof j&&Object(m.jsx)(tn,{offer:j.offer,nftPubKey:j.offer.mintId.toBase58(),isOpen:"undefined"!==typeof j,offerAccount:j.pubkey,lamports:Number(j.offer.price),onClose:function(){return x(void 0)}}),l.map((function(t){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(b.b,{to:"/collection/"+t.slug,children:Object(m.jsxs)("div",{className:"flex mt-12 items-center mb-4",children:[Object(m.jsx)("div",{className:"rounded-full overflow-hidden mr-4",children:Object(m.jsx)(pt,{src:t.thumbnail})}),Object(m.jsx)("h3",{className:"text-xl text-left",children:t.title})]})}),Object(m.jsx)("div",{className:"w-full border-b mb-4"}),Object(m.jsx)("div",{className:"grid grid-cols-1 gap-y-10 sm:grid-cols-2 gap-x-6 md:grid-cols-3 xl:grid-cols-4 xl:gap-x-8",children:e.tokens.filter((function(e){return e.collectionId===t.id})).map((function(t){return s?Object(m.jsxs)("div",{children:[Object(m.jsx)(h,Object(c.a)(Object(c.a)({},t),{},{showField:d}),t.mintId),Object(m.jsx)(cn,{title:"Cancel Offer",size:"small",className:"py-1 px-1 mt-1",onClick:function(){!function(t){var n,s=null===(n=e.offers)||void 0===n?void 0:n.find((function(e){return e.offer.mintId.toBase58()===t.mintId}));x(s)}(t)}})]}):Object(m.jsx)(h,Object(c.a)(Object(c.a)({},t),{},{showField:d}),t.mintId)}))})]})}))]}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h2",{className:"text-2xl text-left mb-8",children:t}),Object(m.jsx)("div",{className:"grid grid-cols-1 gap-y-10 sm:grid-cols-2 gap-x-6 md:grid-cols-3 xl:grid-cols-4 xl:gap-x-8",children:e.tokens.map((function(e){return Object(m.jsx)(h,Object(c.a)(Object(c.a)({},e),{},{showField:d}),e.mintId)}))})]}):n?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h2",{className:"text-2xl text-left mb-8",children:t}),Object(m.jsx)("div",{className:"w-full flex items-center justify-center",children:Object(m.jsx)(y,{size:96})})]}):!0===i?null:Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h2",{className:"text-2xl text-left mb-4",children:t}),Object(m.jsx)("div",{className:"grid grid-cols-1 gap-y-10 sm:grid-cols-2 gap-x-6 md:grid-cols-3 xl:grid-cols-4 xl:gap-x-8",children:Object(m.jsx)("p",{className:"text-base text-left mb-4 mt-4",children:e.emptyText})})]})}function yn(e,t){var n=e.get(t);return"on"===n||"true"===n}function On(e,t){return Math.round(Number(e.get(t))*d.c)||0}function wn(e){var t,n=e.user,r=Object(s.useState)(!1),i=Object(o.a)(r,2),a=i[0],c=i[1],l=(null===n||void 0===n?void 0:n.annotations)?n:void 0,f=Object(p.d)((function(e){return{floorPrices:e.floorPrices,hasUser:e.hasUser}})),j=f.floorPrices,h=f.hasUser;return Object(s.useEffect)((function(){e.collections.forEach((function(e){j[e.id]||J(e.id)}))}),[]),"unknown"===h?null:n?Object(m.jsxs)("div",{children:[!l&&Object(m.jsxs)("div",{className:"pb-8",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900 ",children:"Update Account Settings"}),Object(m.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Verify your wallet in order to update your settings."})]}),Object(m.jsx)("button",{type:"button",onClick:function(){Object(O.j)(e.publicKey).then((function(e){var t;null===p.b||void 0===p.b||null===(t=p.b.dispatch)||void 0===t||t.call(p.b,{type:"SetUser",user:e})})).catch((function(e){console.error(e)}))},className:"mt-4 flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:bg-indigo-600 dark:text-white dark:hover:bg-indigo-700 ",children:"Enable Edit"})]}),Object(m.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n=new FormData(t.target),s=n.get("email")||void 0,r=n.get("username")||void 0,i=l.notifications||{};i.disableItemsSold=!yn(n,"disableItemsSold"),i.disableNewOffers=!yn(n,"disableNewOffers"),i.disableOfferAccepted=!yn(n,"disableOfferAccepted"),i.disableFeaturedCollections=!yn(n,"disableFeaturedCollections"),i.disableNewCollection=!yn(n,"disableNewCollection");var a,c=Math.round(Number(n.get("offer_threshold"))*d.c)||0,o=(null===l||void 0===l?void 0:l.minimumCollectionOffers)||{},u=Object(x.a)(n.keys());try{for(u.s();!(a=u.n()).done;){var b=a.value;if(b.startsWith("offer_price_")){var m=On(n,b);o[b.substring("offer_price_".length)]=m}}}catch(f){u.e(f)}finally{u.f()}(null===r||void 0===r?void 0:r.includes("@"))?Object(H.a)("You can't use @ in your username",void 0,"error"):Object(O.w)(e.publicKey,{email:s,username:r,notifications:i,minimumOffer:c,minimumCollectionOffers:o}).then((function(e){var t;null===p.b||void 0===p.b||null===(t=p.b.dispatch)||void 0===t||t.call(p.b,{type:"SetUser",user:e}),Object(H.a)("Profile updated succesfully")})).catch((function(e){Object(H.a)("Error",e.message,"error")}))},action:"POST",className:g("space-y-8 divide-y divide-gray-200",l?"":"opacity-25 pointer-events-none"),children:[Object(m.jsxs)("div",{className:"space-y-8 divide-y divide-gray-200",children:[Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900 ",children:"Profile"}),Object(m.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"This information will be displayed publicly so be careful what you share."})]}),Object(m.jsx)("div",{className:"mt-6 grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:Object(m.jsxs)("div",{className:"sm:col-span-4",children:[Object(m.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Username"}),Object(m.jsx)("div",{className:"mt-1 flex rounded-md shadow-sm",children:Object(m.jsx)("input",{type:"text",name:"username",id:"username",autoComplete:"username",defaultValue:null===n||void 0===n?void 0:n.username,className:"form-input flex-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full min-w-0 rounded-md sm:text-sm border-gray-300"})})]})})]}),Object(m.jsxs)("div",{className:"pt-8",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Notifications"}),Object(m.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"We'll always let you know about important changes, but you pick what else you want to hear about."})]}),Object(m.jsxs)("div",{className:"mt-6 grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[Object(m.jsxs)("div",{className:"sm:col-span-4",children:[Object(m.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),Object(m.jsx)("div",{className:"mt-1 flex flex-row",children:Object(m.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",placeholder:"?????",defaultValue:null===l||void 0===l?void 0:l.email,className:"form-input appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},"email-"+(null===l||void 0===l?void 0:l.email))}),Object(m.jsxs)("b",{className:"text-xs",children:[" ","Your email address won't be shared with any third party."]})]}),Object(m.jsx)("div",{className:"sm:col-span-4",children:Object(m.jsx)("fieldset",{children:Object(m.jsxs)("div",{className:"mt-4 space-y-4",children:[Object(m.jsxs)("div",{className:"relative flex items-start",children:[Object(m.jsx)("div",{className:"flex items-center h-5",children:Object(m.jsx)(kn,{fullUser:l,field:"disableItemsSold"})}),Object(m.jsxs)("div",{className:"ml-3 text-sm",children:[Object(m.jsx)("label",{htmlFor:"candidates",className:"font-medium text-gray-700",children:"Item Sold"}),Object(m.jsx)("p",{className:"text-gray-500",children:"Get notified when you sold an NFT."})]})]}),Object(m.jsxs)("div",{className:"relative flex items-start",children:[Object(m.jsx)("div",{className:"flex items-center h-5",children:Object(m.jsx)(kn,{fullUser:l,field:"disableOfferAccepted"})}),Object(m.jsxs)("div",{className:"ml-3 text-sm",children:[Object(m.jsx)("label",{htmlFor:"candidates",className:"font-medium text-gray-700",children:"Offer Accepted"}),Object(m.jsx)("p",{className:"text-gray-500",children:"Get notified when your offer is accepted by the NFT owner."})]})]}),Object(m.jsxs)("div",{className:"relative flex items-start",children:[Object(m.jsx)("div",{className:"flex items-center h-5",children:Object(m.jsx)(kn,{fullUser:l,field:"disableNewOffers"})}),Object(m.jsxs)("div",{className:"ml-3 text-sm",children:[Object(m.jsx)("label",{htmlFor:"comments",className:"font-medium text-gray-700",children:"New Offers"}),Object(m.jsx)("p",{className:"text-gray-500",children:"Get notified when someones make an offer for your NFTs."})]})]}),Object(m.jsxs)("div",{className:"relative flex items-start",children:[Object(m.jsx)("div",{className:"flex items-center h-5",children:Object(m.jsx)(kn,{fullUser:l,field:"disableNewCollection"})}),Object(m.jsxs)("div",{className:"ml-3 text-sm",children:[Object(m.jsx)("label",{htmlFor:"comments",className:"font-medium text-gray-700",children:"Collection Available"}),Object(m.jsx)("p",{className:"text-gray-500",children:"Get notified when a collection which you have an NFT from becomes available on Alpha.art."})]})]}),Object(m.jsxs)("div",{className:"relative flex items-start",children:[Object(m.jsx)("div",{className:"flex items-center h-5",children:Object(m.jsx)(kn,{fullUser:l,field:"disableFeaturedCollections"})}),Object(m.jsxs)("div",{className:"ml-3 text-sm",children:[Object(m.jsx)("label",{htmlFor:"comments",className:"font-medium text-gray-700",children:"Featured Collections"}),Object(m.jsx)("p",{className:"text-gray-500",children:"Get occasional updates about featured collections."})]})]}),Object(m.jsxs)("div",{className:"sm:col-span-4",children:[Object(m.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Minimum Offer Threshold"}),Object(m.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Receive notifications only when you receive offers with a value grater than or equal to this amount of SOL"}),Object(m.jsx)(Nn,{fullUser:l,field:"offer_threshold",fullWidth:!0})]})]})})})]})]}),Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"mt-8",children:[Object(m.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900 ",children:"Minimum Offer Settings"}),Object(m.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Set a minimum offer for collections to ignore low offers."})]}),Object(m.jsx)("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:Object(m.jsxs)("div",{className:"flex flex-col sm:col-span-4 mt-2",children:[null===(t=e.collections)||void 0===t?void 0:t.map((function(e){return Object(m.jsxs)("div",{className:"flex mt-2 items-center mb-4",children:[Object(m.jsx)("div",{className:"flex flex-1 items-start",children:Object(m.jsx)(b.b,{to:"/collection/".concat(e.slug),children:Object(m.jsxs)("div",{className:"flex mt-2 items-center mb-4",children:[Object(m.jsx)("div",{className:"rounded-full overflow-hidden mr-4",children:Object(m.jsx)(pt,{src:e.thumbnail})}),Object(m.jsxs)("div",{children:[Object(m.jsx)("h3",{className:"text-md text-left flex-1",children:e.title}),j[e.id]&&Object(m.jsxs)("span",{className:"text-xs",children:["Floor Price:","\u25ce"+u(j[e.id])]})]})]})})}),Object(m.jsx)(Nn,{fullUser:l,field:e.slug})]})})),0===e.collections.length&&Object(m.jsx)("p",{className:"mt-1 text-sm",children:"When you own NFTs, collections will appear here."})]})})]})]}),Object(m.jsx)("div",{className:"pt-5",children:Object(m.jsxs)("div",{className:"flex justify-end",children:[Object(m.jsx)("button",{type:"button",className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"}),Object(m.jsx)("button",{type:"submit",className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 dark:bg-indigo-600 dark:text-white dark:hover:bg-indigo-700 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Save"})]})})]})]}):Object(m.jsxs)("div",{className:"pb-8",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{className:"mt-6 text-lg font-extrabold text-gray-900",children:"Don't miss the offers!"}),Object(m.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Register now to receive offers and trade email notifications."})]}),Object(m.jsx)("button",{type:"button",onClick:function(){return c(!0)},className:"mt-4 flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:bg-indigo-600 dark:text-white dark:hover:bg-indigo-700 ",children:"Register"}),Object(m.jsx)(Ee,{publicKey:e.publicKey||"",user:n,isOpen:a,mode:"register",onClose:function(){return c(!1)},onRegistered:function(e){var t,n;null===(t=p.b.dispatch)||void 0===t||t.call(p.b,{type:"SetUser",user:e}),null===(n=p.b.dispatch)||void 0===n||n.call(p.b,{type:"SetHasUser",hasUser:"yes"}),c(!1)}})]})}function kn(e){var t,n=e.fullUser,s=e.field;return Object(m.jsx)("input",{name:s,type:"checkbox",defaultChecked:!(null===n||void 0===n||null===(t=n.notifications)||void 0===t?void 0:t[s]),className:"form-checkbox focus:ring-indigo-500 h-4 w-4 text-indigo-600 dark:text-indigo-600 border-gray-300 rounded"},JSON.stringify(n)+"-"+s)}function Nn(e){var t,n=e.fullUser,s=e.field,r=e.fullWidth,i="offer_threshold"===s?null===n||void 0===n?void 0:n.minimumOffer:null===n||void 0===n||null===(t=n.minimumCollectionOffers)||void 0===t?void 0:t[s],a="offer_threshold"===s?s:"offer_price_"+s;return Object(m.jsxs)("div",{className:"mt-1 relative rounded-md shadow-sm",children:[Object(m.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:Object(m.jsx)("span",{className:"text-gray-500 sm:text-base",children:"\u25ce"})}),Object(m.jsx)("input",{type:"number",name:a,id:a,className:g("form-input h-12 focus:ring-indigo-500 focus:border-indigo-500 block  pl-8 pr-16 sm:text-xl border-gray-300 rounded-md",r?"w-full":"w-64"),placeholder:"0.00",min:0,step:.001,"aria-describedby":"price-currency",defaultValue:Number(i||0)/d.c},JSON.stringify(n)+"-"+a),Object(m.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:Object(m.jsx)("span",{className:"text-gray-500 sm:text-sm",id:"price-currency",children:"SOL"})})]})}var Sn=function(e,t){return(Number(t.price)||0)-(Number(e.price)||0)},Cn=[{key:"nfts",title:"NFTs"},{key:"offersMade",title:function(e){return e?"My Offers":"Offers Made"}},{key:"offersReceived",title:"Received Offers"},{key:"history",title:"Activity"},{key:"settings",title:"Settings"}];function Tn(){var e,t=Object(k.h)().pubkey,n=Object(p.d)((function(e){return{wallet:e.wallet,user:e.user}})),i=n.wallet,a=n.user,c=Jt(t),d=c.userNFTS,u=c.escrowAccounts,b=c.offerAccounts,f=c.ready,j=r.a.useState([]),h=Object(o.a)(j,2),v=h[0],y=h[1],w=r.a.useState([]),T=Object(o.a)(w,2),I=T[0],A=T[1],P=r.a.useState([]),F=Object(o.a)(P,2),E=F[0],W=F[1],L=r.a.useState([]),B=Object(o.a)(L,2),D=B[0],M=B[1],R=r.a.useState(!0),U=Object(o.a)(R,2),_=U[0],K=U[1],V=t===(null===i||void 0===i||null===(e=i.publicKey)||void 0===e?void 0:e.toBase58()),q=function(e){var t=Object(k.g)(),n=Object(s.useState)(e?"settings":"nfts"),i=Object(o.a)(n,2),a=i[0],c=i[1],l=function(e){window.history.replaceState(null,window.document.title,"?tab="+e),c(e)};return r.a.useEffect((function(){var n=new URLSearchParams(t.search).get("tab"),s=Cn.find((function(e){return e.key===n}));n&&s&&("settings"!==n||e)?l(s.key):"settings"!==n||e?window.history.replaceState(null,window.document.title,"?tab="+a):l("nfts")}),[t,e]),[a,l]}(V),Y=Object(o.a)(q,2),G=Y[0],J=Y[1];r.a.useEffect((function(){K(!0),y([]),W([]),M([])}),[t]),r.a.useEffect((function(){if(f){var e,n=Object(l.a)(d),s=Object(l.a)(d),r=[],i=Object(x.a)(u);try{for(i.s();!(e=i.n()).done;){var a=e.value.escrow.mintId.toBase58();s.push(a),n.push(a)}}catch(j){i.e(j)}finally{i.f()}var c,o=Object(x.a)(b);try{for(o.s();!(c=o.n()).done;){var m=c.value.offer.mintId.toBase58();s.push(m),r.push(m)}}catch(j){o.e(j)}finally{o.f()}s.length>0?(K(!0),Object(O.h)(t,s).then((function(e){var t,s,i,a,c,o;null===(t=e.tokens)||void 0===t||t.sort((function(e,t){var n,s;return Number(null!==(n=t.last)&&void 0!==n?n:0)-Number(null!==(s=e.last)&&void 0!==s?s:0)})).sort(Sn);var l=null!==(s=null===(i=e.tokens)||void 0===i?void 0:i.filter((function(e){return n.includes(e.mintId)})))&&void 0!==s?s:[];A((e.collections||[]).sort((function(e,t){return e.title.localeCompare(t.title)||0}))),y(l),W(null!==(a=null===(c=e.tokens)||void 0===c?void 0:c.filter((function(e){return r.includes(e.mintId)})))&&void 0!==a?a:[]),M(null!==(o=null===l||void 0===l?void 0:l.filter((function(e){return!!e.offerPrice})))&&void 0!==o?o:[]),K(!1)})).catch((function(e){Object(H.a)("Unable to fetch token list","".concat(e.message),"error"),console.error(e),K(!1)}))):(K(!1),y([]),W([]),M([]))}}),[f,d,u,b]);return Object(m.jsxs)("div",{className:"bg-white h-screen flex flex-col max-h-screen",children:[Object(m.jsx)(C.a,{children:Object(m.jsx)("title",{children:"Alpha.art | Account"})}),Object(m.jsx)(tt,{}),Object(m.jsxs)("div",{className:"flex flex-row flex-1 h-screen w-full",children:[Object(m.jsx)("div",{className:"flex flex-col border-r border-gray-200 pt-5 pb-4 bg-white sm:pt-20",children:Object(m.jsx)("div",{className:"hidden sm:flex w-32 sm:w-48 lg:w-96 flex-grow flex-col",children:Object(m.jsx)("nav",{className:"flex-1 px-2 space-y-8 bg-white","aria-label":"Sidebar",children:Object(m.jsxs)("div",{className:"space-y-1",children:[Object(m.jsx)("div",{className:"mb-5 ml-2",children:Object(m.jsx)(Ae,{pubkey:t})}),Object(m.jsxs)("button",{onClick:function(){return J("nfts")},className:g("nfts"===G?"bg-gray-100 text-gray-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900","group flex items-center px-2 py-2 text-sm font-medium rounded-md w-full"),children:[Object(m.jsx)(N.p,{className:g("nfts"===G?"text-gray-500":"text-gray-400 group-hover:text-gray-500","mr-3 flex-shrink-0 h-6 w-6"),"aria-hidden":"true"}),"NFTs"]}),Object(m.jsxs)("button",{onClick:function(){return J("offersMade")},className:g("offersMade"===G?"bg-gray-100 text-gray-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900","group flex items-center px-2 py-2 text-sm font-medium rounded-md w-full"),children:[Object(m.jsx)(S.b,{className:g("offersMade"===G?"text-gray-500":"text-gray-400 group-hover:text-gray-500","mr-3 flex-shrink-0 h-6 w-6 transform rotate-45"),"aria-hidden":"true"}),V?"My Offers":"Offers Made"]}),Object(m.jsxs)("button",{onClick:function(){return J("offersReceived")},className:g("offersReceived"===G?"bg-gray-100 text-gray-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900","group flex items-center px-2 py-2 text-sm font-medium rounded-md w-full"),children:[Object(m.jsx)(S.a,{className:g("offersReceived"===G?"text-gray-500":"text-gray-400 group-hover:text-gray-500","mr-3 flex-shrink-0 h-6 w-6 transform -rotate-45"),"aria-hidden":"true"}),"Received Offers"]}),Object(m.jsxs)("button",{onClick:function(){return J("history")},className:g("history"===G?"bg-gray-100 text-gray-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900","group flex items-center px-2 py-2 text-sm font-medium rounded-md w-full"),children:[Object(m.jsx)(N.t,{className:g("history"===G?"text-gray-500":"text-gray-400 group-hover:text-gray-500","mr-3 flex-shrink-0 h-6 w-6 transform"),"aria-hidden":"true"}),"Activity"]}),V&&Object(m.jsxs)("button",{onClick:function(){return J("settings")},className:g("settings"===G?"bg-gray-100 text-gray-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900","group flex items-center px-2 py-2 text-sm font-medium rounded-md w-full"),children:[Object(m.jsx)(N.u,{className:g("settings"===G?"text-gray-500":"text-gray-400 group-hover:text-gray-500","mr-3 flex-shrink-0 h-6 w-6 transform"),"aria-hidden":"true"}),Cn[4].title]})]})})})}),Object(m.jsx)("div",{className:"flex flex-1 flex-col w-full overflow-y-scroll",children:Object(m.jsxs)("div",{className:"flex flex-1 flex-col sm:pt-12",children:[Object(m.jsx)("div",{className:"w-full sm:hidden",children:Object(m.jsxs)("div",{className:"sm:hidden mt-24 flex flex-col",children:[Object(m.jsx)("div",{className:"mb-5 ml-4",children:Object(m.jsx)(Ae,{pubkey:t})}),Object(m.jsx)(Ut.a,{value:G,onChange:J,children:Object(m.jsxs)("div",{className:"m-4 mt-1 relative",children:[Object(m.jsxs)(Ut.a.Button,{className:"bg-white relative w-full border border-gray-300 rounded-md shadow-sm pl-3 pr-10 py-2 text-left cursor-default focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:[Object(m.jsx)("span",{className:"block truncate",children:function(){var e,t=null===(e=Cn.find((function(e){return e.key===G})))||void 0===e?void 0:e.title;return"function"===typeof t?t(V):t}()}),Object(m.jsx)("span",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:Object(m.jsx)(N.o,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})})]}),Object(m.jsx)(z.a,{as:s.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:Object(m.jsx)(Ut.a.Options,{className:"absolute z-10 mt-1 w-full bg-white shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm",children:Cn.slice(0,V?Cn.length:Cn.length-1).map((function(e){return Object(m.jsx)(Ut.a.Option,{className:function(e){return g(e.active?"text-white bg-indigo-600":"text-gray-900","cursor-default select-none relative py-2 pl-3 pr-9")},value:e.key,children:function(t){var n=t.selected,s=t.active;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("span",{className:g(n?"font-semibold":"font-normal","block truncate"),children:"function"===typeof e.title?e.title(V):e.title}),n?Object(m.jsx)("span",{className:g(s?"text-white":"text-indigo-600","absolute inset-y-0 right-0 flex items-center pr-4"),children:Object(m.jsx)(N.d,{className:"h-5 w-5","aria-hidden":"true"})}):null]})}},e.key)}))})})]})})]})}),Object(m.jsx)("div",{className:"sm:py-8 sm:px-6 w-full lg:max-w-7xl ",children:Object(m.jsx)("div",{className:"flex flex-1 sm:px-6 lg:px-8 w-full",children:Object(m.jsxs)("main",{className:"flex-1 px-4 sm:px-6 lg:px-8 pt-6 pb-6 w-full",children:["history"!==G&&_?Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"mb-8 h-8 w-96 overflow-hidden bg-gray-200 rounded-sm"}),Object(m.jsx)(Ce,{count:16})]}):Object(m.jsxs)(m.Fragment,{children:["nfts"===G&&Object(m.jsx)(vn,{collections:I,tokens:v,title:Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Ae,{pubkey:t}),"'s NFTs"," "]}),emptyText:"There is no token in the account",showField:"lastPrice",isLoading:_}),"offersMade"===G&&Object(m.jsx)(vn,{collections:I,tokens:E,title:V?"My Offers":Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Ae,{pubkey:t}),"'s Offers"," "]}),isLoading:_,showField:"offerPrice",emptyText:"There is no active offer",showCancelOffer:V,offers:b}),"offersReceived"===G&&Object(m.jsx)(vn,{tokens:D,title:V?"Received Offers":Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Ae,{pubkey:t}),"'s Received Offers"," "]}),emptyText:"There is no active offer",showField:"offerPrice",isLoading:_})]}),"history"===G&&Object(m.jsx)(wt,{resourceType:"USER",id:t,title:"Activity"}),"settings"===G&&Object(m.jsx)(wn,{publicKey:t,user:a,collections:I})]})})})]})})]})]})}var In={bottomLinks:[{name:"FAQ",href:"/faq"},{name:"Privacy",href:"/privacy"}]},An=["https://cdn.alpha.art/opt/7/c/7cf447caaa3d597a9d21eede4c1cd0872c469cbc/original.png","https://cdn.alpha.art/opt/7/d/7d4063649b8c33ff077fc8b3031ca5afdc202b21/original.png","https://cdn.alpha.art/opt/0/b/0b1e4a821d24e571d2f5265fb5fa149289aacb91/original.png","https://cdn.alpha.art/opt/b/7/b7870ac06fb279514b897e024ba9e5ad3a48340b/original.png","https://cdn.alpha.art/opt/0/2/0289e4a9c5641cd1da4fd9df0e2fa55db28270e8/original.png","https://cdn.alpha.art/opt/0/4/04f505fc66faad3845af0ee058e236fc2e7c8cc0/original.png","https://cdn.alpha.art/opt/4/1/41ac75c4a7e3efa84e07df55cbeff41927ded201/original.png"];function Pn(e){if(e.src.startsWith("https://cdn.alpha.art/opt/")){var t=e.src.split("/"),n=t.slice(0,t.length-1);return Object(m.jsxs)("picture",{children:[Object(m.jsx)("source",{type:"image/webp",srcSet:[[].concat(Object(l.a)(n),["256.webp"]).join("/"),[].concat(Object(l.a)(n),["512.webp 2x"]).join("/")].join(", ")}),Object(m.jsx)("img",{loading:"lazy",src:[].concat(Object(l.a)(n),["256.png"]).join("/"),srcSet:[[].concat(Object(l.a)(n),["256.png"]).join("/"),[].concat(Object(l.a)(n),["512.png 2x"]).join("/")].join(", "),alt:"",className:"w-full h-full object-center object-cover"})]})}return Object(m.jsx)("img",{loading:"lazy",src:e.src,alt:"",className:"w-full h-full object-center object-cover"})}function Fn(e){var t,n=e.collection;return Object(m.jsx)("li",{className:"w-64 inline-flex flex-col text-center",children:Object(m.jsxs)("div",{className:"group relative",children:[Object(m.jsx)("div",{className:"w-full bg-gray-200 rounded-md overflow-hidden aspect-w-1 aspect-h-1",children:Object(m.jsx)("img",{src:n.thumbnail,alt:n.title,className:"w-full h-full object-center object-cover group-hover:opacity-75"})}),Object(m.jsxs)("div",{className:"mt-2",children:[Object(m.jsx)("p",{className:"text-sm text-gray-500",children:n.symbol}),Object(m.jsx)("h3",{className:"mt-1 font-semibold text-gray-900",children:Object(m.jsxs)(b.b,{to:"/collection/".concat(n.slug),children:[Object(m.jsx)("span",{className:"absolute inset-0"}),n.title]})}),"volume"===e.show?Object(m.jsxs)("p",{className:"text-base font-semibold text-gray-700",children:["\u25ce ",W(u(null!==(t=n.volume)&&void 0!==t?t:0),1)," ",Object(m.jsx)("span",{className:"font-light",children:"total volume"})]}):Object(m.jsxs)("p",{className:"mt-1 text-gray-900",children:[n.totalItems," items"]})]})]})},n.id)}function En(e){var t,n=e.collection;return Object(m.jsxs)("div",{className:"group relative mb-6 sm:mb-0",children:[Object(m.jsx)("div",{className:"relative w-full h-80 bg-white rounded-lg overflow-hidden group-hover:opacity-75 sm:aspect-w-2 sm:aspect-h-1 sm:h-64 md:aspect-w-1 md:aspect-h-1",children:Object(m.jsx)("img",{src:n.thumbnail,alt:n.title,className:"w-full h-full object-center object-cover"})}),Object(m.jsx)("h3",{className:"mt-2 text-base text-gray-900",children:Object(m.jsxs)(b.b,{to:"/collection/".concat(n.slug),children:[Object(m.jsx)("span",{className:"absolute inset-0"}),n.title]})}),"volume"===e.show?Object(m.jsxs)("p",{className:"text-base font-semibold text-gray-700",children:["\u25ce ",W(u(null!==(t=n.volume)&&void 0!==t?t:0),1)," ",Object(m.jsx)("span",{className:"font-light",children:"total volume"})]}):Object(m.jsxs)("p",{className:"mt-1 text-gray-900",children:[n.totalItems," items"]})]},n.id)}function Wn(e){var t,n,s,r=e.form,i=null===(t=r.links)||void 0===t?void 0:t.filter((function(e){return e.startsWith("https://alpha.art/collection/")})),a=null===(n=r.links)||void 0===n?void 0:n.filter((function(e){return e.startsWith("https://twitter.com/")})),c=Object(m.jsxs)("div",{className:"space-y-4",children:[Object(m.jsx)("div",{className:"aspect-w-3 aspect-h-2",children:Object(m.jsx)("img",{className:"object-cover shadow-lg rounded-lg",src:r.featuredImage,alt:""})}),Object(m.jsxs)("div",{className:"space-y-2",children:[Object(m.jsxs)("div",{className:"text-lg leading-6 font-medium space-y-1",children:[Object(m.jsx)("h3",{className:"text-lg text-gray-800",children:r.name}),Object(m.jsx)("div",{className:"text-sm text-gray-600 max-h-11 lines-2",children:r.description})]}),Object(m.jsx)(Pt,{links:null!==(s=r.links)&&void 0!==s?s:[],name:""})]})]}),o=i&&i.length>0?i[0]:a&&a.length>0?a[0]:void 0;return o?Object(m.jsx)("a",{href:o,target:"_blank",rel:"noreferrer",children:c}):c}function Ln(){var e=r.a.useState([]),t=Object(o.a)(e,2),n=t[0],s=t[1],i=r.a.useState([]),a=Object(o.a)(i,2),c=a[0],l=a[1],d=r.a.useState([]),u=Object(o.a)(d,2),f=u[0],j=u[1];return r.a.useEffect((function(){Object(O.l)("recent",20,!0).then((function(e){l(e)})),Object(O.l)("volume",200,!0).then((function(e){s(e)})),Object(O.m)().then((function(e){j(e)}))}),[]),Object(m.jsxs)("div",{className:"bg-white",children:[Object(m.jsx)(tt,{}),Object(m.jsx)(C.a,{children:Object(m.jsx)("title",{children:"Alpha Art Market"})}),Object(m.jsx)("div",{className:"relative pt-16 overflow-hidden",children:Object(m.jsx)("div",{className:"pt-16 pb-80 sm:pt-24 sm:pb-40 lg:pt-40 lg:pb-48",children:Object(m.jsxs)("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 sm:static",children:[Object(m.jsxs)("div",{className:"sm:max-w-lg",children:[Object(m.jsx)("h1",{className:"text-4xl font font-extrabold tracking-tight text-gray-900 sm:text-6xl",children:"A-Class Trading with Alpha Art"}),Object(m.jsx)("p",{className:"mt-4 text-xl text-gray-500",children:"Alpha art is the revolutionary NFT marketplace currently allowing users to buy/sell Solana based NFTs without any listing fees."})]}),Object(m.jsx)("div",{children:Object(m.jsxs)("div",{className:"mt-10",children:[Object(m.jsx)("a",{href:"#popular",className:"inline-block text-center bg-gray-900 border border-transparent rounded-md py-3 px-8 font-medium text-white hover:bg-gray-700",children:"Explore Collections"}),Object(m.jsx)("div",{"aria-hidden":"true",className:"z-0 pointer-events-none lg:absolute lg:inset-y-0 lg:max-w-7xl lg:mx-auto lg:w-full",children:Object(m.jsx)("div",{className:"absolute transform sm:left-1/2 sm:top-0 sm:translate-x-8 lg:left-1/2 lg:top-1/2 lg:-translate-y-1/2 lg:translate-x-8",children:Object(m.jsxs)("div",{className:"flex items-center space-x-6 lg:space-x-8",children:[Object(m.jsxs)("div",{className:"flex-shrink-0 grid grid-cols-1 gap-y-6 lg:gap-y-8",children:[Object(m.jsx)("div",{className:"z-0 w-44 h-64 rounded-lg overflow-hidden sm:opacity-0 lg:opacity-100",children:Object(m.jsx)(Pn,{src:An[0]})}),Object(m.jsx)("div",{className:"z-0 w-44 h-64 rounded-lg overflow-hidden",children:Object(m.jsx)(Pn,{src:An[1]})})]}),Object(m.jsxs)("div",{className:"flex-shrink-0 grid grid-cols-1 gap-y-6 lg:gap-y-8",children:[Object(m.jsx)("div",{className:"z-0 w-44 h-64 rounded-lg overflow-hidden",children:Object(m.jsx)(Pn,{src:An[2]})}),Object(m.jsx)("div",{className:"z-0 w-44 h-64 rounded-lg overflow-hidden",children:Object(m.jsx)(Pn,{src:An[3]})}),Object(m.jsx)("div",{className:"z-0 w-44 h-64 rounded-lg overflow-hidden",children:Object(m.jsx)(Pn,{src:An[4]})})]}),Object(m.jsxs)("div",{className:"flex-shrink-0 grid grid-cols-1 gap-y-6 lg:gap-y-8",children:[Object(m.jsx)("div",{className:"z-0 w-44 h-64 rounded-lg overflow-hidden",children:Object(m.jsx)(Pn,{src:An[5]})}),Object(m.jsx)("div",{className:"z-0 w-44 h-64 rounded-lg overflow-hidden",children:Object(m.jsx)(Pn,{src:An[6]})})]})]})})})]})})]})})}),Object(m.jsxs)("main",{children:[f.length>0&&Object(m.jsx)("section",{"aria-labelledby":"featured-heading",className:"bg-gray-100",children:Object(m.jsxs)("div",{className:"py-8 sm:py-24 lg:max-w-7xl lg:mx-auto lg:py-16 lg:px-8",children:[Object(m.jsx)("div",{className:"px-4 flex items-center justify-between sm:px-6 lg:px-0",children:Object(m.jsx)("h2",{id:"featured-heading",className:"text-2xl font-extrabold tracking-tight text-gray-900",children:"Upcoming Collections"})}),Object(m.jsx)("div",{className:"mt-8 relative px-4 lg:px-0",children:Object(m.jsx)("div",{className:"relative w-full overflow-x-auto",children:Object(m.jsx)("ul",{className:"space-y-12 sm:grid sm:grid-cols-2 sm:gap-x-6 sm:gap-y-12 sm:space-y-0 lg:grid-cols-3 lg:gap-x-8",children:f.map((function(e){return Object(m.jsx)(Wn,{form:e},e.id)}))})})})]})}),c.length>0&&Object(m.jsx)("section",{"aria-labelledby":"trending-heading",className:"bg-white",children:Object(m.jsxs)("div",{className:"py-8 sm:py-24 lg:max-w-7xl lg:mx-auto lg:py-16 lg:px-8",children:[Object(m.jsx)("div",{className:"px-4 flex items-center justify-between sm:px-6 lg:px-0",children:Object(m.jsx)("h2",{id:"trending-heading",className:"text-2xl font-extrabold tracking-tight text-gray-900",children:"New Collections"})}),Object(m.jsx)("div",{className:"mt-8 relative",children:Object(m.jsx)("div",{className:"relative w-full overflow-x-auto",children:Object(m.jsx)("ul",{className:"mx-4 inline-flex space-x-8 sm:mx-6 flex-nowrap",children:c.map((function(e){return Object(m.jsx)(Fn,{collection:e,show:"items"},e.id)}))})})})]})}),Object(m.jsxs)("div",{className:"relative bg-gray-200",children:[Object(m.jsx)("div",{className:"absolute inset-0",style:{backgroundImage:'url("./img/fee-reduction-right.png")',backgroundPosition:"right bottom",backgroundSize:"contain",filter:"grayscale(50%)",backgroundRepeat:"no-repeat"}}),Object(m.jsx)("div",{className:"absolute inset-0",style:{backgroundImage:'url("./img/fee-reduction-piggy-left.png")',backgroundPosition:"left bottom",backgroundSize:"contain",filter:"grayscale(50%)",backgroundRepeat:"no-repeat"}}),Object(m.jsx)("div",{className:"sm:hidden absolute inset-0 bg-gray-100 opacity-75"}),Object(m.jsxs)("div",{className:"relative max-w-7xl mx-auto py-16 px-4 sm:py-16 sm:px-6 lg:px-8",children:[Object(m.jsx)("h1",{className:"text-4xl font-extrabold tracking-tight sm:text-5xl lg:text-6xl",children:"Lower the Service Fee"}),Object(m.jsx)("p",{className:"mt-6 text-xl text-black max-w-3xl",children:"Earn more on sales at alpha.art by owning Piggy Sol Gang NFT. Each piggy will reduce the service fee by 25%."}),Object(m.jsx)(b.b,{to:"/collection/piggy-sol-gang",className:"mt-4 inline-block text-center bg-gray-900 border border-transparent rounded-md py-3 px-8 font-medium text-white hover:bg-gray-700",children:"Get Your Piggy"}),Object(m.jsx)(b.b,{to:"/stake",className:"mt-4 ml-4 inline-block text-center bg-gray-900 border border-transparent rounded-md py-3 px-8 font-medium text-white hover:bg-gray-700",children:"Stake Your Piggy"})]})]}),Object(m.jsx)("section",{id:"popular","aria-labelledby":"collections-heading",className:"bg-gray-100",children:Object(m.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:Object(m.jsxs)("div",{className:"max-w-2xl mx-auto py-8 sm:py-12 lg:py-16 md:max-w-none",children:[Object(m.jsx)("h2",{id:"collections-heading",className:"text-2xl font-extrabold text-gray-900",children:"All Collections"}),Object(m.jsx)("div",{className:"mt-12 gap-y-12 md:gap-y-4 md:grid md:grid-cols-3 md:gap-x-3 lg:gap-y-8 lg:grid-cols-4 lg:gap-x-6",children:n.map((function(e){return Object(m.jsx)(En,{collection:e,show:"volume"},e.id)}))})]})})}),Object(m.jsx)("div",{className:"relative overflow-hidden",children:Object(m.jsxs)("div",{"aria-hidden":"true",className:"absolute inset-0",children:[Object(m.jsx)("div",{className:"absolute inset-0 max-w-7xl mx-auto overflow-hidden xl:px-8",children:Object(m.jsx)("img",{src:"https://cdn.piggygang.com/c/j6894aRvRMJlE/5rE3qqmLg64Rd.png",alt:"",className:"w-full h-full object-center object-cover"})}),Object(m.jsx)("div",{className:"absolute inset-0 bg-white bg-opacity-75"}),Object(m.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-white via-white"})]})})]}),Object(m.jsxs)("footer",{"aria-labelledby":"footer-heading",className:"bg-white",children:[Object(m.jsx)("h2",{id:"footer-heading",className:"sr-only",children:"Footer"}),Object(m.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:Object(m.jsxs)("div",{className:"py-10 md:flex md:items-center md:justify-between",children:[Object(m.jsx)("div",{className:"text-center md:text-left",children:Object(m.jsx)("p",{className:"text-sm text-gray-500",children:"\xa9 2021 alpha.art"})}),Object(m.jsx)("div",{className:"mt-4 flex items-center justify-center md:mt-0",children:Object(m.jsx)("div",{className:"flex space-x-8",children:In.bottomLinks.map((function(e){return Object(m.jsx)(b.b,{to:e.href,className:"text-sm text-gray-500 hover:text-gray-600",children:e.name},e.name)}))})})]})})]})]})}function Bn(){return Object(m.jsxs)("div",{className:"bg-white",children:[Object(m.jsx)(C.a,{children:Object(m.jsx)("title",{children:"Alpha.art | Privacy Policy"})}),Object(m.jsx)(tt,{}),Object(m.jsxs)("div",{className:"max-w-4xl mx-auto py-16 px-4 sm:py-24 sm:px-6",children:[Object(m.jsx)("h2",{className:"font-bold text-xl",children:"Privacy Policy"}),Object(m.jsxs)("div",{className:"pt-2 md-text",children:[Object(m.jsx)("p",{children:"Version 1.0"}),Object(m.jsx)("p",{children:"Effective Date: October 27, 2021"}),Object(m.jsxs)("p",{children:['AlphaArt ("we", "us", or "our") values your privacy. We have prepared this Privacy Policy to describe how we collect, use, and disclose information that we obtain about visitors to our website at'," ",Object(m.jsx)("a",{href:"https://alpha.art/",children:"https://alpha.art/"}),' (the "Site"), about the registered Site users, the services available through our Site, including any mobile applications and browser extensions (collectively, the "Services"), and how we use and disclose that information.']}),Object(m.jsx)("p",{children:"By visiting the Site, or using any of our Services, you agree that your personal information will be handled as described in this Policy. Your use of our Site or Services, and any dispute over privacy, is subject to this Policy (including any applicable changes) and an applicable Terms of Use, including its applicable limitations on damages and provisions for the resolution of disputes."}),Object(m.jsx)("h4",{id:"1-types-of-data-we-collect-",children:"1. Types of Data We Collect."}),Object(m.jsx)("p",{children:"We collect information about you directly from you and from third parties, as well as automatically through your use of our Site or Services."}),Object(m.jsx)("ul",{children:Object(m.jsx)("li",{children:"a. Information We Collect Directly From You."})}),Object(m.jsx)("p",{children:"You may browse certain areas of the Site without registering with us or providing us personal information."}),Object(m.jsx)("p",{children:"We collect email only to notify you of the trade offers. Your email address won't be shared with any third party."}),Object(m.jsx)("p",{children:"If you provide us feedback or contact us via e-mail, we will collect user name and e-mail address, as well as any other content included in the e-mail, in order to send you a reply."}),Object(m.jsx)("p",{children:"In addition, if you are providing personal information for third parties in connection with using our Services, you are responsible for ensuring that you have all required permissions and consents to provide such personal information to us for use in connection with the Services and that our use of such personal information to provide the Services does not violate any applicable law, rule, regulation or order."}),Object(m.jsx)("ul",{children:Object(m.jsx)("li",{children:"b. Information We Collect Automatically."})}),Object(m.jsx)("p",{children:"We may automatically collect the following information about your use of our Site or Services through cookies and other technologies: your domain name; your browser type and operating system; web pages you view; links you click; your IP address; the length of time you visit our Site or use our Services; and the referring URL, or the webpage that led you to our Site. We may combine this information with other information that we have collected about you, including, where applicable, your username, email address, Solana addres, wallet type, and/or a date/time stamp for your visit."}),Object(m.jsx)("ul",{children:Object(m.jsx)("li",{children:"c. Information Collected from Third Party Companies."})}),Object(m.jsx)("p",{children:"We may receive Personal and/or Anonymous Data about you from companies that provide our Services by way of a co-branded or private-labeled website or companies that offer their products and/or services on our Service. In particular, Phantom and other wallets provide us with your Solana address and certain other information you choose to share with Phantom and other wallets. These third party companies may supply us with Personal Data. We may add this to the information we have already collected from you via our Service in order to improve it. We do not collect Personal Data automatically, but we may tie the information that we collect automatically to Personal Data about you that we collect from other sources or that you provide to us."}),Object(m.jsx)("h4",{id:"2-use-of-your-personal-data",children:"2. Use of Your Personal Data"}),Object(m.jsxs)("ul",{children:[Object(m.jsxs)("li",{children:[Object(m.jsx)("p",{children:"a) General Use. In general, Personal Data you submit to us is used either to respond to requests that you make, or to aid us in serving you better. We use your Personal Data in the following ways:"}),Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:"I. facilitate the creation of and secure your Account on our network;"}),Object(m.jsx)("li",{children:"II. identify you as a user in our system;"}),Object(m.jsx)("li",{children:"III. provide improved administration of our Service;"}),Object(m.jsxs)("li",{children:["IV. provide the Services you request, including but not limited to facilitating your cryptocurrency transactions through Phantom (",Object(m.jsx)("a",{href:"https://phantom.app/",children:"https://phantom.app/"}),") or other wallets;"]}),Object(m.jsx)("li",{children:"V. improve the quality of experience when you interact with our Service;"}),Object(m.jsx)("li",{children:"VI. send you a welcome e-mail to verify ownership of the e-mail address provided when your Account was created;"}),Object(m.jsx)("li",{children:"VII protect you and other users from any conduct that violates the Terms of Use or to prevent abuse or harassment of any user;"}),Object(m.jsx)("li",{children:"VIII. display your username next to the digital assets you wish to sell on the Website;"}),Object(m.jsx)("li",{children:"IX. send you administrative e-mail notifications, such as security or support and maintenance advisories;"}),Object(m.jsx)("li",{children:"X. send you e-mail notifications related to actions on Service, including notifications of offers on your digital assets;"}),Object(m.jsx)("li",{children:"XI. respond to your inquiries related to employment opportunities or other requests;"}),Object(m.jsx)("li",{children:"XII. send newsletters, surveys, offers, and other promotional materials related to our Services and for other marketing purposes of AlphaArt."})]}),Object(m.jsx)("p",{children:"We may use your email address to contact you about our own and third parties' goods and services that may be of interest to you."})]}),Object(m.jsx)("li",{children:Object(m.jsx)("p",{children:"b) Anonymous Data. We may create Anonymous Data records from Personal Data by excluding information (such as your email address) that makes the data personally identifiable to you. We use this Anonymous Data to analyze request and usage patterns so that we may enhance the content of our Services and improve Service navigation. We reserve the right to use Anonymous Data for any purpose and to disclose Anonymous Data to third parties without restriction."})})]}),Object(m.jsx)("h4",{id:"3-disclosure-of-your-personal-data-",children:"3. Disclosure of Your Personal Data."}),Object(m.jsx)("p",{children:"We disclose your Personal Data as described below and as described elsewhere in this Privacy Policy."}),Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:"a. Third Party Service Providers. We may share your Personal Data with third party service providers to: provide you with the Services that we offer you through our Service; to conduct quality assurance testing; to facilitate creation of accounts; to provide technical support; and/or to provide other services to the AlphaArt."}),Object(m.jsx)("li",{children:"b. Corporate Restructuring. We may share some or all of your Personal Data in connection with or during negotiation of any merger, financing, acquisition or dissolution transaction or proceeding involving sale, transfer, divestiture, or disclosure of all or a portion of our business or assets. In the event of an insolvency, bankruptcy, or receivership, Personal Data may also be transferred as a business asset. If another company acquires our company, business, or assets, that company will possess the Personal Data collected by us and will assume the rights and obligations regarding your Personal Data as described in this Privacy Policy."}),Object(m.jsx)("li",{children:"c. As Legally Required. Regardless of any choices you make regarding your Personal Data (as described below), AlphaArt may disclose Personal Data if it believes in good faith that such disclosure is necessary (a) in connection with any legal investigation; (b) to comply with relevant laws or to respond to subpoenas or warrants served on AlphaArt; (c) to protect or defend the rights or property of AlphaArt or users of the Service; and/or (d) to investigate or assist in preventing any violation or potential violation of the law, this Privacy Policy, or our Terms of Use."}),Object(m.jsx)("li",{children:"d. Other Disclosures. We may also disclose your Personal Data, to fulfill the purpose for which you provide it; for any other purpose disclosed by us when you provide it; or with your consent. We do not sell your Personal Data."})]}),Object(m.jsx)("h4",{id:"4-third-party-websites-",children:"4. Third Party Websites."}),Object(m.jsx)("p",{children:"Our Service may contain links to third party websites. When you click on a link to any other website or location, you will leave our Service and go to another site, and another entity may collect Personal Data or Anonymous Data from you. You may also find marketplaces powered by the Service on other websites. We have no control over, do not review, and cannot be responsible for, these outside websites or their content. Please be aware that the terms of this Privacy Policy do not apply to these outside websites or content, or to any collection of your Personal Data after you click on links to such outside websites. We encourage you to read the privacy policies of every website you visit. The links to third party websites or locations are for your convenience and do not signify our endorsement of such third parties or their products, content or websites."}),Object(m.jsx)("h4",{id:"5-third-party-wallet-extensions-",children:"5. Third-Party Wallet Extensions."}),Object(m.jsxs)("p",{children:["For conducting cryptocurrency transactions we use third-party electronic wallet extensions such as (but not limited to) Phantom; your interactions with Phantom and/or any third-party electronic wallet extensions are governed by the applicable privacy policies. In the case of Phantom, its privacy policy is available"," ",Object(m.jsx)("a",{href:"https://phantom.app/privacy",children:"here"}),"."]}),Object(m.jsx)("h4",{id:"6-your-choices-regarding-information-",children:"6. Your Choices Regarding Information."}),Object(m.jsx)("p",{children:"You have several choices regarding the use of information on our Services:"}),Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:'a) Email Communications. We will periodically send you free, opt-in newsletters and e-mails that directly promote the use of our Service. When you receive newsletters or promotional communications from us, you may indicate a preference to stop receiving further communications from us and you will have the opportunity to "opt-out" by following the unsubscribe instructions provided in the e-mail you receive or by contacting us directly (please see contact information in paragraph (1)). Despite your indicated e-mail preferences, we may send you occasional service related communications, including notices of updates to our Terms of Use or Privacy Policy.'}),Object(m.jsx)("li",{children:"b) If you decide at any time that you no longer wish to accept Cookies from our Service for any of the purposes described above, then you can instruct your browser, by changing its settings, to stop accepting Cookies or to prompt you before accepting a Cookie from the websites you visit. Consult your browser's technical information. If you do not accept Cookies, however, you may not be able to use all portions of the Service or all functionality of the Service. If you have any questions about how to disable or modify Cookies, please let us know at the address given in paragraph (1)."})]}),Object(m.jsx)("h4",{id:"7-data-access-and-control-",children:"7. Data Access and Control."}),Object(m.jsx)("p",{children:"You can view, access, or edit your username for many aspects of the Service via your profile page. You can always choose whether you want to receive marketing communications from us. You can also opt out from receiving marketing communications from us by using the opt-out link on the communication, or by visiting your update profile page. We may retain an archived copy of your records as required by law or for legitimate business purposes."}),Object(m.jsx)("h4",{id:"8-data-retention-",children:"8. Data Retention."}),Object(m.jsx)("p",{children:"We may retain your wallet's activity as long as you continue to use the Service with that wallet, have an account with us, or for as long as is necessary to fulfill the purposes outlined in this Privacy Policy. You can ask to close your account by contacting us as described above, and we will delete your username associated with that wallet on request."}),Object(m.jsx)("h4",{id:"9-data-protection-",children:"9. Data Protection."}),Object(m.jsx)("p",{children:"We care about the security of your information and use physical, administrative, and technological safeguards to preserve the integrity and security of all information collected through our website. However, no security system is impenetrable and we cannot guarantee the security of our systems 100%. In the event that any information under our control is compromised as a result of a breach of security, we will take steps to investigate the situation and, where appropriate, notify those individuals whose information may have been compromised and take other steps, in accordance with any applicable laws and regulations."}),Object(m.jsx)("h4",{id:"10-changes-to-this-privacy-policy-",children:"10. Changes to This Privacy Policy."}),Object(m.jsxs)("p",{children:["This Privacy Policy may be updated from time to time for any reason. We will notify you of any changes to our Privacy Policy by posting the new Privacy Policy at"," ",Object(m.jsx)("a",{href:"/privacy",children:"https://alpha.art/privacy"}),". The date the Privacy Policy was last revised is identified at the beginning of this Privacy Policy. You are responsible for ensuring we have an up-to-date active and deliverable email address for you, and for periodically visiting our Service and this Privacy Policy to check for any changes."]}),Object(m.jsx)("h4",{id:"11-questions-",children:"11. Questions."}),Object(m.jsx)("p",{children:"If you have questions about the privacy aspects of our Site or Services or would like to make a complaint, please contact us at support@alpha.art."})]})]})]})}var Dn={bottomLinks:[{name:"FAQ",href:"/faq"},{name:"Privacy",href:"/privacy"}]};var Mn=[{id:"4",name:"4"},{id:"5",name:"5"},{id:"10",name:"10"},{id:"custom",name:"Custom"}];function zn(e){var t=r.a.useState("".concat(e.startValue)),n=Object(o.a)(t,2),i=n[0],a=n[1];return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Ut.a,{value:e.selected,onChange:function(t){var n;return e.onSelected(t,null!==(n=parseInt(t))&&void 0!==n?n:4)},children:function(t){var n,r,i=t.open;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Ut.a.Label,{className:"block text-sm font-medium text-gray-700",children:"How many piggies will you stake at most?"}),Object(m.jsxs)("div",{className:"mt-1 relative",children:[Object(m.jsxs)(Ut.a.Button,{className:"relative w-full bg-white border border-gray-300 rounded-md shadow-sm pl-3 pr-10 py-2 text-left cursor-default focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:[Object(m.jsx)("span",{className:"block truncate",children:null!==(n=null===(r=Mn.filter((function(t){return t.id===e.selected}))[0])||void 0===r?void 0:r.name)&&void 0!==n?n:"4"}),Object(m.jsx)("span",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:Object(m.jsx)(S.n,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})})]}),Object(m.jsx)(z.a,{show:i,as:s.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:Object(m.jsx)(Ut.a.Options,{className:"absolute z-10 mt-1 w-full bg-white shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm",children:Mn.map((function(e){return Object(m.jsx)(Ut.a.Option,{className:function(e){return g(e.active?"text-white bg-indigo-600":"text-gray-900","cursor-default select-none relative py-2 pl-8 pr-4")},value:e.id,children:function(t){var n=t.selected,s=t.active;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("span",{className:g(n?"font-semibold":"font-normal","block truncate"),children:e.name}),n?Object(m.jsx)("span",{className:g(s?"text-white":"text-indigo-600","absolute inset-y-0 left-0 flex items-center pl-1.5"),children:Object(m.jsx)(S.c,{className:"h-5 w-5","aria-hidden":"true"})}):null]})}},e.id)}))})})]})]})}}),"custom"===e.selected&&Object(m.jsx)("div",{className:"mt-1",children:Object(m.jsx)("input",{type:"number",name:"slotNumber",className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 mt-2",value:i,onChange:function(t){var n;a(t.currentTarget.value),e.onSelected("custom",null!==(n=parseInt(t.currentTarget.value))&&void 0!==n?n:4)}})})]})}function Rn(e){return Object(m.jsx)(Pe,{visible:e.isOpen,onClose:function(){var t;null===(t=e.onClose)||void 0===t||t.call(e)},children:Object(m.jsxs)("div",{className:"space-y-6",children:[Object(m.jsx)("div",{children:Object(m.jsx)("h1",{className:"mb-4 pb-2 border-b text-xl",children:"Approve Transaction on your wallet"})}),Object(m.jsx)(y,{size:96})]})})}function Un(){var e=Object(p.d)((function(e){return{wallet:e.wallet,isConnected:e.isConnected}})),t=e.wallet,n=e.isConnected,s=r.a.useState(!1),i=Object(o.a)(s,2),a=i[0],u=i[1],f=r.a.useState(!1),j=Object(o.a)(f,2),v=j[0],y=j[1],w=r.a.useState(!0),k=Object(o.a)(w,2),N=k[0],S=k[1],T=r.a.useState("4"),I=Object(o.a)(T,2),A=I[0],P=I[1],F=r.a.useState(4),E=Object(o.a)(F,2),W=E[0],L=E[1],B=r.a.useState(0),D=Object(o.a)(B,2),M=D[0],z=D[1],R=function(e,t){var n=Object(p.d)((function(e){return e.connection})),s=r.a.useState(),i=Object(o.a)(s,2),a=i[0],c=i[1],l=r.a.useState(),d=Object(o.a)(l,2),u=d[0],b=d[1];return r.a.useEffect((function(){c(void 0),b(void 0),"undefined"!==typeof e&&e&&(Object(q.i)(n,e).then(b).catch((function(e){console.log("getting user stake data failed",e)})),n.getParsedTokenAccountsByOwner(e,{programId:Gt.c},"singleGossip").then((function(e){var t=e.value.filter((function(e){if("spl-token"!==e.account.data.program)return!1;var t=e.account.data.parsed;return"account"===t.type&&0===t.info.tokenAmount.decimals&&1===t.info.tokenAmount.uiAmount})).map((function(e){return e.account.data.parsed.info.mint}));c(t)})).catch((function(e){console.error(e)})))}),[e,t]),{ready:!!a,userNFTS:a||[],stake:u}}(null===t||void 0===t?void 0:t.publicKey,M),U=R.ready,_=R.userNFTS,K=R.stake,V=r.a.useState([]),Y=Object(o.a)(V,2),G=Y[0],J=Y[1],Q=r.a.useState([]),Z=Object(o.a)(Q,2),X=Z[0],$=Z[1];r.a.useEffect((function(){var e;if(U&&(null===t||void 0===t?void 0:t.publicKey)){_.length>4&&(P("custom"),L(_.length+2));var n,s,r=Object(l.a)(_),i=Object(x.a)(null!==(e=null===K||void 0===K?void 0:K.tokens)&&void 0!==e?e:[]);try{for(i.s();!(n=i.n()).done;){var a=n.value;r.push(a.mint.toBase58())}}catch(c){i.e(c)}finally{i.f()}if(r.length>0)S(!0),Object(O.h)(null===t||void 0===t||null===(s=t.publicKey)||void 0===s?void 0:s.toBase58(),r).then((function(e){var t,n;J(null!==(t=null===(n=e.tokens)||void 0===n?void 0:n.filter((function(e){return"j6894aRvRMJlE"===e.collectionId})))&&void 0!==t?t:[]),S(!1)})).catch((function(e){Object(H.a)("Unable to fetch token list","".concat(e.message),"error"),console.error(e),S(!1)}));else S(!1),J([])}}),[U,_,K]);var ee=function(e){y(!0),function(e){return ue.apply(this,arguments)}(new d.d(e)).then((function(e){z(M+1),y(!1)})).catch((function(e){z(M+1),y(!1)}))},te=G.filter((function(e){var t;return 0===(null!==(t=null===K||void 0===K?void 0:K.tokens.filter((function(t){return t.mint.toBase58()===e.mintId})).length)&&void 0!==t?t:0)})).filter((function(e){return!X.includes(e.mintId)})),ne=G.filter((function(e){return X.includes(e.mintId)})),se=G.filter((function(e){var t;return 1===(null!==(t=null===K||void 0===K?void 0:K.tokens.filter((function(t){return t.mint.toBase58()===e.mintId})).length)&&void 0!==t?t:0)})),re=Date.now()/1e3-604800;return Object(m.jsxs)("div",{className:"bg-white flex flex-col overflow-x-hidden h-screen",children:[Object(m.jsx)(tt,{}),Object(m.jsx)(C.a,{children:Object(m.jsx)("title",{children:"Alpha.art | Stake Piggies"})}),Object(m.jsx)(Et,{isOpen:a,onClose:function(){return u(!1)}}),Object(m.jsx)(Rn,{isOpen:v}),Object(m.jsx)("div",{className:"relative",children:Object(m.jsx)("div",{className:"relative pt-6 pb-8 sm:pb-12",children:Object(m.jsx)("div",{className:"mt-16 mx-auto max-w-7xl px-4 sm:mt-24 sm:px-6",children:Object(m.jsxs)("div",{className:"text-center",children:[Object(m.jsxs)("h1",{className:"text-4xl tracking-tight font-extrabold text-gray-900 sm:text-5xl md:text-6xl",children:[Object(m.jsx)("span",{className:"block",children:"Stake your"}),Object(m.jsx)("span",{className:"block text-indigo-600",children:"Piggy Sol Gang NFT"})]}),Object(m.jsx)("p",{className:"mt-3 max-w-md mx-auto text-base text-gray-500 sm:text-lg md:mt-5 md:text-xl md:max-w-3xl",children:"Earn more on sales at alpha.art by owning Piggy Sol Gang NFT. Each piggy will reduce the service fee by 25%."})]})})})}),Object(m.jsxs)("div",{className:"mt-2 sm:mt-1",children:[U&&N&&Object(m.jsx)("div",{className:"w-full flex items-center justify-center",children:Object(m.jsx)("div",{className:"max-w-3xl",children:Object(m.jsx)(Ce,{count:16})})}),U&&K&&Object(m.jsx)("div",{className:"flex flex-col sm:items-center sm:border-t sm:border-gray-200 sm:pt-5 mb-4",children:Object(m.jsxs)("p",{className:"text-base text-center text-gray-800",children:["You currently have ",K.tokens.length," ",K.tokens.length>1?"Piggies":"Piggy"," staked.",Object(m.jsx)("br",{})," Your current AlphaArt service fee is"," ",Object(m.jsxs)("b",{children:[2-.5*Math.min(4,K.tokens.length),"%"]})]})}),U&&!N&&te.length>0&&Object(m.jsxs)("div",{className:"flex flex-col sm:items-center sm:border-t sm:border-gray-200 sm:pt-5 mb-4",children:[Object(m.jsxs)("h3",{className:"text-xl text-left mb-2",children:["Unstaked Piggies (",te.length,")"]}),Object(m.jsx)("p",{className:"max-w-md mx-auto text-sm text-gray-400 md:max-w-3xl mb-2",children:"You can stake at most 6 piggies at a time"}),Object(m.jsx)("div",{className:"grid grid-cols-1 gap-y-10 sm:grid-cols-2 gap-x-6 md:grid-cols-3 xl:grid-cols-4 xl:gap-x-8",children:te.map((function(e){return Object(m.jsxs)("div",{children:[Object(m.jsx)(h,Object(c.a)(Object(c.a)({},e),{},{aProps:{target:"_blank"}}),e.mintId),Object(m.jsx)(cn,{title:"Stake",size:"small",disabled:X.length>=6,className:"mt-1",onClick:function(){X.length<6&&$([].concat(Object(l.a)(X),[e.mintId]))}})]})}))})]}),U&&!N&&se.length>0&&Object(m.jsxs)("div",{className:"flex flex-col sm:items-center sm:border-t sm:border-gray-200 sm:pt-5 mt-4 mb-4",children:[Object(m.jsxs)("h3",{className:"text-xl text-left mb-2",children:["Staked Piggies (",se.length,")"]}),Object(m.jsx)("div",{className:"grid grid-cols-1 gap-y-10 sm:grid-cols-2 gap-x-6 md:grid-cols-3 xl:grid-cols-4 xl:gap-x-8",children:se.map((function(e){var t,n;return Object(m.jsxs)("div",{children:[Object(m.jsx)(h,Object(c.a)(Object(c.a)({},e),{},{aProps:{target:"_blank"}}),e.mintId),Object(m.jsx)(cn,{title:"Unstake",size:"small",disabled:(null!==(t=null===K||void 0===K||null===(n=K.tokens.find((function(t){return t.mint.toBase58()===e.mintId})))||void 0===n?void 0:n.stakedAt)&&void 0!==t?t:0)>re,className:"py-1 px-1 mt-1",onClick:function(){ee(e.mintId)}})]})}))})]}),Object(m.jsxs)("div",{className:"flex flex-col sm:items-center sm:border-t sm:border-gray-200 sm:pt-5",children:[!t&&!n&&Object(m.jsx)("button",{onClick:function(){return u(!0)},className:g("mt-4 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white focus:outline-none focus:ring-2 focus:ring-offset-2 ","bg-indigo-600 hover:bg-indigo-700 focus:ring-indigo-500"),children:"Connect Wallet"}),U&&!K&&Object(m.jsxs)("div",{children:[Object(m.jsx)(zn,{selected:A,startValue:_.length+2,onSelected:function(e,t){P(e),L(t)}}),Object(m.jsx)("p",{className:"mt-3 max-w-md mx-auto text-sm text-gray-500 md:max-w-3xl",children:"This value can't be changed later."})]}),X.length>0&&Object(m.jsxs)("div",{className:"flex flex-col sm:items-center sm:pt-5",children:[Object(m.jsx)("h3",{className:"text-xl text-left mb-2",children:"Piggies that will be staked"}),Object(m.jsx)("div",{className:"grid grid-cols-1 gap-y-10 sm:grid-cols-2 gap-x-6 md:grid-cols-3 xl:grid-cols-4 xl:gap-x-8",children:ne.map((function(e){return Object(m.jsxs)("div",{children:[Object(m.jsx)(h,Object(c.a)({aProps:{target:"_blank"}},e),e.mintId),Object(m.jsx)(cn,{title:"Undo",size:"small",className:"py-1 px-1 mt-1",onClick:function(){$(X.filter((function(t){return t!==e.mintId})))}})]})}))})]}),t&&n&&U&&!N&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("button",{onClick:function(){y(!0),function(e,t){return de.apply(this,arguments)}(X.map((function(e){return new d.d(e)})),W).then((function(e){z(M+1),y(!1),$([])})).catch((function(e){z(M+1),y(!1)}))},disabled:0===ne.length,className:g("mt-4 mb-4 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-base font-medium rounded-md text-white focus:outline-none focus:ring-2 focus:ring-offset-2 ",ne.length>0?"bg-indigo-600 hover:bg-indigo-700 focus:ring-indigo-500":"bg-gray-600 hover:bg-gray-600 "),children:"Start Staking"}),ne.length>0&&Object(m.jsx)("p",{className:"mt-1 max-w-md mx-auto text-sm text-gray-500 md:max-w-3xl",children:"Staked NFTs will be locked for 7 days."})]})]})]}),Object(m.jsxs)("footer",{"aria-labelledby":"footer-heading",className:"bg-white",children:[Object(m.jsx)("h2",{id:"footer-heading",className:"sr-only",children:"Footer"}),Object(m.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:Object(m.jsxs)("div",{className:"py-10 md:flex md:items-center md:justify-between",children:[Object(m.jsx)("div",{className:"text-center md:text-left",children:Object(m.jsx)("p",{className:"text-sm text-gray-500",children:"\xa9 2021 alpha.art"})}),Object(m.jsx)("div",{className:"mt-4 flex items-center justify-center md:mt-0",children:Object(m.jsx)("div",{className:"flex space-x-8",children:Dn.bottomLinks.map((function(e){return Object(m.jsx)(b.b,{to:e.href,className:"text-sm text-gray-500 hover:text-gray-600",children:e.name},e.name)}))})})]})})]})]})}var _n=[{question:"What is alpha art?",content:"\n      <p>Alpha art is the revolutionary NFT marketplace currently allowing users to buy/sell Solana based NFTs without any listing fees.</p>\n    ",avatarSrc:"https://cdn.alpha.art/opt/7/c/7cf447caaa3d597a9d21eede4c1cd0872c469cbc/340.png"},{question:"How can I start buying/selling?",content:"\n      <p>Simply connect with your wallet from the top right corner and click on your wallet name. You will be able to see all of your NFTs in the wallet which can be listed instantly on alpha art.</p>\n    ",avatarSrc:"https://cdn.alpha.art/opt/7/d/7d4063649b8c33ff077fc8b3031ca5afdc202b21/340.png"},{question:"What is the offer system on alpha art?",content:"\n      <p>We are the first and only marketplace on Solana network where you can send an offer to any NFT on our marketplace whether if it\u2019s listed or not.\n      <br />\n      <br />\n      You can simply browse any NFT and give an offer via \u201cMake Offer\u201d button which will be valid until your chosen date. Please note that when you make an offer, respective amount of SOL will be deducted from your account to be used if the seller accepts it. \n      </p>\n    ",avatarSrc:"https://cdn.alpha.art/opt/0/2/0289e4a9c5641cd1da4fd9df0e2fa55db28270e8/340.png"},{question:"How do I cancel an offer?",content:'\n      <p>\n      You can see all of your given/received offers from the "My Wallet" section which can be accessible from the top right corner given you are connected. Simply go to \u201cMy Offers\u201d section from the left menu and you can cancel any of your offers whenever you want. Respective amount of SOL will be deposited back to your wallet immediately. \n      </p>\n    ',avatarSrc:"https://cdn.alpha.art/opt/0/b/0b1e4a821d24e571d2f5265fb5fa149289aacb91/340.png"},{question:"How can I contact alpha art if there is an issue?",content:'\n      <div>\n      You can reach us for support on our <a class="text-black" href="https://discord.gg/HGvk9YDFBy" target="_blank" rel="noreferrer">discord server<a/> or via email <a class="text-black" href="mailto:support@alpha.art">support@alpha.art </a>.\n<br />\n      <strong>Please provide:</strong>\n      <li>Your email address</li>\n      <li>Your wallet address (if applicable)</li>\n      <li>The NFT id/token address you are having an issue with (if applicable)</li>\n      <li>Detailed information about the issue</li>\n      </div>\n    ',avatarSrc:"https://cdn.alpha.art/opt/b/7/b7870ac06fb279514b897e024ba9e5ad3a48340b/340.png"},{question:"I'm collection owner, How can I update banner and description?",content:"\n      <p>You can to update banner image, thumbnail, description from alpha.art website. Only token update authority will be able to update these fields.</p>\n    ",avatarSrc:"https://cdn.alpha.art/opt/3/6/36abf8ac4fa829d3767a28d4b205044628933106/340.png"},{question:"What are the fees?",content:"\n      <p>Alpha art doesn\u2019t charge any listing/unlisting/offer fees. We have 2% flat seller fee which is taken at the time of the sale.</p>\n    ",avatarSrc:"https://cdn.alpha.art/opt/2/7/277563d369fe41fe925acaaeba792e8dd6ea553c/340.png"},{question:"Can I mint NFTs on alpha art?",content:"\n      <p>Alpha art doesn\u2019t support minting at the moment.</p>\n    ",avatarSrc:"https://cdn.alpha.art/opt/3/6/36abf8ac4fa829d3767a28d4b205044628933106/340.png"},{question:"I'm collection creator, why my collection is unlisted from alpha.art",content:"\n      <p>NFT collections with royalty sharing utilities in their roadmaps have been unlisted from Alpha.art. \n      Moving forward we will not be able to list any NFT collection with such mechanics.</p>\n    ",avatarSrc:"https://cdn.alpha.art/opt/4/3/43a3c987791a4b8649007d1fbb6ab5174ce9c649/340.png"}];function Kn(){return Object(m.jsxs)("div",{className:"bg-white",children:[Object(m.jsx)(C.a,{children:Object(m.jsx)("title",{children:"Alpha.art | Frequently Asked Questions"})}),Object(m.jsx)(tt,{}),Object(m.jsxs)("div",{className:"max-w-2xl mx-auto py-16 px-4 sm:py-24 sm:px-6",children:[Object(m.jsx)("h2",{className:"font-bold text-xl",children:"Frequently Asked Questions"}),Object(m.jsx)("div",{className:"pt-2",children:_n.map((function(e,t){return Object(m.jsxs)("div",{className:"flex text-sm text-gray-500 space-x-4",children:[Object(m.jsx)("div",{className:"flex-none py-10",children:Object(m.jsx)("img",{src:e.avatarSrc,alt:"",className:"w-10 h-10 bg-gray-100 rounded-full object-cover"})}),Object(m.jsxs)("div",{className:g(0===t?"":"border-t border-gray-200","flex-1 py-10"),children:[Object(m.jsx)("h3",{className:"font-medium text-gray-900",children:e.question}),Object(m.jsx)("div",{className:"mt-4 prose prose-sm max-w-none text-gray-500",dangerouslySetInnerHTML:{__html:e.content}})]})]},t)}))})]})]})}var Hn=n(112),Vn=n.n(Hn),qn=n(149);function Yn(e){return Object(m.jsxs)("div",{className:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5",children:[Object(m.jsx)("label",{htmlFor:"input-"+e.name,className:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2",children:e.label}),Object(m.jsx)("div",{className:"mt-1 sm:mt-0 sm:col-span-2",children:Object(m.jsx)("input",{type:"text",id:"input-"+e.name,defaultValue:e.value,onChange:function(t){var n;return null===(n=e.onChange)||void 0===n?void 0:n.call(e,t.currentTarget.value)},className:"form-input max-w-lg block w-full shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:max-w-xs sm:text-sm border-gray-300 rounded-md"})})]})}var Gn={twitter:"https://twitter.com/",instagram:"https://instagram.com/",discord:"https://discord.gg/",howrare:"https://howrare.is/",website:"",alphaart:"https://alpha.art/collection/"};function Jn(e,t){if("website"===e)return t.find((function(e){return!e.startsWith(Gn.twitter)&&!e.startsWith(Gn.instagram)&&!e.startsWith(Gn.discord)&&!e.startsWith(Gn.howrare)&&!e.startsWith(Gn.alphaart)}));var n=Gn[e];return t.find((function(e){return e.startsWith(n)}))}function Qn(e){return Object(m.jsxs)("div",{className:g("max-w-lg flex rounded-md shadow-sm",e.className),children:["website"!==e.website&&Object(m.jsx)("span",{className:"inline-flex w-44 items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 sm:text-sm",children:Gn[e.website]}),Object(m.jsx)("input",{type:"text",name:"slug",id:"slug",defaultValue:e.link.replace(Gn[e.website],""),onChange:function(t){var n;return null===(n=e.onChange)||void 0===n?void 0:n.call(e,e.website,Gn[e.website]+t.currentTarget.value)},className:g("form-input flex-1 block w-full focus:ring-indigo-500 focus:border-indigo-500 min-w-0 sm:text-sm border-gray-300","website"===e.website?"rounded-md":"rounded-none rounded-r-md ")})]})}function Zn(e){var t=r.a.useState({discord:"",website:"",twitter:"",instagram:"",howrare:"",alphaart:""}),n=Object(o.a)(t,2),s=n[0],i=n[1],a=r.a.useState({discord:"",website:"",twitter:"",instagram:"",howrare:"",alphaart:""}),l=Object(o.a)(a,2),d=l[0],u=l[1];r.a.useEffect((function(){var t,n,s,r,a,c={discord:null!==(t=Jn("discord",e.links))&&void 0!==t?t:"",website:null!==(n=Jn("website",e.links))&&void 0!==n?n:"",twitter:null!==(s=Jn("twitter",e.links))&&void 0!==s?s:"",instagram:null!==(r=Jn("instagram",e.links))&&void 0!==r?r:"",howrare:null!==(a=Jn("howrare",e.links))&&void 0!==a?a:"",alphaart:""};i(c),u(c)}),[]);var b=function(t,n){var s,r=Object(c.a)(Object(c.a)({},d),{},Object(mt.a)({},t,n)),i=[];for(var a in r){var o=r[a];0!==o.length&&(0!==o.replace(Gn[a],"").length&&i.push(o))}u(r),null===(s=e.onChangeLinks)||void 0===s||s.call(e,i.sort())};return Object(m.jsxs)("div",{className:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5",children:[Object(m.jsx)("label",{htmlFor:"links",className:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2",children:"Links"}),Object(m.jsxs)("div",{className:"mt-1 sm:mt-0 sm:col-span-2",children:[Object(m.jsx)(Qn,{website:"website",link:s.website,onChange:b}),Object(m.jsx)(Qn,{website:"twitter",className:"mt-2",link:s.twitter,onChange:b}),Object(m.jsx)(Qn,{website:"discord",className:"mt-2",link:s.discord,onChange:b}),Object(m.jsx)(Qn,{website:"instagram",className:"mt-2",link:s.instagram,onChange:b}),Object(m.jsx)(Qn,{website:"howrare",className:"mt-2",link:s.howrare,onChange:b})]})]})}var Xn=/^[a-z0-9-]+$/;function $n(e){var t=r.a.useState(""),n=Object(o.a)(t,2),s=n[0],i=n[1];return Object(m.jsxs)("div",{className:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5",children:[Object(m.jsx)("label",{htmlFor:"input-collabrator",className:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2",children:"Collaborators"}),Object(m.jsxs)("div",{className:"sm:max-w-xl sm:col-span-2",children:[Object(m.jsxs)("div",{className:"sm:flex sm:items-center",children:[Object(m.jsx)("label",{htmlFor:"emails",className:"sr-only",children:"Wallet ID"}),Object(m.jsx)("div",{className:"relative rounded-md shadow-sm sm:min-w-0 sm:flex-1",children:Object(m.jsx)("input",{type:"text",id:"emails",value:s,onChange:function(e){return i(e.currentTarget.value)},placeholder:"Enter a wallet address",className:"form-input block w-full shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm border-gray-300 rounded-md"})}),Object(m.jsx)("div",{className:"mt-3 sm:mt-0 sm:ml-4 sm:flex-shrink-0",children:Object(m.jsx)("button",{onClick:function(){try{var t;if(new d.d(s),e.collaborators.includes(s))return;var n=[].concat(Object(l.a)(e.collaborators),[s]).sort();null===(t=e.onChange)||void 0===t||t.call(e,n),i("")}catch(r){console.error(r)}},className:"block w-full text-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Add"})})]}),Object(m.jsxs)("div",{className:"mt-10",children:[Object(m.jsx)("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Active Collaborators"}),0===e.collaborators.length&&Object(m.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"You haven\u2019t added any team members to your project yet."}),Object(m.jsx)("ul",{role:"list",className:"mt-4 grid grid-cols-1 gap-4",children:e.collaborators.map((function(t,n){return Object(m.jsx)("li",{children:Object(m.jsxs)("div",{className:"group p-2 w-full flex items-center justify-between rounded-md border border-gray-300 shadow-sm space-x-3 text-left ",children:[Object(m.jsx)("span",{className:"min-w-0 flex-1 flex items-center space-x-3",children:Object(m.jsx)("span",{className:"block min-w-0 flex-1",children:Object(m.jsx)(Ae,{pubkey:t})})}),Object(m.jsx)("button",{type:"button",onClick:function(){var n;null===(n=e.onChange)||void 0===n||n.call(e,e.collaborators.filter((function(e){return e!==t})).sort())},className:"flex-shrink-0 h-10 w-10 inline-flex items-center justify-center rounded-full bg-gray-200",children:Object(m.jsx)(S.o,{className:"h-5 w-5 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"})})]})},n)}))})]})]})]})}function es(e){var t=Object(p.d)((function(e){return{wallet:e.wallet,accessToken:e.accessToken}})),n=t.wallet,s=t.accessToken,i=r.a.useState(!1),a=Object(o.a)(i,2),l=a[0],d=a[1],u=Object(qn.a)({accept:["image/png","image/gif","image/jpeg"],maxFiles:1,maxSize:2097152,onDrop:function(t){e.onChange({type:"wait-for-upload",file:t[0],preview:URL.createObjectURL(t[0])})}}),b=u.getRootProps,f=u.open,j=u.getInputProps,h="banner"===e.field?"max-w-lg rounded-md h-32":"h-24 w-24 rounded-full",x="banner"===e.field?"w-96 rounded-md h-32":"h-24 w-24 rounded-full";return Object(m.jsxs)("div",{className:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-center sm:border-t sm:border-gray-200 sm:pt-5",children:[Object(m.jsx)("label",{htmlFor:"photo",className:"block text-sm font-medium text-gray-700",children:"banner"===e.field?"Banner":"Thumbnail"}),"original"===e.state.type&&Object(m.jsx)("div",{className:"mt-1 sm:mt-0 sm:col-span-2",children:Object(m.jsxs)("div",{className:"flex items-center",children:[Object(m.jsx)("span",{className:"".concat(h," overflow-hidden bg-gray-100 border-2 border-gray-300 border"),children:Object(m.jsx)("img",{src:e.state.uri,className:"h-full w-full text-gray-300",alt:""})}),Object(m.jsx)("button",{type:"button",onClick:function(){(null===n||void 0===n?void 0:n.publicKey)&&Object(O.r)(n.publicKey.toBase58()).then((function(){e.onChange({type:"reset"})})).catch((function(e){Object(H.a)("unable to sign message")}))},className:"ml-5 bg-white py-2 px-3 border border-gray-300 rounded-md shadow-sm text-sm leading-4 font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Change"})]})}),"new"===e.state.type&&Object(m.jsx)("div",{className:"mt-1 sm:mt-0 sm:col-span-2",children:Object(m.jsxs)("div",{className:"flex items-center",children:[Object(m.jsx)("span",{className:"".concat(h," overflow-hidden bg-gray-100 border-2 border-gray-300 border"),children:Object(m.jsx)("img",{src:e.state.uri,className:"h-full w-full text-gray-300",alt:""})}),Object(m.jsx)("button",{type:"button",onClick:function(){return e.onChange({type:"original",uri:e.original})},className:"ml-5 bg-white py-2 px-3 border border-gray-300 rounded-md shadow-sm text-sm leading-4 font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"})]})}),("reset"===e.state.type||"wait-for-upload"===e.state.type)&&Object(m.jsx)("div",{className:"mt-1 sm:mt-0 sm:col-span-2",children:Object(m.jsxs)("div",{className:"flex items-center",children:[Object(m.jsx)("div",Object(c.a)(Object(c.a)({},b({className:"".concat(x," overflow-hidden bg-gray-100 border-2 border-gray-300 border-dashed")})),{},{style:"wait-for-upload"===e.state.type?{backgroundImage:"url(".concat(e.state.preview,")"),backgroundSize:"cover"}:{},children:Object(m.jsx)("input",Object(c.a)({},j()))})),"reset"===e.state.type?Object(m.jsx)("button",{type:"button",onClick:f,className:"ml-5 bg-white py-2 px-3 border border-gray-300 rounded-md shadow-sm text-sm leading-4 font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Select Image"}):Object(m.jsx)("button",{type:"button",onClick:function(){if("wait-for-upload"===e.state.type&&"undefined"!==typeof(null===s||void 0===s?void 0:s.token)){d(!0);var t=new FormData;t.append("file",e.state.file),console.warn(e.state.file.type);var n=e.state.file.type.split("/")[1];fetch("".concat(K.a,"/api/v1/file/collectionupload?collection=").concat(e.collectionID,"&field=").concat(e.field,"&type=").concat(n),{method:"POST",headers:{authorization:s.token},body:t}).then((function(e){return e.json()})).then((function(t){console.log(t),t.url?e.onChange({type:"new",uri:t.url}):Object(H.a)("unable to upload image"),d(!1)})).catch((function(e){console.error(e),d(!1),Object(H.a)("unable to upload image")}))}},className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white focus:outline-none focus:ring-2 focus:ring-offset-2 bg-indigo-600 hover:bg-indigo-700 focus:ring-indigo-500",children:"Upload Image"}),l&&Object(m.jsx)(y,{size:96})]})})]})}function ts(e){var t,n,s,i,a,c,l,d,u,b,f,j,h,x,v,w,k,N,S,C,T,I,A,P,F,E,W=e.meta,L=Object(p.d)((function(e){return{wallet:e.wallet}})).wallet,B=r.a.useState(null===(t=W.collection)||void 0===t?void 0:t.slug),D=Object(o.a)(B,2),M=D[0],z=D[1],R=r.a.useState(!1),U=Object(o.a)(R,2),_=U[0],K=U[1],V=r.a.useState(null===(n=W.collection)||void 0===n?void 0:n.title),q=Object(o.a)(V,2),Y=q[0],G=q[1],J=r.a.useState(null!==(s=null===(i=W.collection)||void 0===i?void 0:i.links)&&void 0!==s?s:[]),Q=Object(o.a)(J,2),Z=Q[0],X=Q[1],$=r.a.useState(null!==(a=null===(c=W.collection)||void 0===c?void 0:c.collaborators)&&void 0!==a?a:[]),ee=Object(o.a)($,2),te=ee[0],ne=ee[1],se=r.a.useState({type:"original",uri:null===(l=W.collection)||void 0===l?void 0:l.thumbnail}),re=Object(o.a)(se,2),ie=re[0],ae=re[1],ce=r.a.useState({type:"original",uri:null===(d=W.collection)||void 0===d?void 0:d.banner}),oe=Object(o.a)(ce,2),le=oe[0],de=oe[1],ue=r.a.useState(null!==(u=null===(b=W.collection)||void 0===b?void 0:b.description)&&void 0!==u?u:""),be=Object(o.a)(ue,2),me=be[0],fe=be[1],je=(M!==(null===(f=W.collection)||void 0===f?void 0:f.slug)||Y!==(null===(j=W.collection)||void 0===j?void 0:j.title)||Z.length!==(null===(h=W.collection.links)||void 0===h?void 0:h.length)||"new"===ie.type||"new"===le.type||!Vn()(Z,null===(x=W.collection.links)||void 0===x?void 0:x.sort())||te.length!==(null===(v=W.collection.collaborators)||void 0===v?void 0:v.length)||!Vn()(te,null===(w=W.collection.collaborators)||void 0===w?void 0:w.sort())||me!==(null===(k=W.collection)||void 0===k?void 0:k.description))&&Xn.test(M);return Object(m.jsxs)("div",{className:"bg-white",children:[Object(m.jsx)(tt,{}),Object(m.jsx)(Pe,{visible:_,children:Object(m.jsxs)("div",{className:"flex flex-col items-center",children:[Object(m.jsx)("p",{children:"Saving..."}),Object(m.jsx)(y,{size:48})]})}),Object(m.jsx)("div",{className:"mx-auto py-20 px-4 sm:py-24 sm:px-6 lg:max-w-7xl lg:px-8",children:Object(m.jsxs)("div",{className:"space-y-8 divide-y divide-gray-200",children:[Object(m.jsx)("div",{className:"space-y-8 divide-y divide-gray-200 sm:space-y-5",children:Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{children:Object(m.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Update Collection"})}),Object(m.jsxs)("div",{className:"mt-6 sm:mt-5 space-y-6 sm:space-y-5",children:[Object(m.jsxs)("div",{className:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5",children:[Object(m.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2",children:"Slug"}),Object(m.jsxs)("div",{className:"mt-1 sm:mt-0 sm:col-span-2",children:[Object(m.jsxs)("div",{className:"max-w-lg flex rounded-md shadow-sm",children:[Object(m.jsx)("span",{className:"inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 sm:text-sm",children:"https://alpha.art/collection/"}),Object(m.jsx)("input",{type:"text",name:"slug",id:"slug",defaultValue:null===(N=W.collection)||void 0===N?void 0:N.slug,onChange:function(e){return z(e.currentTarget.value)},className:"form-input flex-1 block w-full focus:ring-indigo-500 focus:border-indigo-500 min-w-0 rounded-none rounded-r-md sm:text-sm border-gray-300"})]}),Object(m.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Customize your URL on alpha.art. Must only contain lowercase letters, numbers, and hyphens."})]})]}),Object(m.jsx)(Yn,{label:"Title",value:null===(S=W.collection)||void 0===S?void 0:S.title,name:"title",onChange:G}),Object(m.jsxs)("div",{className:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5",children:[Object(m.jsx)("label",{htmlFor:"about",className:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2",children:"Description"}),Object(m.jsxs)("div",{className:"mt-1 sm:mt-0 sm:col-span-2",children:[Object(m.jsx)("textarea",{id:"about",name:"about",rows:3,className:"form-textarea max-w-lg shadow-sm block w-full focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm border border-gray-300 bg-white rounded-md",defaultValue:null===(C=W.collection)||void 0===C?void 0:C.description,onChange:function(e){return fe(e.currentTarget.value)}}),Object(m.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Write a few sentences about the collection."})]})]}),Object(m.jsx)(Zn,{links:null!==(T=null===(I=W.collection)||void 0===I?void 0:I.links)&&void 0!==T?T:[],onChangeLinks:X}),Object(m.jsx)($n,{collaborators:te,onChange:function(e){return ne(e)}}),Object(m.jsx)(es,{field:"thumbnail",state:ie,onChange:ae,collectionID:null===(A=W.collection)||void 0===A?void 0:A.id,original:null===(P=W.collection)||void 0===P?void 0:P.thumbnail}),Object(m.jsx)(es,{field:"banner",state:le,onChange:de,collectionID:null===(F=W.collection)||void 0===F?void 0:F.id,original:null===(E=W.collection)||void 0===E?void 0:E.banner})]})]})}),Object(m.jsx)("div",{className:"pt-5",children:Object(m.jsx)("div",{className:"flex justify-end",children:Object(m.jsx)("button",{type:"submit",disabled:!je,onClick:function(){var t,n,s,r,i,a,c,o,l,d,u,b,m;K(!0);var f=[],j={id:null===(t=W.collection)||void 0===t?void 0:t.id};M!==(null===(n=W.collection)||void 0===n?void 0:n.slug)&&Xn.test(M)&&(f.push("slug"),j.slug=M),Y!==(null===(s=W.collection)||void 0===s?void 0:s.title)&&(f.push("title"),j.title=Y),me!==(null===(r=W.collection)||void 0===r?void 0:r.description)&&(f.push("description"),j.description=me),Z.length===(null===(i=W.collection)||void 0===i||null===(a=i.links)||void 0===a?void 0:a.length)&&Vn()(Z,null===(c=W.collection)||void 0===c||null===(o=c.links)||void 0===o?void 0:o.sort())||(f.push("links"),j.links=Z),"new"===ie.type&&(f.push("thumbnail"),j.thumbnail=ie.uri),"new"===le.type&&(f.push("banner"),j.banner=le.uri),Z.length===(null===(l=W.collection)||void 0===l||null===(d=l.links)||void 0===d?void 0:d.length)&&Vn()(te,null===(u=W.collection)||void 0===u||null===(b=u.collaborators)||void 0===b?void 0:b.sort())||(f.push("collaborators"),j.collaborators=te),Object(O.u)(null===L||void 0===L||null===(m=L.publicKey)||void 0===m?void 0:m.toBase58(),f,j).then((function(t){var n;Object(H.a)("collection saved"),K(!1),null===(n=e.reload)||void 0===n||n.call(e,t)})).catch((function(e){var t;Object(H.a)("unable to save collection",null!==(t=e.message)&&void 0!==t?t:"".concat(e)),K(!1)}))},className:g("ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white focus:outline-none focus:ring-2 focus:ring-offset-2 ",je?"bg-indigo-600 hover:bg-indigo-700 focus:ring-indigo-500":"bg-gray-600 "),children:"Save"})})})]})})]})}function ns(){var e=w(Object(k.h)().slug),t=Object(o.a)(e,2),n=t[0],s=(t[1],Object(p.d)((function(e){return{wallet:e.wallet,isConnected:e.isConnected,user:e.user}}))),i=s.wallet,a=s.isConnected,l=s.user,d=Object(p.c)(),u=r.a.useState(!1),b=Object(o.a)(u,2),f=b[0],j=b[1];if(n){if(i&&i.publicKey&&a){var h,x,v,O=i.publicKey.toBase58();return(null===(h=n.collection)||void 0===h?void 0:h.authorityPubkey)===O||(null===(x=n.collection)||void 0===x||null===(v=x.collaborators)||void 0===v?void 0:v.includes(O))||!0===(null===l||void 0===l?void 0:l.isAdmin)?Object(m.jsx)(ts,{meta:n,reload:function(e){d({type:"AddCollectionMeta",data:Object(c.a)(Object(c.a)({},n),{},{collection:e})})}}):Object(m.jsxs)("div",{className:"bg-white",children:[Object(m.jsx)(tt,{}),Object(m.jsx)("div",{className:"mx-auto py-20 px-4 sm:py-24 sm:px-6 lg:max-w-7xl lg:px-8",children:Object(m.jsx)("div",{className:"space-y-8 divide-y divide-gray-200",children:Object(m.jsx)("div",{className:"space-y-8 divide-y divide-gray-200 sm:space-y-5",children:Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{children:Object(m.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Update Collection"})}),Object(m.jsx)("div",{className:"mt-6 sm:mt-5 space-y-6 sm:space-y-5",children:Object(m.jsx)("div",{className:"flex flex-col sm:items-start sm:border-t sm:border-gray-200 sm:pt-5",children:Object(m.jsx)("p",{className:"font-base",children:"You are not authorized to update this collection"})})})]})})})})]})}return Object(m.jsxs)("div",{className:"bg-white",children:[Object(m.jsx)(tt,{}),Object(m.jsx)(Et,{isOpen:f,onClose:function(){return j(!1)}}),Object(m.jsx)("div",{className:"mx-auto py-20 px-4 sm:py-24 sm:px-6 lg:max-w-7xl lg:px-8",children:Object(m.jsx)("div",{className:"space-y-8 divide-y divide-gray-200",children:Object(m.jsx)("div",{className:"space-y-8 divide-y divide-gray-200 sm:space-y-5",children:Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{children:Object(m.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Update Collection"})}),Object(m.jsx)("div",{className:"mt-6 sm:mt-5 space-y-6 sm:space-y-5",children:Object(m.jsxs)("div",{className:"flex flex-col sm:items-start sm:border-t sm:border-gray-200 sm:pt-5",children:[Object(m.jsx)("p",{className:"font-base",children:"Please connect your wallet to update this collection"}),Object(m.jsx)("button",{type:"submit",onClick:function(){return j(!0)},className:g("mt-4 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white focus:outline-none focus:ring-2 focus:ring-offset-2 ","bg-indigo-600 hover:bg-indigo-700 focus:ring-indigo-500"),children:"Connect Wallet"})]})})]})})})})]})}return Object(m.jsxs)("div",{className:"bg-white",children:[Object(m.jsx)(tt,{}),Object(m.jsx)("div",{className:"mx-auto py-20 px-4 sm:py-24 sm:px-6 lg:max-w-7xl lg:px-8",children:Object(m.jsx)("div",{className:"space-y-8 divide-y divide-gray-200",children:Object(m.jsx)("div",{className:"space-y-8 divide-y divide-gray-200 sm:space-y-5",children:Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{children:Object(m.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Update Collection"})}),Object(m.jsx)("div",{className:"mt-6 sm:mt-5 space-y-6 sm:space-y-5",children:Object(m.jsx)("div",{className:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5"})}),Object(m.jsx)(y,{size:64})]})})})})]})}function ss(e){var t=Object(s.useState)(!0),n=Object(o.a)(t,2),r=n[0],i=n[1];return Object(m.jsx)("div",{className:"w-full flex flex-col items-center space-y-4 sm:items-start mt-2",children:Object(m.jsx)(z.a,{show:r,as:s.Fragment,enter:"transform ease-out duration-300 transition",enterFrom:"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-2",enterTo:"translate-y-0 opacity-100 sm:translate-x-0",leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:Object(m.jsx)("div",{className:"max-w-sm w-full bg-white shadow-lg rounded-lg pointer-events-auto ring-1 ring-black ring-opacity-5 overflow-hidden",children:Object(m.jsx)("div",{className:"p-4",children:Object(m.jsxs)("div",{className:"flex items-start",children:[Object(m.jsx)("div",{className:"flex-shrink-0",children:"error"===e.type?Object(m.jsx)(S.f,{className:"h-6 w-6 text-red-400","aria-hidden":"true"}):Object(m.jsx)(N.c,{className:"h-6 w-6 text-green-400","aria-hidden":"true"})}),Object(m.jsxs)("div",{className:"ml-3 w-0 flex-1 pt-0.5",children:[Object(m.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.title}),Object(m.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:e.subtitle})]}),Object(m.jsx)("div",{className:"ml-4 flex-shrink-0 flex",children:Object(m.jsxs)("button",{className:"bg-white rounded-md inline-flex text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:function(){i(!1)},children:[Object(m.jsx)("span",{className:"sr-only",children:"Close"}),Object(m.jsx)(S.q,{className:"h-5 w-5","aria-hidden":"true"})]})})]})})})})})}function rs(){var e=Object(p.d)((function(e){return e.notifications}));return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{"aria-live":"assertive",className:"z-50 fixed inset-0 flex items-end px-4 py-6 pointer-events-none sm:p-6 sm:items-start flex-col-reverse",children:e.map((function(e){return Object(m.jsx)(ss,Object(c.a)({},e),e.id)}))})})}var is=n(494),as=n(489),cs=n(232),os=n(490),ls=n(491),ds=n(492),us=n(493),bs=n(485),ms=n(486),fs=["ADDED_NEW_TO_OLD","ADDED_OLD_TO_NEW","MINTED_NEW_TO_OLD","MINTED_OLD_TO_NEW"],js={ADDED_NEW_TO_OLD:"Added: New to Old",ADDED_OLD_TO_NEW:"Added: Old to New",MINTED_NEW_TO_OLD:"Mint Time: New to Old",MINTED_OLD_TO_NEW:"Mint Time: Old to New",TOTAL_ITEMS_HIGH_TO_LOW:"Total Items: \u2b07\ufe0f",TOTAL_ITEMS_LOW_TO_HIGH:"Total Items: \u2b06\ufe0f"},hs={WAITING:"Waiting for Approval",REJECTED:"Rejected",ACCEPTED:"Accepted",All:"All"},xs=["All","WAITING","ACCEPTED","REJECTED"];function ps(e){return!0===e.featured?"Featured":e.acceptStatus?hs[e.acceptStatus]:e.accepted?"Accepted":"Waiting for Approval"}function gs(e){return Object(m.jsxs)(M.a,{as:"div",className:"relative inline-block text-left",children:[Object(m.jsx)("div",{children:Object(m.jsxs)(M.a.Button,{className:"group inline-flex justify-center text-sm font-medium text-gray-700 hover:text-gray-900",children:[e.titles[e.value],Object(m.jsx)(S.d,{className:"flex-shrink-0 -mr-1 ml-1 h-5 w-5 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"})]})}),Object(m.jsx)(z.a,{as:r.a.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:Object(m.jsx)(M.a.Items,{className:"z-50 origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-2xl bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",children:Object(m.jsx)("div",{className:"py-1",children:e.allValues.map((function(t){return Object(m.jsx)(M.a.Item,{children:function(n){var s=n.active;return Object(m.jsx)("button",{onClick:function(){return e.onChange(t)},disabled:t===e.value,className:g(t===e.value?"font-medium text-gray-900":"text-gray-500",s?"bg-gray-100":"","block px-4 py-2 text-sm w-full text-left"),children:e.titles[t]})}},t)}))})})})]})}function vs(){var e,t=Object(p.d)((function(e){return{wallet:e.wallet,accessToken:e.accessToken}})),n=t.wallet,r=t.accessToken,i=Object(s.useState)(!1),a=Object(o.a)(i,2),c=a[0],l=a[1],d=Object(s.useState)(!1),u=Object(o.a)(d,2),f=u[0],j=u[1],h=Object(s.useState)([]),x=Object(o.a)(h,2),v=x[0],y=x[1],w=Object(s.useState)(0),k=Object(o.a)(w,2),T=k[0],I=k[1],A=Object(s.useState)("ADDED_NEW_TO_OLD"),P=Object(o.a)(A,2),F=P[0],E=P[1],W=Object(s.useState)("All"),L=Object(o.a)(W,2),B=L[0],D=L[1],M=r&&(null===r||void 0===r?void 0:r.expAt)>Date.now()/1e3,z=null!==(e=null===r||void 0===r?void 0:r.admin)&&void 0!==e&&e,R=function(e,t,s){l(!0);var r={limit:30,offset:30*e,orderBy:t,matchFields:{paths:[]},matchValues:{}};"All"!==s&&(r.matchFields.paths.push("accept_status"),r.matchValues.acceptStatus=[s]),Object(O.d)(n.publicKey.toBase58(),r).then((function(e){y(e)})).finally((function(){l(!1),j(!1)}))};Object(s.useEffect)((function(){(null===n||void 0===n?void 0:n.publicKey)&&M&&(r.admin?R(0,F,B):(l(!0),Object(O.k)(n.publicKey.toBase58()).then((function(e){y(e)})).finally((function(){l(!1)}))))}),[null===n||void 0===n?void 0:n.publicKey,M]);var U=function(e){I(e),R(e,F,B)},_=Object(We.b)();return Object(m.jsxs)("div",{className:"bg-white",children:[Object(m.jsx)(tt,{}),Object(m.jsx)(C.a,{children:Object(m.jsx)("title",{children:"Alpha.art | Collection Submissions"})}),Object(m.jsx)("div",{className:"mx-auto py-20 sm:py-24 lg:max-w-7xl",children:Object(m.jsx)("div",{className:"space-y-8 divide-y divide-gray-200",children:Object(m.jsxs)("div",{className:"space-y-8 divide-y divide-gray-200 sm:space-y-5",children:[Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"flex flex-row items-center pb-4 border-b-2",children:[Object(m.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900 flex-1",children:"Collection Submissions"}),r&&Object(m.jsx)(b.b,{to:"/submissions/new",className:"bg-indigo-600 dark:bg-indigo-600 dark:text-white border border-transparent rounded-md py-2 px-4 flex items-center justify-center text-sm font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-50 focus:ring-indigo-500",children:"Submit Collection"})]}),!n&&Object(m.jsx)("div",{className:"mt-6 sm:mt-5 space-y-6 sm:space-y-5",children:Object(m.jsxs)("div",{className:"flex flex-col flex-1 items-center",children:[Object(m.jsx)("p",{className:"font-base",children:"You need to connect your wallet"}),Object(m.jsx)("button",{type:"button",onClick:function(){_.setVisible(!0)},className:"mt-4 bg-indigo-600 dark:bg-indigo-600 dark:text-white border border-transparent rounded-md py-2 px-4 flex items-center justify-center text-sm font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-50 focus:ring-indigo-500",children:"Connect Wallet"})]})}),n&&!M&&Object(m.jsx)("div",{className:"mt-6 sm:mt-5 space-y-6 sm:space-y-5",children:Object(m.jsxs)("div",{className:"flex flex-col flex-1 items-center",children:[Object(m.jsx)("p",{className:"font-base",children:"You need to sign the request to see this page."}),Object(m.jsx)("button",{type:"button",onClick:function(){Object(O.r)(n.publicKey.toBase58())},className:"mt-4 bg-indigo-600 dark:bg-indigo-600 dark:text-white border border-transparent rounded-md py-2 px-4 flex items-center justify-center text-sm font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-50 focus:ring-indigo-500",children:"Sign Request"})]})}),n&&M&&z&&Object(m.jsxs)("div",{className:"bg-gray-100 flex items-center mb-4 px-4 py-4 z-10",children:[Object(m.jsx)("button",{className:"text-gray-700 hover:text-gray-900",onClick:function(){I(0),j(!0),R(0,F,B)},disabled:f,children:Object(m.jsx)(S.l,{className:g("flex-shrink-0 mr-3 h-5 w-5",f?"animate-spin":"")})}),Object(m.jsx)(gs,{allValues:fs,onChange:function(e){E(e),I(0),R(0,e,B)},titles:js,value:F}),Object(m.jsx)("p",{className:"ml-4 mr-2 text-sm",children:"Filter By:"}),Object(m.jsx)(gs,{allValues:xs,onChange:function(e){I(0),D(e),R(0,F,e)},titles:hs,value:B})]}),n&&M&&!c&&0===v.length&&Object(m.jsx)("div",{className:"mt-6 sm:mt-5 space-y-6 sm:space-y-5",children:Object(m.jsxs)("div",{className:"flex flex-col flex-1 items-center",children:[Object(m.jsx)("p",{className:"font-base",children:"You don't have any active submission."}),Object(m.jsx)(b.b,{to:"/submissions/new",className:"mt-4 bg-indigo-600 dark:bg-indigo-600 dark:text-white border border-transparent rounded-md py-2 px-4 flex items-center justify-center text-sm font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-50 focus:ring-indigo-500",children:"Submit Collection"})]})}),c&&Object(m.jsx)("div",{className:"mt-6 sm:mt-5 space-y-6 sm:space-y-5",children:Object(m.jsx)("div",{className:"flex flex-col flex-1 items-center",children:Object(m.jsx)("p",{className:"font-base",children:"Loading"})})}),n&&M&&!c&&Object(m.jsx)("ul",{role:"list",className:"divide-y divide-gray-200",children:v.map((function(e){return Object(m.jsx)("li",{children:Object(m.jsx)(b.b,{to:"/submissions/"+e.id,className:"block hover:bg-gray-50",children:Object(m.jsxs)("div",{className:"flex items-center py-4",children:[Object(m.jsxs)("div",{className:"min-w-0 flex-1 flex items-center",children:[Object(m.jsx)("div",{className:"flex-shrink-0",children:e.pfp?Object(m.jsx)("img",{className:"h-12 w-12 rounded-full",src:e.pfp,alt:"Collection Thumbnail"}):Object(m.jsx)("div",{className:"h-12 w-12 rounded-full bg-gray-500"})}),Object(m.jsxs)("div",{className:"min-w-0 flex-1 px-4 md:grid md:grid-cols-2 md:gap-4",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{className:"text-sm font-medium text-indigo-600 truncate",children:e.name}),Object(m.jsx)("p",{className:"mt-2 flex items-center text-sm text-gray-500",children:Object(m.jsx)("span",{className:"truncate",children:e.description})})]}),Object(m.jsx)("div",{className:"hidden md:block",children:Object(m.jsxs)("div",{children:[e.featured?Object(m.jsxs)("p",{className:"text-sm text-gray-900",children:["Featured from"," ",Object(m.jsx)("time",{dateTime:e.featureFrom,children:Object(ft.default)(new Date(e.featureFrom),"d MMMM yyyy hh:mm O")})," ","until"," ",Object(m.jsx)("time",{dateTime:e.featureUntil,children:Object(ft.default)(new Date(e.featureUntil),"d MMMM yyyy hh:mm O")})]}):e.acceptedAt?Object(m.jsxs)("p",{className:"text-sm text-gray-900",children:["Accepted at"," ",Object(m.jsx)("time",{dateTime:e.acceptedAt,children:Object(ft.default)(new Date(e.acceptedAt),"d MMMM yyyy hh:mm O")})]}):Object(m.jsxs)("p",{className:"text-sm text-gray-900",children:["Created at"," ",Object(m.jsx)("time",{dateTime:e.addedAt,children:Object(ft.default)(new Date(e.addedAt),"d MMMM yyyy hh:mm O")})]}),Object(m.jsxs)("p",{className:"mt-2 flex items-center text-sm text-gray-500",children:[Object(m.jsx)(N.c,{className:g("flex-shrink-0 mr-1.5 h-5 w-5",(t=e,!0===t.featured?"text-green-400":"ACCEPTED"===t.acceptStatus?"text-blue-400":"REJECTED"===t.acceptStatus?"text-red-400":"text-gray-400")),"aria-hidden":"true"}),ps(e)]}),Object(m.jsxs)("p",{className:"text-xs text-gray-900 mt-2",children:["Mint time:"," ",Object(m.jsx)("time",{dateTime:e.mintTime,children:Object(ft.default)(new Date(e.mintTime),"d MMMM yyyy hh:mm O")})]})]})})]})]}),Object(m.jsx)("div",{children:Object(m.jsx)(N.e,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})})]})})},e.name);var t}))})]}),z&&Object(m.jsxs)("div",{className:"flex-1 flex justify-between sm:justify-end pt-4",children:[Object(m.jsx)("button",{disabled:T<1,className:g("relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md bg-white hover:bg-gray-50",T<1?"text-gray-400":"text-gray-700 "),onClick:function(){U(T-1)},children:"Previous"}),Object(m.jsx)("div",{className:"flex justify-center items-center mx-2",children:Object(m.jsx)("p",{className:"text-base",children:T+1})}),Object(m.jsx)("button",{disabled:v.length<30,className:g("relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md bg-white hover:bg-gray-50",v.length<30?"text-gray-400":"text-gray-700 "),onClick:function(){U(T+1)},children:"Next"})]})]})})})]})}var ys=["WAITING","REJECTED","ACCEPTED"];function Os(e){var t=r.a.useState(""),n=Object(o.a)(t,2),s=n[0],i=n[1];return Object(m.jsxs)("div",{className:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5",children:[Object(m.jsx)("label",{htmlFor:"input-collabrator",className:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2",children:"Candy Machine Ids"}),Object(m.jsxs)("div",{className:"sm:max-w-xl sm:col-span-2",children:[Object(m.jsxs)("div",{className:"sm:flex sm:items-center",children:[Object(m.jsx)("label",{htmlFor:"emails",className:"sr-only",children:"Candy Machine Id"}),Object(m.jsx)("div",{className:"relative rounded-md shadow-sm sm:min-w-0 sm:flex-1",children:Object(m.jsx)("input",{type:"text",id:"emails",value:s,onChange:function(e){return i(e.currentTarget.value)},placeholder:"Enter a candy machine id",className:"form-input block w-full shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm border-gray-300 rounded-md"})}),Object(m.jsx)("div",{className:"mt-3 sm:mt-0 sm:ml-4 sm:flex-shrink-0",children:Object(m.jsx)("button",{type:"button",onClick:function(){try{var t;if(new d.d(s),e.candyIds.includes(s))return;var n=[].concat(Object(l.a)(e.candyIds),[s]).sort();null===(t=e.onChange)||void 0===t||t.call(e,n),i("")}catch(r){console.error(r)}},className:"block w-full text-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 nightwind-prevent",children:"Add"})})]}),Object(m.jsxs)("div",{className:"mt-10",children:[Object(m.jsx)("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Candy Machine Ids"}),0===e.candyIds.length&&Object(m.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"You haven\u2019t added any candy machine id yet."}),Object(m.jsx)("ul",{role:"list",className:"mt-4 grid grid-cols-1 gap-4",children:e.candyIds.map((function(t,n){return Object(m.jsx)("li",{children:Object(m.jsxs)("div",{className:"group p-2 w-full flex items-center justify-between rounded-md border border-gray-300 shadow-sm space-x-3 text-left ",children:[Object(m.jsx)("span",{className:"min-w-0 flex-1 flex items-center space-x-3",children:Object(m.jsx)("span",{className:"block min-w-0 flex-1",children:t})}),Object(m.jsx)("button",{type:"button",onClick:function(){var n;null===(n=e.onChange)||void 0===n||n.call(e,e.candyIds.filter((function(e){return e!==t})).sort())},className:"flex-shrink-0 h-10 w-10 inline-flex items-center justify-center rounded-full bg-gray-200",children:Object(m.jsx)(N.h,{className:"h-5 w-5 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"})})]})},n)}))})]})]})]})}var ws=n(237),ks=n(370);function Ns(){var e=Object(k.h)(),t=Object(We.b)(),n=Object(p.d)((function(e){return{wallet:e.wallet,accessToken:e.accessToken}})),r=n.wallet,i=n.accessToken,a=Object(s.useState)(!1),c=Object(o.a)(a,2),l=c[0],d=c[1],u=Object(s.useState)(),f=Object(o.a)(u,2),j=f[0],h=f[1],x="new"!==e.id||j,g=i&&(null===i||void 0===i?void 0:i.expAt)>Date.now()/1e3;return Object(s.useEffect)((function(){(null===r||void 0===r?void 0:r.publicKey)&&g&&x&&"new"!==e.id&&(d(!0),Object(O.f)(r.publicKey.toBase58(),e.id).then((function(e){h(e)})).finally((function(){d(!1)})))}),[null===r||void 0===r?void 0:r.publicKey,x,g]),Object(m.jsxs)("div",{className:"bg-white",children:[Object(m.jsx)(tt,{}),Object(m.jsx)(C.a,{children:Object(m.jsxs)("title",{children:["Alpha.art | ",x?"Update":"New"," Collection Submission"]})}),Object(m.jsx)("div",{className:"mx-auto py-20 px-4 sm:py-24 sm:px-6 lg:max-w-7xl lg:px-8",children:Object(m.jsx)("div",{className:"space-y-8 divide-y divide-gray-200",children:Object(m.jsx)("div",{className:"space-y-8 divide-y divide-gray-200 sm:space-y-5",children:Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"flex flex-row items-center pb-4 border-b-2",children:Object(m.jsxs)("h3",{className:"text-lg leading-6 font-medium text-gray-900 flex-1 flex flex-row items-center",children:[Object(m.jsx)(b.b,{to:"/submissions",children:Object(m.jsx)(N.a,{className:"h-6 w-6 mr-4"})}),x?"Update":"New"," Collection Submission"]})}),!r&&Object(m.jsx)("div",{className:"mt-6 sm:mt-5 space-y-6 sm:space-y-5",children:Object(m.jsxs)("div",{className:"flex flex-col flex-1 items-center",children:[Object(m.jsx)("p",{className:"font-base",children:"You need to connect your wallet"}),Object(m.jsx)("button",{type:"button",onClick:function(){t.setVisible(!0)},className:"mt-4 bg-indigo-600 dark:bg-indigo-600 dark:text-white border border-transparent rounded-md py-2 px-4 flex items-center justify-center text-sm font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-50 focus:ring-indigo-500",children:"Connect Wallet"})]})}),r&&(!i||(null===i||void 0===i?void 0:i.expAt)<Date.now()/1e3)&&Object(m.jsx)("div",{className:"mt-6 sm:mt-5 space-y-6 sm:space-y-5",children:Object(m.jsxs)("div",{className:"flex flex-col flex-1 items-center",children:[Object(m.jsx)("p",{className:"font-base",children:"You need to sign the request to see this page."}),Object(m.jsx)("button",{type:"button",onClick:function(){Object(O.r)(r.publicKey.toBase58())},className:"mt-4 bg-indigo-600 dark:bg-indigo-600 dark:text-white border border-transparent rounded-md py-2 px-4 flex items-center justify-center text-sm font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-50 focus:ring-indigo-500",children:"Sign Request"})]})}),l&&Object(m.jsx)("div",{className:"mt-6 sm:mt-5 space-y-6 sm:space-y-5",children:Object(m.jsx)("div",{className:"flex flex-col flex-1 items-center",children:Object(m.jsx)("p",{className:"font-base",children:"Loading"})})}),r&&i&&!l&&Object(m.jsx)(Ss,{listing:j,setListing:h},JSON.stringify(j))]})})})})]})}function Ss(e){var t,n,i,a=e.listing,c=Object(p.d)((function(e){return{wallet:e.wallet,user:e.user}})),l=c.wallet,d=c.user,u=Object(s.useState)((null===a||void 0===a?void 0:a.candyIds)||[]),b=Object(o.a)(u,2),f=b[0],j=b[1],h=Object(s.useState)((null===a||void 0===a?void 0:a.mintTime)?new Date(a.mintTime):new Date),g=Object(o.a)(h,2),v=g[0],y=g[1],w=Object(s.useState)((null===a||void 0===a?void 0:a.featureFrom)?new Date(a.featureFrom):new Date),k=Object(o.a)(w,2),N=k[0],S=k[1],C=Object(s.useState)((null===a||void 0===a?void 0:a.featureUntil)?new Date(a.featureUntil):new Date),T=Object(o.a)(C,2),I=T[0],A=T[1],P=r.a.useState(null!==(t=null===a||void 0===a?void 0:a.otherLinks)&&void 0!==t?t:[]),F=Object(o.a)(P,2),E=(F[0],F[1]),W=r.a.useState((null===a||void 0===a?void 0:a.pfp)?{type:"original",uri:null===a||void 0===a?void 0:a.pfp}:{type:"reset"}),L=Object(o.a)(W,2),B=L[0],D=L[1],M=r.a.useState((null===a||void 0===a?void 0:a.banner)?{type:"original",uri:null===a||void 0===a?void 0:a.banner}:{type:"reset"}),z=Object(o.a)(M,2),R=z[0],U=z[1],_=r.a.useState((null===a||void 0===a?void 0:a.featuredImage)?{type:"original",uri:null===a||void 0===a?void 0:a.featuredImage}:{type:"reset"}),K=Object(o.a)(_,2),V=K[0],q=K[1],Y=function(e){return e.replace(/[A-Z]/g,(function(e){return"_".concat(e.toLowerCase())}))};return Object(m.jsx)("div",{className:"bg-white",children:Object(m.jsx)("form",{onSubmit:function(t){t.preventDefault();var n,s=new FormData(t.target),r=Object(x.a)(s.entries());try{for(r.s();!(n=r.n()).done;){var i=n.value;console.log(i[0]+", "+i[1])}}catch(D){r.e(D)}finally{r.f()}var c={};a&&(c.id=a.id);var o=s.get("name"),u=s.get("description"),b=s.get("twitter"),m=s.get("discord"),j=s.get("howrare"),h=s.get("website"),p=s.get("instagram"),g=s.get("totalItems"),y=s.get("email"),w=s.get("discordId"),k=s.get("other"),S="yes"===s.get("minted"),C=s.get("accepted"),T=s.get("acceptStatus"),A=s.get("featured"),P=s.get("reached"),F=s.get("ownerPubkey");if(c.name=o,c.description=u,b&&(c.twitter=Gn.twitter+b),m&&(c.discordInvite=Gn.discord+m),j||p||h){var E,W,L;if(c.otherLinks=[],j)null===(E=c.otherLinks)||void 0===E||E.push(Gn.howrare+j);if(p)null===(W=c.otherLinks)||void 0===W||W.push(Gn.instagram+p);if(h)null===(L=c.otherLinks)||void 0===L||L.push(h)}("new"===B.type&&(c.pfp=B.uri),"new"===R.type&&(c.banner=R.uri),"new"===V.type&&(c.featuredImage=V.uri),"wait-for-upload"!==B.type&&"wait-for-upload"!==R.type&&"wait-for-upload"!==V.type)?(c.ownerPubkey=F||l.publicKey.toBase58(),c.candyIds=f,c.email=y,c.minted=S,c.mintTime=v.toISOString(),c.totalItems=parseInt(g),c.discordId=w,c.other=k,(null===d||void 0===d?void 0:d.isAdmin)&&(null!==C&&(c.accepted="yes"===C),T&&(c.acceptStatus=T),null!==A&&(c.featured="yes"===A),null!==P&&(c.reached="yes"===P),c.featured&&(c.featureFrom=N.toISOString(),c.featureUntil=I.toISOString())),a?function(t){var n=[],s=a;Object.keys(t).forEach((function(e){"mintTime"===e||"featureFrom"===e||"featureUntil"===e?0!==Object(ws.a)(Object(ks.default)(s[e]),Object(ks.default)(t[e]))&&n.push(Y(e)):JSON.stringify(s[e]||"")!==JSON.stringify(t[e]||"")&&n.push(Y(e))})),0!==n.length?Object(O.v)(l.publicKey.toBase58(),n,t).then((function(){Object(O.f)(l.publicKey.toBase58(),t.id).then((function(t){e.setListing(t),Object(H.a)("Collection Submission Updated")}))})):Object(H.a)("Nothing to update",void 0,"error")}(c):function(t){Object(O.q)(l.publicKey.toBase58(),t).then((function(t){Object(O.f)(l.publicKey.toBase58(),t).then((function(n){window.history.replaceState(null,"Alpha.art | Update Collection Submission","/submissions/"+t),e.setListing(n),Object(H.a)("Collection Submitted")}))}))}(c)):Object(H.a)("Seems like you forget to upload images",void 0,"error")},children:Object(m.jsx)("div",{className:"mx-auto lg:max-w-7xl",children:Object(m.jsxs)("div",{className:"space-y-16 divide-y divide-gray-200",children:[Object(m.jsxs)("div",{className:"space-y-16 divide-y divide-gray-200",children:[Object(m.jsxs)("div",{className:"mt-6 sm:mt-5 space-y-12 sm:space-y-5",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Collection Information"}),Object(m.jsx)("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"This information will be displayed publicly."})]}),Object(m.jsxs)("div",{className:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5",children:[Object(m.jsx)("label",{htmlFor:"links",className:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2",children:"Name"}),Object(m.jsx)("div",{className:"mt-1 sm:mt-0 sm:col-span-2",children:Object(m.jsx)("input",{id:"name",name:"name",type:"name",required:!0,defaultValue:null===a||void 0===a?void 0:a.name,className:"form-input appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},"name-"+(null===a||void 0===a?void 0:a.name))})]}),Object(m.jsxs)("div",{className:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5",children:[Object(m.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2",children:"Description"}),Object(m.jsxs)("div",{className:"mt-1 sm:mt-0 sm:col-span-2",children:[Object(m.jsx)("textarea",{id:"description",name:"description",required:!0,rows:3,className:"form-textarea max-w-lg shadow-sm block w-full focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm border border-gray-300 bg-white rounded-md",defaultValue:null===a||void 0===a?void 0:a.description}),Object(m.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Write a few sentences about the collection."})]})]}),Object(m.jsx)(Ps,{title:"Twitter",website:"twitter",link:null===a||void 0===a?void 0:a.twitter,updateLink:function(){}}),Object(m.jsx)(Ps,{title:"Discord",website:"discord",link:null===a||void 0===a?void 0:a.discordInvite,updateLink:function(){}}),Object(m.jsx)(As,{title:"Other Links",isAdmin:null===d||void 0===d?void 0:d.isAdmin,links:null!==(n=null===a||void 0===a?void 0:a.otherLinks)&&void 0!==n?n:[],onChangeLinks:E}),Object(m.jsx)(Ls,{field:"thumbnail",state:B,onChange:D,original:null===a||void 0===a?void 0:a.pfp}),Object(m.jsx)(Ls,{field:"banner",state:R,onChange:U,original:null===a||void 0===a?void 0:a.banner}),Object(m.jsx)(Ls,{field:"featuredImage",state:V,onChange:q,original:null===a||void 0===a?void 0:a.featuredImage})]}),Object(m.jsxs)("div",{className:"mt-6 sm:mt-5 space-y-12 sm:space-y-5",children:[Object(m.jsxs)("div",{className:"mt-6",children:[Object(m.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Minting"}),Object(m.jsx)("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Details about minting"})]}),Object(m.jsxs)("div",{className:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5",children:[Object(m.jsx)("label",{htmlFor:"links",className:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2",children:"Total Number of Items"}),Object(m.jsx)("div",{className:"mt-1 sm:mt-0 sm:col-span-2",children:Object(m.jsx)("input",{id:"totalItems",name:"totalItems",type:"number",defaultValue:null===a||void 0===a?void 0:a.totalItems,className:"form-input appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},"totalItems-"+(null===a||void 0===a?void 0:a.totalItems))})]}),Object(m.jsx)(Cs,{title:"Is collection minted?",name:"minted",required:!0,defaultValue:null===a||void 0===a?void 0:a.minted}),Object(m.jsx)(Os,{candyIds:f,onChange:j}),Object(m.jsx)(Is,{title:"Mint Date",date:v,setDate:y})]}),Object(m.jsxs)("div",{className:"mt-6 sm:mt-5 space-y-6 sm:space-y-5",children:[Object(m.jsxs)("div",{className:"mt-6",children:[Object(m.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Contact"}),Object(m.jsx)("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:Object(m.jsx)("b",{children:" This information won't be shared publicly."})})]}),Object(m.jsxs)("div",{className:"mt-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5",children:[Object(m.jsx)("label",{"aria-required":"true",htmlFor:"email",className:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2",children:"Email"}),Object(m.jsx)("div",{className:"mt-1 sm:mt-0 sm:col-span-2",children:Object(m.jsx)("input",{id:"email",name:"email",type:"email",required:!0,autoComplete:"email",defaultValue:null===a||void 0===a?void 0:a.email,className:"form-input appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},"email-"+(null===a||void 0===a?void 0:a.email))})]}),Object(m.jsxs)("div",{className:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5",children:[Object(m.jsxs)("label",{htmlFor:"links",className:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2",children:["Discord Id",Object(m.jsx)("p",{className:"text-xs text-gray-500",children:"Optional"})]}),Object(m.jsx)("div",{className:"mt-1 sm:mt-0 sm:col-span-2",children:Object(m.jsx)("input",{id:"discordId",name:"discordId",type:"text",defaultValue:null===a||void 0===a?void 0:a.discordId,className:"form-input appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},"discordId-"+(null===a||void 0===a?void 0:a.discordId))})]}),Object(m.jsxs)("div",{className:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5",children:[Object(m.jsxs)("label",{htmlFor:"about",className:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2",children:["Notes",Object(m.jsx)("p",{className:"text-xs text-gray-500",children:"Optional"})]}),Object(m.jsx)("div",{className:"mt-1 sm:mt-0 sm:col-span-2",children:Object(m.jsx)("textarea",{id:"other",name:"other",rows:3,className:"form-textarea max-w-lg shadow-sm block w-full focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm border border-gray-300 bg-white rounded-md",defaultValue:null===a||void 0===a?void 0:a.other},"other-"+(null===a||void 0===a?void 0:a.other))})]})]})]}),(null===d||void 0===d?void 0:d.isAdmin)&&Object(m.jsxs)("div",{className:"mt-6 sm:mt-5 space-y-6 sm:space-y-5",children:[Object(m.jsxs)("div",{className:"mt-6",children:[Object(m.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Manage Collection"}),Object(m.jsx)("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:Object(m.jsx)("b",{children:"Admin Fields"})})]}),Object(m.jsx)(Ts,{title:"Accept Status",name:"acceptStatus",required:!0,values:ys,defaultValue:null!==(i=null===a||void 0===a?void 0:a.acceptStatus)&&void 0!==i?i:"WAITING"}),Object(m.jsx)(Cs,{title:"Featured",name:"featured",required:!1,defaultValue:null===a||void 0===a?void 0:a.featured}),Object(m.jsx)(Is,{title:"Feature From",date:N,setDate:S}),Object(m.jsx)(Is,{title:"Feature Until",date:I,minDate:new Date,setDate:A}),Object(m.jsx)(Cs,{title:"Reached",name:"reached",required:!1,defaultValue:null===a||void 0===a?void 0:a.reached}),Object(m.jsxs)("div",{className:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5",children:[Object(m.jsx)("label",{htmlFor:"ownerPubkey",className:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2",children:"Owner"}),Object(m.jsx)("div",{className:"mt-1 sm:mt-0 sm:col-span-2",children:Object(m.jsx)("input",{id:"ownerPubkey",name:"ownerPubkey",className:"form-textarea max-w-lg shadow-sm block w-full focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm border border-gray-300 bg-white rounded-md",defaultValue:null===a||void 0===a?void 0:a.ownerPubkey},"other-"+(null===a||void 0===a?void 0:a.ownerPubkey))})]})]}),Object(m.jsx)("div",{className:"pt-5",children:Object(m.jsxs)("div",{className:"flex justify-end items-center",children:[Object(m.jsx)("p",{className:"text-sm text-gray-700 text-center",children:"You can update submission later"}),Object(m.jsx)("button",{type:"submit",className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white focus:outline-none focus:ring-2 focus:ring-offset-2  bg-indigo-600 hover:bg-indigo-700 focus:ring-indigo-500 nightwind-prevent",children:"Submit"})]})})]})})})})}function Cs(e){var t=e.title,n=e.name,s=e.defaultValue,r=e.required;return Object(m.jsxs)("div",{className:"mt-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5",children:[Object(m.jsx)("label",{"aria-required":"true",htmlFor:n,className:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2",children:t}),Object(m.jsxs)("div",{className:"mt-1 sm:mt-0 sm:col-span-2 flex flex-row",children:[Object(m.jsxs)("div",{className:"flex items-center",children:[Object(m.jsx)("input",{id:"yes",name:n,type:"radio",value:"yes",defaultChecked:s,required:r,className:"form-radio focus:ring-indigo-500 h-4 w-4 text-indigo-600 dark:text-indigo-600 border-gray-300"}),Object(m.jsx)("label",{htmlFor:"yes",className:"ml-3 block text-sm font-medium text-gray-700",children:"Yes"})]}),Object(m.jsxs)("div",{className:"flex items-center ml-10",children:[Object(m.jsx)("input",{id:"no",name:n,type:"radio",value:"no",defaultChecked:!1===s,required:r,className:"form-radio focus:ring-indigo-500 h-4 w-4 text-indigo-600 dark:text-indigo-600 border-gray-300"}),Object(m.jsx)("label",{htmlFor:"no",className:"ml-3 block text-sm font-medium text-gray-700",children:"No"})]})]})]})}function Ts(e){var t=e.title,n=e.name,s=e.defaultValue,r=e.required,i=e.values;return Object(m.jsxs)("div",{className:"mt-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5",children:[Object(m.jsx)("label",{"aria-required":"true",htmlFor:n,className:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2",children:t}),Object(m.jsx)("div",{className:"mt-1 sm:mt-0 sm:col-span-2 flex flex-row",children:i.map((function(e){return Object(m.jsxs)("div",{className:"flex items-center mr-10",children:[Object(m.jsx)("input",{id:"v",name:n,type:"radio",value:e,defaultChecked:e===s,required:r,className:"form-radio focus:ring-indigo-500 h-4 w-4 text-indigo-600 dark:text-indigo-600 border-gray-300"}),Object(m.jsx)("label",{htmlFor:"v",className:"ml-3 block text-sm font-medium text-gray-700",children:e})]})}))})]})}function Is(e){var t=e.title,n=e.date,s=e.minDate,r=e.setDate;return Object(m.jsxs)("div",{className:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5",children:[Object(m.jsx)("label",{htmlFor:"about",className:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2",children:t}),Object(m.jsxs)("div",{className:"mt-1 sm:mt-0 sm:col-span-2 flex flex-row",children:[Object(m.jsx)("div",{className:"ml-1 flex-1",children:Object(m.jsx)(Kt.a,{className:"h-9 mt-1",selected:n,onChange:function(e){return r(e)},endDate:n,minDate:s,dateFormat:"d MMMM yyyy",nextMonthButtonLabel:">",previousMonthButtonLabel:"<",timeIntervals:30,customInput:Object(m.jsx)(Es,{})})}),Object(m.jsx)("div",{className:"ml-1 flex-1",children:Object(m.jsx)(Kt.a,{className:"h-9 mt-1",selected:n,onChange:function(e){return r(e)},dateFormat:"h:mm aa",timeIntervals:30,dropdownMode:"scroll",popperClassName:"pl-0 pr-0",customInput:Object(m.jsx)(Ws,{}),showTimeSelectOnly:!0,showTimeSelect:!0})})]})]})}function As(e){var t=r.a.useState({discord:"",website:"",twitter:"",instagram:"",howrare:"",alphaart:""}),n=Object(o.a)(t,2),s=n[0],i=n[1],a=r.a.useState({discord:"",website:"",twitter:"",instagram:"",alphaart:"",howrare:""}),l=Object(o.a)(a,2),d=l[0],u=l[1];r.a.useEffect((function(){var t,n,s,r,a,c,o={discord:null!==(t=Jn("discord",e.links))&&void 0!==t?t:"",website:null!==(n=Jn("website",e.links))&&void 0!==n?n:"",twitter:null!==(s=Jn("twitter",e.links))&&void 0!==s?s:"",instagram:null!==(r=Jn("instagram",e.links))&&void 0!==r?r:"",howrare:null!==(a=Jn("howrare",e.links))&&void 0!==a?a:"",alphaart:null!==(c=Jn("alphaart",e.links))&&void 0!==c?c:""};i(o),u(o)}),[]);var b=function(t,n){var s,r=Object(c.a)(Object(c.a)({},d),{},Object(mt.a)({},t,n)),i=[];for(var a in r){var o=r[a];0!==o.length&&(0!==o.replace(Gn[a],"").length&&i.push(o))}u(r),null===(s=e.onChangeLinks)||void 0===s||s.call(e,i.sort())};return Object(m.jsxs)("div",{className:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5",children:[Object(m.jsx)("label",{htmlFor:"links",className:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2",children:e.title||"Links"}),Object(m.jsxs)("div",{className:"mt-1 sm:mt-0 sm:col-span-2",children:[Object(m.jsx)(Fs,{website:"website",link:s.website,onChange:b}),Object(m.jsx)(Fs,{website:"instagram",className:"mt-2",link:s.instagram,onChange:b}),e.isAdmin&&Object(m.jsx)(Fs,{website:"alphaart",className:"mt-2",link:s.alphaart,onChange:b})]})]})}function Ps(e){var t=e.link,n=e.updateLink,s=e.website;return Object(m.jsxs)("div",{className:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5",children:[Object(m.jsx)("label",{htmlFor:"links",className:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2",children:e.title||"Links"}),Object(m.jsx)("div",{className:"mt-1 sm:mt-0 sm:col-span-2",children:Object(m.jsx)(Fs,{website:s,link:t||"",onChange:n})})]})}function Fs(e){return Object(m.jsxs)("div",{className:g("max-w-lg flex rounded-md shadow-sm",e.className),children:["website"!==e.website&&Object(m.jsx)("span",{className:"inline-flex w-44 items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 sm:text-sm",children:Gn[e.website]}),Object(m.jsx)("input",{type:"text",name:e.website,id:e.website,defaultValue:e.link.replace(Gn[e.website],""),onChange:function(t){var n;return null===(n=e.onChange)||void 0===n?void 0:n.call(e,e.website,Gn[e.website]+t.currentTarget.value)},className:g("form-input flex-1 block w-full focus:ring-indigo-500 focus:border-indigo-500 min-w-0 sm:text-sm border-gray-300","website"===e.website?"rounded-md":"rounded-none rounded-r-md ")})]})}var Es=Object(s.forwardRef)((function(e,t){return Object(m.jsx)("div",{children:Object(m.jsxs)("div",{className:"mt-1 relative rounded-md shadow-sm",children:[Object(m.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none ",children:Object(m.jsx)(N.b,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),Object(m.jsx)("input",Object(c.a)(Object(c.a)({},e),{},{className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-9 sm:text-sm border-gray-300 rounded-md dark:text-white dark:bg-black border",style:{height:38}}))]})})})),Ws=Object(s.forwardRef)((function(e,t){return Object(m.jsx)("div",{children:Object(m.jsxs)("div",{className:"mt-1 relative rounded-md shadow-sm",children:[Object(m.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none ",children:Object(m.jsx)(N.f,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),Object(m.jsx)("input",Object(c.a)(Object(c.a)({},e),{},{className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-9 sm:text-sm border-gray-300 rounded-md dark:text-white dark:bg-black border",style:{height:38}}))]})})}));function Ls(e){var t=Object(p.d)((function(e){return{accessToken:e.accessToken}})).accessToken,n=r.a.useState(!1),s=Object(o.a)(n,2),i=s[0],a=s[1],l=Object(qn.a)({accept:["image/png","image/gif","image/jpeg"],maxFiles:1,maxSize:2097152,onDrop:function(t){e.onChange({type:"wait-for-upload",file:t[0],preview:URL.createObjectURL(t[0])})}}),d=l.getRootProps,u=l.open,b=l.getInputProps,f="thumbnail"===e.field?"h-24 w-24 rounded-full":"max-w-lg rounded-md h-32",j="thumbnail"===e.field?"h-24 w-24 rounded-full":"w-96 rounded-md h-32";return Object(m.jsxs)("div",{className:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-center sm:border-t sm:border-gray-200 sm:pt-5",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{htmlFor:"photo",className:"block text-sm font-medium text-gray-700",children:"banner"===e.field?"Banner":"featuredImage"===e.field?"Featured Image":"Thumbnail"}),Object(m.jsx)("p",{className:"block text-xs text-gray-600",children:"banner"===e.field?"1600x900 suggested":"featuredImage"===e.field?"960x640 suggested":"800x800 suggested"})]}),"original"===e.state.type&&Object(m.jsx)("div",{className:"mt-1 sm:mt-0 sm:col-span-2",children:Object(m.jsxs)("div",{className:"flex items-center",children:[Object(m.jsxs)("span",{className:"".concat(f," overflow-hidden bg-gray-100 border-2 border-gray-300"),children:[Object(m.jsx)("img",{src:e.state.uri,className:"h-full w-full text-gray-300",alt:""}),Object(m.jsx)("input",Object(c.a)({},b()))]}),Object(m.jsx)("button",{type:"button",onClick:function(){console.log("change!"),u()},className:"ml-5 bg-white py-2 px-3 border border-gray-300 rounded-md shadow-sm text-sm leading-4 font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Change"})]})}),"new"===e.state.type&&Object(m.jsx)("div",{className:"mt-1 sm:mt-0 sm:col-span-2",children:Object(m.jsxs)("div",{className:"flex items-center",children:[Object(m.jsx)("span",{className:"".concat(f," overflow-hidden bg-gray-100 border-2 border-gray-300 border"),children:Object(m.jsx)("img",{src:e.state.uri,className:"h-full w-full text-gray-300",alt:""})}),Object(m.jsx)("button",{type:"button",onClick:function(){return e.onChange({type:"original",uri:e.original})},className:"ml-5 bg-white py-2 px-3 border border-gray-300 rounded-md shadow-sm text-sm leading-4 font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"})]})}),("reset"===e.state.type||"wait-for-upload"===e.state.type)&&Object(m.jsx)("div",{className:"mt-1 sm:mt-0 sm:col-span-2",children:Object(m.jsxs)("div",{className:"flex items-center",children:[Object(m.jsx)("div",Object(c.a)(Object(c.a)({},d({className:"".concat(j," overflow-hidden bg-gray-100 border-2 border-gray-300 border-dashed")})),{},{style:"wait-for-upload"===e.state.type?{backgroundImage:"url(".concat(e.state.preview,")"),backgroundSize:"cover"}:{},children:Object(m.jsx)("input",Object(c.a)({},b()))})),"reset"===e.state.type?Object(m.jsx)("button",{type:"button",onClick:u,className:"ml-5 bg-white py-2 px-3 border border-gray-300 rounded-md shadow-sm text-sm leading-4 font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Select Image"}):Object(m.jsx)("button",{type:"button",onClick:function(){if("wait-for-upload"===e.state.type&&"undefined"!==typeof(null===t||void 0===t?void 0:t.token)){a(!0);var n=new FormData;n.append("file",e.state.file),console.warn(e.state.file.type);var s=e.state.file.type.split("/")[1];fetch("".concat(K.a,"/api/v1/file/image?field=").concat(e.field,"&type=").concat(s),{method:"POST",headers:{authorization:t.token},body:n}).then((function(e){return e.json()})).then((function(t){console.log(t),t.url?e.onChange({type:"new",uri:t.url}):Object(H.a)("unable to upload image",void 0,"error"),a(!1)})).catch((function(e){console.error(e),a(!1),Object(H.a)("unable to upload image",void 0,"error")}))}},className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white focus:outline-none focus:ring-2 focus:ring-offset-2 bg-indigo-600 hover:bg-indigo-700 focus:ring-indigo-500 nightwind-prevent",children:"Upload Image"}),i&&Object(m.jsx)(y,{className:"ml-2",size:32,color:"white"})]})})]})}n(437);var Bs=n(211);function Ds(){var e=cs.b.Mainnet,t=Object(s.useMemo)((function(){return Object(d.j)(e)}),[e]),n=Object(s.useMemo)((function(){return[Object(os.a)(),Object(ls.a)(),Object(ds.a)(),Object(us.a)(),Object(bs.a)({network:e}),Object(ms.a)({network:e})]}),[e]);return Object(m.jsx)(p.a,{children:Object(m.jsx)(is.a,{endpoint:t,children:Object(m.jsx)(as.a,{wallets:n,autoConnect:!0,children:Object(m.jsxs)(We.a,{children:[Object(m.jsx)(C.a,{children:Object(m.jsx)("script",{children:Bs.init()})}),Object(m.jsx)(b.a,{children:Object(m.jsxs)(k.c,{children:[Object(m.jsx)(k.a,{exact:!0,path:"/",children:Object(m.jsx)(Ln,{})}),Object(m.jsx)(k.a,{exact:!0,path:"/faq",children:Object(m.jsx)(Kn,{})}),Object(m.jsx)(k.a,{exact:!0,path:"/collection/:slug/activity",children:Object(m.jsx)(kt,{})}),Object(m.jsx)(k.a,{exact:!0,path:"/collection/:slug",children:Object(m.jsx)(ut,{})}),Object(m.jsx)(k.a,{exact:!0,path:"/collection/:slug/edit",children:Object(m.jsx)(ns,{})}),Object(m.jsx)(k.a,{exact:!0,path:"/t/:pubkey",children:Object(m.jsx)(gn,{})}),Object(m.jsx)(k.a,{exact:!0,path:"/user/:pubkey",children:Object(m.jsx)(Tn,{})}),Object(m.jsx)(k.a,{exact:!0,path:"/privacy",children:Object(m.jsx)(Bn,{})}),Object(m.jsx)(k.a,{exact:!0,path:"/stake",children:Object(m.jsx)(Un,{})}),Object(m.jsx)(k.a,{exact:!0,path:"/submissions",children:Object(m.jsx)(vs,{})}),Object(m.jsx)(k.a,{exact:!0,path:"/submissions/:id",children:Object(m.jsx)(Ns,{})})]})}),Object(m.jsx)(rs,{})]})})})})}a.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(Ds,{})}),document.getElementById("root"))},8:function(e,t,n){"use strict";n.d(t,"d",(function(){return j})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return y}));var s=n(7),r=n(14),i=n(49),a=n(6),c=n(0),o=n.n(c),l=n(12),d=n(24),u=n(1),b={isConnected:!1,filterIsInProgress:!1,accountBalance:0,collectionMetasStatus:{},collectionMetas:{},filters:[],orderBy:void 0,tokenList:[],filterIndex:0,userNFTs:[],userTokenList:[],errors:{},notifications:[],escrows:[],offers:[],nftOffers:{},hasUser:"unknown",users:{},floorPrices:{}},m=o.a.createContext(b),f=o.a.createContext(null);function j(e){return e(o.a.useContext(m))}function h(){return o.a.useContext(f)}function x(e,t){var n,s,c,o,l,d;switch(t.type){case"SetWallet":var u,b,m=!0===(null===(u=t.wallet)||void 0===u?void 0:u.connected)||!0===(null===(b=t.wallet)||void 0===b?void 0:b.isConnected);return Object(a.a)(Object(a.a)({},e),{},{wallet:t.wallet,isConnected:m,userNFTs:m?e.userNFTs:[]});case"SetError":return Object(a.a)(Object(a.a)({},e),{},{errors:Object(a.a)(Object(a.a)({},e.errors),{},Object(i.a)({},t.where,t.error))});case"SetOfferAccounts":return Object(a.a)(Object(a.a)({},e),{},{offers:t.accounts});case"SetEscrowAccounts":return Object(a.a)(Object(a.a)({},e),{},{escrows:t.accounts});case"SetUserNFTs":return Object(a.a)(Object(a.a)({},e),{},{userNFTs:t.nfts});case"SetUserTokens":return Object(a.a)(Object(a.a)({},e),{},{userTokenList:t.tokens});case"SetBalance":return Object(a.a)(Object(a.a)({},e),{},{accountBalance:t.balance});case"AppendTokenList":var f;return Object(a.a)(Object(a.a)({},e),{},{tokenList:[].concat(Object(r.a)(e.tokenList),Object(r.a)(t.tokenList)),nextPageToken:t.nextPageToken,expectedTokenCount:null!==(f=t.expectedTokenCount)&&void 0!==f?f:e.expectedTokenCount});case"ResetTokenList":return Object(a.a)(Object(a.a)({},e),{},{tokenList:[],expectedTokenCount:0,nextPageToken:void 0});case"AddCollectionMeta":return Object(a.a)(Object(a.a)({},e),{},{collectionMetas:Object(a.a)(Object(a.a)({},e.collectionMetas),{},(c={},Object(i.a)(c,null===(n=t.data.collection)||void 0===n?void 0:n.id,t.data),Object(i.a)(c,null===(s=t.data.collection)||void 0===s?void 0:s.slug,t.data),c)),collectionMetasStatus:Object(a.a)(Object(a.a)({},e.collectionMetasStatus),{},(d={},Object(i.a)(d,null===(o=t.data.collection)||void 0===o?void 0:o.id,!0),Object(i.a)(d,null===(l=t.data.collection)||void 0===l?void 0:l.slug,!0),d))});case"ChangeOrder":return Object(a.a)(Object(a.a)({},e),{},{orderBy:t.orderBy,filterIsInProgress:!0,filterIndex:e.filterIndex+1,nextPageToken:void 0});case"FilterResetProgress":return Object(a.a)(Object(a.a)({},e),{},{filterIsInProgress:t.value});case"AddFilter":return Object(a.a)(Object(a.a)({},e),{},{filters:p([].concat(Object(r.a)(e.filters),[t.filter])),filterIsInProgress:!0,filterIndex:e.filterIndex+1,nextPageToken:void 0});case"SetFiltersAndOrder":return Object(a.a)(Object(a.a)({},e),{},{filters:p(Object(r.a)(t.filters)),orderBy:t.orderBy||e.orderBy,filterIsInProgress:!0,filterIndex:e.filterIndex+1,nextPageToken:void 0});case"ForceFilter":return Object(a.a)(Object(a.a)({},e),{},{filterIsInProgress:!0,filterIndex:e.filterIndex+1,nextPageToken:void 0});case"ResetCollectionInfo":return Object(a.a)(Object(a.a)({},e),{},{tokenList:[],expectedTokenCount:0,filterIsInProgress:!0,filterIndex:1,filters:[{type:"status",status:"BUY_NOW"}],nextPageToken:void 0});case"AddUser":return Object(a.a)(Object(a.a)({},e),{},{users:Object(a.a)(Object(a.a)({},e.users),{},Object(i.a)({},t.user.pubkey,t.user))});case"RemoveFilter":return Object(a.a)(Object(a.a)({},e),{},{filterIsInProgress:!0,filterIndex:e.filterIndex+1,nextPageToken:void 0,filters:e.filters.filter((function(e){return e.type!==t.filter.type||("status"===t.filter.type?t.filter.status!==e.status:t.filter.key!==e.key||t.filter.value!==e.value)}))});case"AddNotification":return Object(a.a)(Object(a.a)({},e),{},{notifications:[].concat(Object(r.a)(e.notifications),[t.alert])});case"RemoveNotification":return Object(a.a)(Object(a.a)({},e),{},{notifications:e.notifications.filter((function(e){return e.id!==t.id}))});case"SetNFTOffers":return Object(a.a)(Object(a.a)({},e),{},{nftOffers:Object(a.a)(Object(a.a)({},e.nftOffers),{},Object(i.a)({},t.publicKey,t.offers))});case"AddFloorPrice":return Object(a.a)(Object(a.a)({},e),{},{floorPrices:Object(a.a)(Object(a.a)({},e.floorPrices),{},Object(i.a)({},t.collection,t.price))});case"SetUser":return t.user?Object(a.a)(Object(a.a)({},e),{},{user:t.user,users:Object(a.a)(Object(a.a)({},e.users),{},Object(i.a)({},t.user.pubkey,t.user))}):Object(a.a)(Object(a.a)({},e),{},{user:t.user});case"SetHasUser":return Object(a.a)(Object(a.a)({},e),{},{hasUser:t.hasUser});case"SetAccessToken":return Object(a.a)(Object(a.a)({},e),{},{accessToken:{expAt:t.expAt,of:t.of,token:t.token,admin:t.admin}})}}function p(e){var t=new Set;return e.filter((function(e){var n=JSON.stringify(e);return!t.has(n)&&t.add(n)}))}function g(){return Object(a.a)(Object(a.a)({},b),{},{connection:new l.a(Object(d.g)())})}var v={dispatch:null,getState:function(){return{}}};function y(e){var t=o.a.useReducer(x,void 0,g),n=Object(s.a)(t,2),r=n[0],i=n[1];return v.dispatch=i,v.getState=function(){return r},Object(u.jsx)(m.Provider,{value:r,children:Object(u.jsx)(f.Provider,{value:i,children:e.children})})}},99:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return O}));var s=n(18),r=n(6),i=n(3),a=n.n(i),c=n(14),o=n(10),l=n(15),d=n(5),u=n(27),b=n(12),m=n(34),f=n(38),j=n(24),h=n(33),x=n.n(h),p="Failed to find account",g=new Map;function v(e,t){return y.apply(this,arguments)}function y(){return(y=Object(d.a)(a.a.mark((function e(t,n){var s,r,i,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=n.toBase58(),!g.has(s)){e.next=3;break}return e.abrupt("return",g.get(s));case 3:return e.next=5,Object(m.b)(n);case 5:return r=e.sent,e.next=8,t.getAccountInfo(r,"singleGossip");case 8:if(i=e.sent){e.next=11;break}throw new Error("metadata account could not found");case 11:return c=Object(f.i)(i.data),g.set(s,c),e.abrupt("return",c);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var O=function(){function t(e){Object(o.a)(this,t),this.connection=void 0,this.transactionConnection=void 0,this.connection=e}return Object(l.a)(t,[{key:"sendTransaction",value:function(){var e=Object(d.a)(a.a.mark((function e(t,n,s,r){var i,o,l,d,u,b,f,j,h,x,p,g,v,y,O,w,k,N;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.f)(this.connection);case 2:if(d=e.sent,u=d.blockhash,b=d.lastValidBlockHeight,n.feePayer=t,n.recentBlockhash=u,f=null!==(i=this.transactionConnection)&&void 0!==i?i:this.connection,!(s.keySigners&&(null!==(o=null===(l=s.keySigners)||void 0===l?void 0:l.length)&&void 0!==o?o:0)>0)){e.next=22;break}if(j=Object(c.a)(s.keySigners),r&&j.push.apply(j,Object(c.a)(r)),n.sign.apply(n,Object(c.a)(j)),!s.secondSigner){e.next=15;break}return e.next=15,null===(h=(x=s.secondSigner).signTransaction)||void 0===h?void 0:h.call(x,n);case 15:return p=n.serialize(),e.next=18,f.sendRawTransaction(p,{skipPreflight:!0});case 18:return g=e.sent,e.abrupt("return",{signature:g,lastValidBlockHeight:b});case 22:if(!s.walletSigner){e.next=36;break}if(r&&r.length>0&&n.partialSign.apply(n,Object(c.a)(r)),!s.secondSigner){e.next=27;break}return e.next=27,null===(O=(w=s.secondSigner).signTransaction)||void 0===O?void 0:O.call(w,n);case 27:return e.next=29,null===(v=(y=s.walletSigner).signTransaction)||void 0===v?void 0:v.call(y,n);case 29:return k=e.sent,e.next=32,f.sendRawTransaction(k.serialize(),{skipPreflight:!0});case 32:return N=e.sent,e.abrupt("return",{signature:N,lastValidBlockHeight:b});case 36:throw new Error("there is no signer");case 37:case"end":return e.stop()}}),e,this)})));return function(t,n,s,r){return e.apply(this,arguments)}}()},{key:"getParsedTokenAccountsByOwner",value:function(){var e=Object(d.a)(a.a.mark((function e(t,n){var s,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.connection.getParsedTokenAccountsByOwner(t,{mint:n},"processed");case 2:if(s=e.sent,1===(r=s.value.filter((function(e){return e.account.data.parsed.info.tokenAmount.uiAmount>0}))).length){e.next=6;break}throw new Error(p);case 6:return e.abrupt("return",r[0].pubkey);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getTokenLargestAccount",value:function(){var e=Object(d.a)(a.a.mark((function e(t){var n,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.connection.getTokenLargestAccounts(t,"processed");case 2:if(n=e.sent,1===(s=n.value.filter((function(e){var t;return(null!==(t=e.uiAmount)&&void 0!==t?t:0)>0}))).length){e.next=6;break}throw new Error(p);case 6:return e.abrupt("return",s[0].address);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"list",value:function(){var e=Object(d.a)(a.a.mark((function e(t,n,s,i,c){var o,l,d,m,h,x,p;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.d.getMinBalanceRentForExemptAccount(this.connection);case 2:return o=e.sent,l=b.b.generate(),d=null!==c&&void 0!==c?c:b.b.generate(),m=new b.h,e.next=8,this.getParsedTokenAccountsByOwner(t,n);case 8:return h=e.sent,m.add(b.g.createAccount({programId:u.c,space:u.b.span,lamports:o,fromPubkey:t,newAccountPubkey:l.publicKey})),m.add(u.d.createInitAccountInstruction(u.c,n,l.publicKey,t)),m.add(u.d.createTransferInstruction(u.c,h,l.publicKey,t,[],1)),e.next=14,this.connection.getMinimumBalanceForRentExemption(f.a);case 14:return x=e.sent,m.add(b.g.createAccount({fromPubkey:t,lamports:x,newAccountPubkey:d.publicKey,programId:j.d,space:f.a})),m.add(Object(f.m)(s,d.publicKey,t,j.b,l.publicKey,n)),e.next=19,this.sendTransaction(t,m,i,[d,l]);case 19:return p=e.sent,e.abrupt("return",Object(r.a)(Object(r.a)({},p),{},{listingID:d.publicKey}));case 21:case"end":return e.stop()}}),e,this)})));return function(t,n,s,r,i){return e.apply(this,arguments)}}()},{key:"exchange",value:function(){var e=Object(d.a)(a.a.mark((function e(t,n,s,r,i){var c,o,l,d,h,x,p,g,y,O,w,k,N;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=new b.h,e.next=3,Object(m.d)();case 3:return d=e.sent,e.next=6,Object(m.b)(s);case 6:return h=e.sent,e.next=9,v(this.connection,s);case 9:return x=e.sent,e.next=12,u.d.getAssociatedTokenAddress(u.a,u.c,s,t);case 12:return p=e.sent,g=!1,e.prev=14,e.next=17,this.connection.getAccountInfo(p,"confirmed");case 17:e.sent&&(g=!0),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(14),console.warn(e.t0);case 24:return g||l.add(u.d.createAssociatedTokenAccountInstruction(u.a,u.c,s,p,t,t)),e.next=27,this.connection.getAccountInfo(r,"confirmed");case 27:if(y=e.sent){e.next=30;break}throw new Error("escrow account could not found");case 30:if(O=Object(f.h)(y.data),console.log("escrow",O.toString()),Number(O.price)===Number(n.price)){e.next=34;break}throw new Error("Price changed");case 34:return e.next=36,Object(m.e)(n.initializerPubkey);case 36:return k=e.sent,w=Object(f.l)(n.price,t,p,r,O.initializerPubkey,k,O.tempTokenAccountPubkey,d,s,h,j.b,null!==(c=null===(o=x.data.creators)||void 0===o?void 0:o.map((function(e){return e.address})))&&void 0!==c?c:[]),l.add(w),e.next=41,this.sendTransaction(t,l,i);case 41:return N=e.sent,e.abrupt("return",N);case 43:case"end":return e.stop()}}),e,this,[[14,21]])})));return function(t,n,s,r,i){return e.apply(this,arguments)}}()},{key:"unlist",value:function(){var e=Object(d.a)(a.a.mark((function e(t,n,s,r){var i,c,o,l,d,j,h;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new b.h,e.next=3,Object(m.d)();case 3:return c=e.sent,e.next=6,u.d.getAssociatedTokenAddress(u.a,u.c,n,t);case 6:return o=e.sent,e.next=9,this.connection.getAccountInfo(s,"confirmed");case 9:if(l=e.sent){e.next=12;break}throw new Error("escrow account could not found");case 12:return d=Object(f.h)(l.data),console.log("escrow",d.toString()),j=!1,e.prev=15,e.next=18,this.connection.getAccountInfo(o,"confirmed");case 18:e.sent&&(j=!0),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(15),console.warn(e.t0);case 25:return j||i.add(u.d.createAssociatedTokenAccountInstruction(u.a,u.c,n,o,t,t)),h=Object(f.q)(t,o,s,d.tempTokenAccountPubkey,c,n),i.add(h),e.abrupt("return",this.sendTransaction(t,i,r));case 29:case"end":return e.stop()}}),e,this,[[15,22]])})));return function(t,n,s,r){return e.apply(this,arguments)}}()},{key:"updateListing",value:function(){var e=Object(d.a)(a.a.mark((function e(t,n,s,r,i){var c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=new b.h).add(Object(f.s)(r,t,n,s)),e.abrupt("return",this.sendTransaction(t,c,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,s,r,i){return e.apply(this,arguments)}}()},{key:"offer",value:function(){var e=Object(d.a)(a.a.mark((function e(t,n,s,i,c,o){var l,d,u,m;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=null!==o&&void 0!==o?o:b.b.generate(),d=new b.h,e.next=4,this.connection.getMinimumBalanceForRentExemption(f.c);case 4:if(u=e.sent,!(i<u)){e.next=7;break}throw new Error("Offer price can't be less than Rent Exemption");case 7:return console.log(l.publicKey.toBase58()),d.add(b.g.createAccount({fromPubkey:t,lamports:i,newAccountPubkey:l.publicKey,programId:j.d,space:f.c})),d.add(Object(f.o)(i,Math.round(n.getTime()/1e3),t,s,l.publicKey)),e.next=12,this.sendTransaction(t,d,c,[l]);case 12:return m=e.sent,e.abrupt("return",Object(r.a)(Object(r.a)({},m),{},{offerID:l.publicKey}));case 14:case"end":return e.stop()}}),e,this)})));return function(t,n,s,r,i,a){return e.apply(this,arguments)}}()},{key:"nftOffer",value:function(){var e=Object(d.a)(a.a.mark((function e(t,n,i,c,o){var l,d,u,j,h,x,p,g,v,y,O;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d=null!==(l=o.seed)&&void 0!==l?l:b.b.generate().publicKey.toBase58().substring(0,8),e.next=3,Object(m.c)(t,d);case 3:u=e.sent,j=[],h=Object(s.a)(c),e.prev=6,h.s();case 8:if((x=h.n()).done){e.next=16;break}return p=x.value,e.next=12,this.getTokenLargestAccount(p);case 12:g=e.sent,j.push(g);case 14:e.next=8;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(6),h.e(e.t0);case 21:return e.prev=21,h.f(),e.finish(21);case 24:return e.next=26,Object(m.e)(t);case 26:return v=e.sent,(y=new b.h).add(Object(f.n)(Math.round(n.getTime()/1e3),t,i,u,d,v,c,j)),e.next=31,this.sendTransaction(t,y,o,[]);case 31:return O=e.sent,e.abrupt("return",Object(r.a)(Object(r.a)({},O),{},{offerID:u}));case 33:case"end":return e.stop()}}),e,this,[[6,18,21,24]])})));return function(t,n,s,r,i){return e.apply(this,arguments)}}()},{key:"cancelOffer",value:function(){var e=Object(d.a)(a.a.mark((function e(t,n,r){var i,c,o,l,d,u,j,h,x;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.connection.getAccountInfo(n,"confirmed");case 2:if(i=e.sent){e.next=5;break}throw new Error("escrow account could not found");case 5:if(c=Object(f.j)(i.data),console.log("offer data",c.toString()),o=new b.h,!(c.tokens.length>0)){e.next=34;break}d=[],u=Object(s.a)(c.tokens),e.prev=11,u.s();case 13:if((j=u.n()).done){e.next=21;break}return h=j.value,e.next=17,this.getTokenLargestAccount(h);case 17:x=e.sent,d.push(x);case 19:e.next=13;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(11),u.e(e.t0);case 26:return e.prev=26,u.f(),e.finish(26);case 29:return e.t1=d,e.next=32,Object(m.d)();case 32:e.t2=e.sent,l={accounts:e.t1,pda:e.t2};case 34:return o.add(Object(f.f)(t,n,l)),e.abrupt("return",this.sendTransaction(t,o,r));case 36:case"end":return e.stop()}}),e,this,[[11,23,26,29]])})));return function(t,n,s){return e.apply(this,arguments)}}()},{key:"closeOffer",value:function(){var e=Object(d.a)(a.a.mark((function e(t,n,r){var i,c,o,l,d,u,j,h,x;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new b.h,e.next=3,this.connection.getAccountInfo(n,"confirmed");case 3:if(c=e.sent){e.next=6;break}throw new Error("offer account could not found");case 6:if(o=Object(f.j)(c.data),console.log("closeing the offer with data",o.toString()),!(o.tokens.length>0)){e.next=34;break}d=[],u=Object(s.a)(o.tokens),e.prev=11,u.s();case 13:if((j=u.n()).done){e.next=21;break}return h=j.value,e.next=17,this.getTokenLargestAccount(h);case 17:x=e.sent,d.push(x);case 19:e.next=13;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(11),u.e(e.t0);case 26:return e.prev=26,u.f(),e.finish(26);case 29:return e.t1=d,e.next=32,Object(m.d)();case 32:e.t2=e.sent,l={accounts:e.t1,pda:e.t2};case 34:return i.add(Object(f.g)(o.initializerPubkey,n,t,l)),e.abrupt("return",this.sendTransaction(t,i,r));case 36:case"end":return e.stop()}}),e,this,[[11,23,26,29]])})));return function(t,n,s){return e.apply(this,arguments)}}()},{key:"acceptNFTOffer",value:function(){var e=Object(d.a)(a.a.mark((function e(t,n,r,i,c){var o,l,d,h,x,p,g,v,y,O,w,k;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(2===i.state){e.next=2;break}throw new Error("it is not an NFT offer");case 2:return console.log("offer",i.toString()),e.next=5,Object(m.b)(r);case 5:return o=e.sent,e.next=8,Object(m.d)();case 8:return l=e.sent,e.next=11,Object(m.e)(t);case 11:return d=e.sent,e.next=14,this.getTokenLargestAccount(r);case 14:return h=e.sent,e.next=17,u.d.getAssociatedTokenAddress(u.a,u.c,r,i.initializerPubkey);case 17:return x=e.sent,p=!1,e.prev=19,e.next=22,this.connection.getAccountInfo(x,"confirmed");case 22:e.sent&&(p=!0),e.next=29;break;case 26:e.prev=26,e.t0=e.catch(19),console.warn(e.t0);case 29:g=new b.h,p||g.add(u.d.createAssociatedTokenAccountInstruction(u.a,u.c,r,x,i.initializerPubkey,t)),v=[],y=Object(s.a)(i.tokens),e.prev=33,y.s();case 35:if((O=y.n()).done){e.next=43;break}return w=O.value,e.next=39,this.getTokenLargestAccount(w);case 39:k=e.sent,v.push(k);case 41:e.next=35;break;case 43:e.next=48;break;case 45:e.prev=45,e.t1=e.catch(33),y.e(e.t1);case 48:return e.prev=48,y.f(),e.finish(48);case 51:return g.add(Object(f.d)(t,h,i.initializerPubkey,x,n,d,r,o,j.b,l,v)),g.add(u.d.createCloseAccountInstruction(u.c,h,t,t,[])),e.abrupt("return",this.sendTransaction(t,g,c));case 54:case"end":return e.stop()}}),e,this,[[19,26],[33,45,48,51]])})));return function(t,n,s,r,i){return e.apply(this,arguments)}}()},{key:"acceptOffer",value:function(){var e=Object(d.a)(a.a.mark((function e(t,n,s,r){var i,c,o,l,d,h,x,p,g,v,y,O,w;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.connection.getAccountInfo(n,"confirmed");case 2:if(o=e.sent){e.next=5;break}throw new Error("offer account could not found");case 5:if(2!==(l=Object(f.j)(o.data)).state){e.next=8;break}return e.abrupt("return",this.acceptNFTOffer(t,n,s,l,r));case 8:return console.log("offer",l.toString()),e.next=11,Object(m.b)(s);case 11:return d=e.sent,e.next=14,this.connection.getAccountInfo(d,"confirmed");case 14:if(h=e.sent){e.next=17;break}throw new Error("metadata account could not found: "+d.toBase58());case 17:return x=Object(f.i)(h.data),e.next=20,u.d.getAssociatedTokenAddress(u.a,u.c,s,t);case 20:return p=e.sent,e.next=23,u.d.getAssociatedTokenAddress(u.a,u.c,s,l.initializerPubkey);case 23:return g=e.sent,v=!1,e.prev=25,e.next=28,this.connection.getAccountInfo(g,"confirmed");case 28:e.sent&&(v=!0),e.next=35;break;case 32:e.prev=32,e.t0=e.catch(25),console.warn(e.t0);case 35:return y=new b.h,v||y.add(u.d.createAssociatedTokenAccountInstruction(u.a,u.c,s,g,l.initializerPubkey,t)),e.next=39,Object(m.e)(t);case 39:return O=e.sent,w=Object(f.e)(t,p,l.initializerPubkey,g,n,O,s,d,j.b,null!==(i=null===(c=x.data.creators)||void 0===c?void 0:c.map((function(e){return e.address})))&&void 0!==i?i:[]),y.add(w),y.add(u.d.createCloseAccountInstruction(u.c,p,t,t,[])),e.abrupt("return",this.sendTransaction(t,y,r));case 44:case"end":return e.stop()}}),e,this,[[25,32]])})));return function(t,n,s,r){return e.apply(this,arguments)}}()},{key:"stake",value:function(){var e=Object(d.a)(a.a.mark((function e(t,n,s){var i,c,o,l,d,u,j;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.e)(t);case 2:return i=e.sent,e.next=5,Object(m.b)(n);case 5:return c=e.sent,e.next=8,this.connection.getParsedTokenAccountsByOwner(t,{mint:n},"processed");case 8:if(o=e.sent,1===(l=o.value.filter((function(e){return e.account.data.parsed.info.tokenAmount.uiAmount>0}))).length){e.next=12;break}throw new Error(p);case 12:return d=l[0].pubkey,(u=new b.h).add(Object(f.p)(t,i,n,c,d,s.stakeSlots)),e.next=17,this.sendTransaction(t,u,s);case 17:return j=e.sent,e.abrupt("return",Object(r.a)({},j));case 19:case"end":return e.stop()}}),e,this)})));return function(t,n,s){return e.apply(this,arguments)}}()},{key:"stakeMulti",value:function(){var e=Object(d.a)(a.a.mark((function e(t,n,i){var c,o,l,d,u,j,h,x,g,v;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.e)(t);case 2:c=e.sent,o=new b.h,l=Object(s.a)(n),e.prev=5,l.s();case 7:if((d=l.n()).done){e.next=22;break}return u=d.value,e.next=11,Object(m.b)(u);case 11:return j=e.sent,e.next=14,this.connection.getParsedTokenAccountsByOwner(t,{mint:u},"processed");case 14:if(h=e.sent,1===(x=h.value.filter((function(e){return e.account.data.parsed.info.tokenAmount.uiAmount>0}))).length){e.next=18;break}throw new Error(p);case 18:g=x[0].pubkey,o.add(Object(f.p)(t,c,u,j,g,i.stakeSlots));case 20:e.next=7;break;case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(5),l.e(e.t0);case 27:return e.prev=27,l.f(),e.finish(27);case 30:return e.next=32,this.sendTransaction(t,o,i);case 32:return v=e.sent,e.abrupt("return",Object(r.a)({},v));case 34:case"end":return e.stop()}}),e,this,[[5,24,27,30]])})));return function(t,n,s){return e.apply(this,arguments)}}()},{key:"unstake",value:function(){var e=Object(d.a)(a.a.mark((function e(t,n,s){var i,c,o,l,d,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.e)(t);case 2:return i=e.sent,e.next=5,this.connection.getTokenLargestAccounts(n,"processed");case 5:if(c=e.sent,1===(o=c.value.filter((function(e){var t;return(null!==(t=e.uiAmount)&&void 0!==t?t:0)>0}))).length){e.next=9;break}throw new Error(p);case 9:return l=o[0].address,(d=new b.h).add(Object(f.r)(t,i,n,l)),e.next=14,this.sendTransaction(t,d,s);case 14:return u=e.sent,e.abrupt("return",Object(r.a)({},u));case 16:case"end":return e.stop()}}),e,this)})));return function(t,n,s){return e.apply(this,arguments)}}()},{key:"makeHeader",value:function(t,n){var s=Object(r.a)({},n);s.by=t.toBase58();var i=JSON.stringify(s),a=e.from(i,"utf8");return x.a.encode(a)}}]),t}()}).call(this,n(13).Buffer)}},[[468,1,2]]]);